(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function yI(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Dp={exports:{}},cu={};var ew;function _I(){if(ew)return cu;ew=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return cu.Fragment=t,cu.jsx=e,cu.jsxs=e,cu}var nw;function bI(){return nw||(nw=1,Dp.exports=_I()),Dp.exports}var b=bI(),Mp={exports:{}},Mt={};var iw;function vI(){if(iw)return Mt;iw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),v=Symbol.iterator;function E(z){return z===null||typeof z!="object"?null:(z=v&&z[v]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function M(z,nt,ut){this.props=z,this.context=nt,this.refs=C,this.updater=ut||S}M.prototype.isReactComponent={},M.prototype.setState=function(z,nt){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,nt,"setState")},M.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function L(){}L.prototype=M.prototype;function H(z,nt,ut){this.props=z,this.context=nt,this.refs=C,this.updater=ut||S}var Y=H.prototype=new L;Y.constructor=H,A(Y,M.prototype),Y.isPureReactComponent=!0;var $=Array.isArray;function et(){}var N={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function D(z,nt,ut){var dt=ut.ref;return{$$typeof:n,type:z,key:nt,ref:dt!==void 0?dt:null,props:ut}}function j(z,nt){return D(z.type,nt,z.props)}function P(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function U(z){var nt={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ut){return nt[ut]})}var O=/\/+/g;function Nt(z,nt){return typeof z=="object"&&z!==null&&z.key!=null?U(""+z.key):nt.toString(36)}function bt(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(et,et):(z.status="pending",z.then(function(nt){z.status==="pending"&&(z.status="fulfilled",z.value=nt)},function(nt){z.status==="pending"&&(z.status="rejected",z.reason=nt)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function Q(z,nt,ut,dt,xt){var Tt=typeof z;(Tt==="undefined"||Tt==="boolean")&&(z=null);var zt=!1;if(z===null)zt=!0;else switch(Tt){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(z.$$typeof){case n:case t:zt=!0;break;case p:return zt=z._init,Q(zt(z._payload),nt,ut,dt,xt)}}if(zt)return xt=xt(z),zt=dt===""?"."+Nt(z,0):dt,$(xt)?(ut="",zt!=null&&(ut=zt.replace(O,"$&/")+"/"),Q(xt,nt,ut,"",function(Zn){return Zn})):xt!=null&&(P(xt)&&(xt=j(xt,ut+(xt.key==null||z&&z.key===xt.key?"":(""+xt.key).replace(O,"$&/")+"/")+zt)),nt.push(xt)),1;zt=0;var re=dt===""?".":dt+":";if($(z))for(var ce=0;ce<z.length;ce++)dt=z[ce],Tt=re+Nt(dt,ce),zt+=Q(dt,nt,ut,Tt,xt);else if(ce=E(z),typeof ce=="function")for(z=ce.call(z),ce=0;!(dt=z.next()).done;)dt=dt.value,Tt=re+Nt(dt,ce++),zt+=Q(dt,nt,ut,Tt,xt);else if(Tt==="object"){if(typeof z.then=="function")return Q(bt(z),nt,ut,dt,xt);throw nt=String(z),Error("Objects are not valid as a React child (found: "+(nt==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":nt)+"). If you meant to render a collection of children, use an array instead.")}return zt}function lt(z,nt,ut){if(z==null)return z;var dt=[],xt=0;return Q(z,dt,"","",function(Tt){return nt.call(ut,Tt,xt++)}),dt}function ft(z){if(z._status===-1){var nt=z._result;nt=nt(),nt.then(function(ut){(z._status===0||z._status===-1)&&(z._status=1,z._result=ut)},function(ut){(z._status===0||z._status===-1)&&(z._status=2,z._result=ut)}),z._status===-1&&(z._status=0,z._result=nt)}if(z._status===1)return z._result.default;throw z._result}var yt=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var nt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(nt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},St={map:lt,forEach:function(z,nt,ut){lt(z,function(){nt.apply(this,arguments)},ut)},count:function(z){var nt=0;return lt(z,function(){nt++}),nt},toArray:function(z){return lt(z,function(nt){return nt})||[]},only:function(z){if(!P(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Mt.Activity=_,Mt.Children=St,Mt.Component=M,Mt.Fragment=e,Mt.Profiler=r,Mt.PureComponent=H,Mt.StrictMode=i,Mt.Suspense=d,Mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Mt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return N.H.useMemoCache(z)}},Mt.cache=function(z){return function(){return z.apply(null,arguments)}},Mt.cacheSignal=function(){return null},Mt.cloneElement=function(z,nt,ut){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var dt=A({},z.props),xt=z.key;if(nt!=null)for(Tt in nt.key!==void 0&&(xt=""+nt.key),nt)!I.call(nt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&nt.ref===void 0||(dt[Tt]=nt[Tt]);var Tt=arguments.length-2;if(Tt===1)dt.children=ut;else if(1<Tt){for(var zt=Array(Tt),re=0;re<Tt;re++)zt[re]=arguments[re+2];dt.children=zt}return D(z.type,xt,dt)},Mt.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:o,_context:z},z},Mt.createElement=function(z,nt,ut){var dt,xt={},Tt=null;if(nt!=null)for(dt in nt.key!==void 0&&(Tt=""+nt.key),nt)I.call(nt,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(xt[dt]=nt[dt]);var zt=arguments.length-2;if(zt===1)xt.children=ut;else if(1<zt){for(var re=Array(zt),ce=0;ce<zt;ce++)re[ce]=arguments[ce+2];xt.children=re}if(z&&z.defaultProps)for(dt in zt=z.defaultProps,zt)xt[dt]===void 0&&(xt[dt]=zt[dt]);return D(z,Tt,xt)},Mt.createRef=function(){return{current:null}},Mt.forwardRef=function(z){return{$$typeof:u,render:z}},Mt.isValidElement=P,Mt.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:ft}},Mt.memo=function(z,nt){return{$$typeof:f,type:z,compare:nt===void 0?null:nt}},Mt.startTransition=function(z){var nt=N.T,ut={};N.T=ut;try{var dt=z(),xt=N.S;xt!==null&&xt(ut,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(et,yt)}catch(Tt){yt(Tt)}finally{nt!==null&&ut.types!==null&&(nt.types=ut.types),N.T=nt}},Mt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Mt.use=function(z){return N.H.use(z)},Mt.useActionState=function(z,nt,ut){return N.H.useActionState(z,nt,ut)},Mt.useCallback=function(z,nt){return N.H.useCallback(z,nt)},Mt.useContext=function(z){return N.H.useContext(z)},Mt.useDebugValue=function(){},Mt.useDeferredValue=function(z,nt){return N.H.useDeferredValue(z,nt)},Mt.useEffect=function(z,nt){return N.H.useEffect(z,nt)},Mt.useEffectEvent=function(z){return N.H.useEffectEvent(z)},Mt.useId=function(){return N.H.useId()},Mt.useImperativeHandle=function(z,nt,ut){return N.H.useImperativeHandle(z,nt,ut)},Mt.useInsertionEffect=function(z,nt){return N.H.useInsertionEffect(z,nt)},Mt.useLayoutEffect=function(z,nt){return N.H.useLayoutEffect(z,nt)},Mt.useMemo=function(z,nt){return N.H.useMemo(z,nt)},Mt.useOptimistic=function(z,nt){return N.H.useOptimistic(z,nt)},Mt.useReducer=function(z,nt,ut){return N.H.useReducer(z,nt,ut)},Mt.useRef=function(z){return N.H.useRef(z)},Mt.useState=function(z){return N.H.useState(z)},Mt.useSyncExternalStore=function(z,nt,ut){return N.H.useSyncExternalStore(z,nt,ut)},Mt.useTransition=function(){return N.H.useTransition()},Mt.version="19.2.3",Mt}var sw;function a0(){return sw||(sw=1,Mp.exports=vI()),Mp.exports}var B=a0();const xI=yI(B);var Op={exports:{}},uu={},Pp={exports:{}},Lp={};var rw;function wI(){return rw||(rw=1,(function(n){function t(Q,lt){var ft=Q.length;Q.push(lt);t:for(;0<ft;){var yt=ft-1>>>1,St=Q[yt];if(0<r(St,lt))Q[yt]=lt,Q[ft]=St,ft=yt;else break t}}function e(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var lt=Q[0],ft=Q.pop();if(ft!==lt){Q[0]=ft;t:for(var yt=0,St=Q.length,z=St>>>1;yt<z;){var nt=2*(yt+1)-1,ut=Q[nt],dt=nt+1,xt=Q[dt];if(0>r(ut,ft))dt<St&&0>r(xt,ut)?(Q[yt]=xt,Q[dt]=ft,yt=dt):(Q[yt]=ut,Q[nt]=ft,yt=nt);else if(dt<St&&0>r(xt,ft))Q[yt]=xt,Q[dt]=ft,yt=dt;else break t}}return lt}function r(Q,lt){var ft=Q.sortIndex-lt.sortIndex;return ft!==0?ft:Q.id-lt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,_=null,v=3,E=!1,S=!1,A=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function Y(Q){for(var lt=e(f);lt!==null;){if(lt.callback===null)i(f);else if(lt.startTime<=Q)i(f),lt.sortIndex=lt.expirationTime,t(d,lt);else break;lt=e(f)}}function $(Q){if(A=!1,Y(Q),!S)if(e(d)!==null)S=!0,et||(et=!0,U());else{var lt=e(f);lt!==null&&bt($,lt.startTime-Q)}}var et=!1,N=-1,I=5,D=-1;function j(){return C?!0:!(n.unstable_now()-D<I)}function P(){if(C=!1,et){var Q=n.unstable_now();D=Q;var lt=!0;try{t:{S=!1,A&&(A=!1,L(N),N=-1),E=!0;var ft=v;try{e:{for(Y(Q),_=e(d);_!==null&&!(_.expirationTime>Q&&j());){var yt=_.callback;if(typeof yt=="function"){_.callback=null,v=_.priorityLevel;var St=yt(_.expirationTime<=Q);if(Q=n.unstable_now(),typeof St=="function"){_.callback=St,Y(Q),lt=!0;break e}_===e(d)&&i(d),Y(Q)}else i(d);_=e(d)}if(_!==null)lt=!0;else{var z=e(f);z!==null&&bt($,z.startTime-Q),lt=!1}}break t}finally{_=null,v=ft,E=!1}lt=void 0}}finally{lt?U():et=!1}}}var U;if(typeof H=="function")U=function(){H(P)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Nt=O.port2;O.port1.onmessage=P,U=function(){Nt.postMessage(null)}}else U=function(){M(P,0)};function bt(Q,lt){N=M(function(){Q(n.unstable_now())},lt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(Q){switch(v){case 1:case 2:case 3:var lt=3;break;default:lt=v}var ft=v;v=lt;try{return Q()}finally{v=ft}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(Q,lt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ft=v;v=Q;try{return lt()}finally{v=ft}},n.unstable_scheduleCallback=function(Q,lt,ft){var yt=n.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?yt+ft:yt):ft=yt,Q){case 1:var St=-1;break;case 2:St=250;break;case 5:St=1073741823;break;case 4:St=1e4;break;default:St=5e3}return St=ft+St,Q={id:p++,callback:lt,priorityLevel:Q,startTime:ft,expirationTime:St,sortIndex:-1},ft>yt?(Q.sortIndex=ft,t(f,Q),e(d)===null&&Q===e(f)&&(A?(L(N),N=-1):A=!0,bt($,ft-yt))):(Q.sortIndex=St,t(d,Q),S||E||(S=!0,et||(et=!0,U()))),Q},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(Q){var lt=v;return function(){var ft=v;v=lt;try{return Q.apply(this,arguments)}finally{v=ft}}}})(Lp)),Lp}var aw;function EI(){return aw||(aw=1,Pp.exports=wI()),Pp.exports}var jp={exports:{}},Rn={};var ow;function TI(){if(ow)return Rn;ow=1;var n=a0();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,p){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:_==null?null:""+_,children:d,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Rn.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},Rn.flushSync=function(d){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=p,i.d.f()}},Rn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},Rn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Rn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,_=u(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:E}):p==="script"&&i.d.X(d,{crossOrigin:_,integrity:v,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Rn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},Rn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,_=u(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Rn.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},Rn.requestFormReset=function(d){i.d.r(d)},Rn.unstable_batchedUpdates=function(d,f){return d(f)},Rn.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},Rn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Rn.version="19.2.3",Rn}var lw;function SI(){if(lw)return jp.exports;lw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),jp.exports=TI(),jp.exports}var cw;function AI(){if(cw)return uu;cw=1;var n=EI(),t=a0(),e=SI();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var c=s,h=a;;){var g=c.return;if(g===null)break;var y=g.alternate;if(y===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===c)return d(g),s;if(y===h)return d(g),a;y=y.sibling}throw Error(i(188))}if(c.return!==h.return)c=g,h=y;else{for(var w=!1,R=g.child;R;){if(R===c){w=!0,c=g,h=y;break}if(R===h){w=!0,h=g,c=y;break}R=R.sibling}if(!w){for(R=y.child;R;){if(R===c){w=!0,c=y,h=g;break}if(R===h){w=!0,h=y,c=g;break}R=R.sibling}if(!w)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),H=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function U(s){return s===null||typeof s!="object"?null:(s=P&&s[P]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Nt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case M:return"Profiler";case C:return"StrictMode";case $:return"Suspense";case et:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case H:return s.displayName||"Context";case L:return(s._context.displayName||"Context")+".Consumer";case Y:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case N:return a=s.displayName||null,a!==null?a:Nt(s.type)||"Memo";case I:a=s._payload,s=s._init;try{return Nt(s(a))}catch{}}return null}var bt=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},yt=[],St=-1;function z(s){return{current:s}}function nt(s){0>St||(s.current=yt[St],yt[St]=null,St--)}function ut(s,a){St++,yt[St]=s.current,s.current=a}var dt=z(null),xt=z(null),Tt=z(null),zt=z(null);function re(s,a){switch(ut(Tt,a),ut(xt,s),ut(dt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Tx(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Tx(a),s=Sx(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}nt(dt),ut(dt,s)}function ce(){nt(dt),nt(xt),nt(Tt)}function Zn(s){s.memoizedState!==null&&ut(zt,s);var a=dt.current,c=Sx(a,s.type);a!==c&&(ut(xt,s),ut(dt,c))}function ct(s){xt.current===s&&(nt(dt),nt(xt)),zt.current===s&&(nt(zt),ru._currentValue=ft)}var Bt,Be;function Ke(s){if(Bt===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Bt=a&&a[1]||"",Be=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bt+s+Be}var ti=!1;function pi(s,a){if(!s||ti)return"";ti=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var at=function(){throw Error()};if(Object.defineProperty(at.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(at,[])}catch(Z){var X=Z}Reflect.construct(s,[],at)}else{try{at.call()}catch(Z){X=Z}s.call(at.prototype)}}else{try{throw Error()}catch(Z){X=Z}(at=s())&&typeof at.catch=="function"&&at.catch(function(){})}}catch(Z){if(Z&&X&&typeof Z.stack=="string")return[Z.stack,X.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=h.DetermineComponentFrameRoot(),w=y[0],R=y[1];if(w&&R){var V=w.split(`
`),K=R.split(`
`);for(g=h=0;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;for(;g<K.length&&!K[g].includes("DetermineComponentFrameRoot");)g++;if(h===V.length||g===K.length)for(h=V.length-1,g=K.length-1;1<=h&&0<=g&&V[h]!==K[g];)g--;for(;1<=h&&0<=g;h--,g--)if(V[h]!==K[g]){if(h!==1||g!==1)do if(h--,g--,0>g||V[h]!==K[g]){var it=`
`+V[h].replace(" at new "," at ");return s.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",s.displayName)),it}while(1<=h&&0<=g);break}}}finally{ti=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Ke(c):""}function Er(s,a){switch(s.tag){case 26:case 27:case 5:return Ke(s.type);case 16:return Ke("Lazy");case 13:return s.child!==a&&a!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return pi(s.type,!1);case 11:return pi(s.type.render,!1);case 1:return pi(s.type,!0);case 31:return Ke("Activity");default:return""}}function Tr(s){try{var a="",c=null;do a+=Er(s,c),c=s,s=s.return;while(s);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ke=Object.prototype.hasOwnProperty,Pe=n.unstable_scheduleCallback,Pi=n.unstable_cancelCallback,jo=n.unstable_shouldYield,Va=n.unstable_requestPaint,dn=n.unstable_now,Qe=n.unstable_getCurrentPriorityLevel,yi=n.unstable_ImmediatePriority,Li=n.unstable_UserBlockingPriority,es=n.unstable_NormalPriority,hc=n.unstable_LowPriority,Vo=n.unstable_IdlePriority,Uo=n.log,_i=n.unstable_setDisableYieldValue,tt=null,gt=null;function Vt(s){if(typeof Uo=="function"&&_i(s),gt&&typeof gt.setStrictMode=="function")try{gt.setStrictMode(tt,s)}catch{}}var It=Math.clz32?Math.clz32:De,te=Math.log,ee=Math.LN2;function De(s){return s>>>=0,s===0?32:31-(te(s)/ee|0)|0}var Jt=256,Fe=262144,kt=4194304;function ln(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function _n(s,a,c){var h=s.pendingLanes;if(h===0)return 0;var g=0,y=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var R=h&134217727;return R!==0?(h=R&~y,h!==0?g=ln(h):(w&=R,w!==0?g=ln(w):c||(c=R&~s,c!==0&&(g=ln(c))))):(R=h&~y,R!==0?g=ln(R):w!==0?g=ln(w):c||(c=h&~s,c!==0&&(g=ln(c)))),g===0?0:a!==0&&a!==g&&(a&y)===0&&(y=g&-g,c=a&-a,y>=c||y===32&&(c&4194048)!==0)?a:g}function bn(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Sr(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ls(){var s=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),s}function ue(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function ei(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function ji(s,a,c,h,g,y){var w=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var R=s.entanglements,V=s.expirationTimes,K=s.hiddenUpdates;for(c=w&~c;0<c;){var it=31-It(c),at=1<<it;R[it]=0,V[it]=-1;var X=K[it];if(X!==null)for(K[it]=null,it=0;it<X.length;it++){var Z=X[it];Z!==null&&(Z.lane&=-536870913)}c&=~at}h!==0&&ni(s,h,0),y!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=y&~(w&~a))}function ni(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-It(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function ns(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-It(c),g=1<<h;g&a|s[h]&a&&(s[h]|=a),c&=~g}}function Ar(s,a){var c=a&-a;return c=(c&42)!==0?1:Ua(c),(c&(s.suspendedLanes|a))!==0?0:c}function Ua(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function js(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Rh(){var s=lt.p;return s!==0?s:(s=window.event,s===void 0?32:Wx(s.type))}function Vi(s,a){var c=lt.p;try{return lt.p=s,a()}finally{lt.p=c}}var Ui=Math.random().toString(36).slice(2),Xe="__reactFiber$"+Ui,fn="__reactProps$"+Ui,is="__reactContainer$"+Ui,zo="__reactEvents$"+Ui,Vm="__reactListeners$"+Ui,Ih="__reactHandles$"+Ui,Nh="__reactResources$"+Ui,ss="__reactMarker$"+Ui;function Bo(s){delete s[Xe],delete s[fn],delete s[zo],delete s[Vm],delete s[Ih]}function rs(s){var a=s[Xe];if(a)return a;for(var c=s.parentNode;c;){if(a=c[is]||c[Xe]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=Dx(s);s!==null;){if(c=s[Xe])return c;s=Dx(s)}return a}s=c,c=s.parentNode}return null}function bi(s){if(s=s[Xe]||s[is]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function ii(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function as(s){var a=s[Nh];return a||(a=s[Nh]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Je(s){s[ss]=!0}var dc=new Set,fc={};function os(s,a){ls(s,a),ls(s+"Capture",a)}function ls(s,a){for(fc[s]=a,s=0;s<a.length;s++)dc.add(a[s])}var mc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),gc={},pc={};function kh(s){return ke.call(pc,s)?!0:ke.call(gc,s)?!1:mc.test(s)?pc[s]=!0:(gc[s]=!0,!1)}function Fo(s,a,c){if(kh(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function si(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function Ze(s,a,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+h)}}function mn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Cr(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function yc(s,a,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,y=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return g.call(this)},set:function(w){c=""+w,y.call(this,w)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function he(s){if(!s._valueTracker){var a=Cr(s)?"checked":"value";s._valueTracker=yc(s,a,""+s[a])}}function za(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=Cr(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function cs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ba=/[\n"\\]/g;function Bn(s){return s.replace(Ba,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ho(s,a,c,h,g,y,w,R){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),a!=null?w==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+mn(a)):s.value!==""+mn(a)&&(s.value=""+mn(a)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),a!=null?_c(s,w,mn(a)):c!=null?_c(s,w,mn(c)):h!=null&&s.removeAttribute("value"),g==null&&y!=null&&(s.defaultChecked=!!y),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+mn(R):s.removeAttribute("name")}function Dh(s,a,c,h,g,y,w,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(s.type=y),a!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||a!=null)){he(s);return}c=c!=null?""+mn(c):"",a=a!=null?""+mn(a):c,R||a===s.value||(s.value=a),s.defaultValue=a}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=R?s.checked:!!h,s.defaultChecked=!!h,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w),he(s)}function _c(s,a,c){a==="number"&&cs(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Rr(s,a,c,h){if(s=s.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<s.length;c++)g=a.hasOwnProperty("$"+s[c].value),s[c].selected!==g&&(s[c].selected=g),g&&h&&(s[c].defaultSelected=!0)}else{for(c=""+mn(c),a=null,g=0;g<s.length;g++){if(s[g].value===c){s[g].selected=!0,h&&(s[g].defaultSelected=!0);return}a!==null||s[g].disabled||(a=s[g])}a!==null&&(a.selected=!0)}}function Mh(s,a,c){if(a!=null&&(a=""+mn(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+mn(c):""}function Ir(s,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(bt(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=mn(a),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),he(s)}function Fn(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Oh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bc(s,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,c):typeof c!="number"||c===0||Oh.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function vc(s,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var g in a)h=a[g],a.hasOwnProperty(g)&&c[g]!==h&&bc(s,g,h)}else for(var y in a)a.hasOwnProperty(y)&&bc(s,y,a[y])}function qo(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ph=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Go(s){return Nr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function zi(){}var xc=null;function vi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var kr=null,us=null;function Fa(s){var a=bi(s);if(a&&(s=a.stateNode)){var c=s[fn]||null;t:switch(s=a.stateNode,a.type){case"input":if(Ho(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Bn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var g=h[fn]||null;if(!g)throw Error(i(90));Ho(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===s.form&&za(h)}break t;case"textarea":Mh(s,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Rr(s,!!c.multiple,a,!1)}}}var Yo=!1;function Dr(s,a,c){if(Yo)return s(a,c);Yo=!0;try{var h=s(a);return h}finally{if(Yo=!1,(kr!==null||us!==null)&&(Rd(),kr&&(a=kr,s=us,us=kr=null,Fa(a),s)))for(a=0;a<s.length;a++)Fa(s[a])}}function Bi(s,a){var c=s.stateNode;if(c===null)return null;var h=c[fn]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ha=!1;if(xi)try{var ge={};Object.defineProperty(ge,"passive",{get:function(){Ha=!0}}),window.addEventListener("test",ge,ge),window.removeEventListener("test",ge,ge)}catch{Ha=!1}var hs=null,wc=null,qa=null;function Ec(){if(qa)return qa;var s,a=wc,c=a.length,h,g="value"in hs?hs.value:hs.textContent,y=g.length;for(s=0;s<c&&a[s]===g[s];s++);var w=c-s;for(h=1;h<=w&&a[c-h]===g[y-h];h++);return qa=g.slice(s,1<h?1-h:void 0)}function Ga(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Vs(){return!0}function Fi(){return!1}function vn(s){function a(c,h,g,y,w){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=y,this.target=w,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(c=s[R],this[R]=c?c(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Vs:Fi,this.isPropagationStopped=Fi,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),a}var Us={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ds=vn(Us),Mr=_({},Us,{view:0,detail:0}),Tc=vn(Mr),Or,$o,fs,Wo=_({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==fs&&(fs&&s.type==="mousemove"?(Or=s.screenX-fs.screenX,$o=s.screenY-fs.screenY):$o=Or=0,fs=s),Or)},movementY:function(s){return"movementY"in s?s.movementY:$o}}),Sc=vn(Wo),Ya=_({},Wo,{dataTransfer:0}),Lh=vn(Ya),jh=_({},Mr,{relatedTarget:0}),$a=vn(jh),Ac=_({},Us,{animationName:0,elapsedTime:0,pseudoElement:0}),Vh=vn(Ac),Ko=_({},Us,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Uh=vn(Ko),zh=_({},Us,{data:0}),ms=vn(zh),Bh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Hh[s])?!!a[s]:!1}function Pr(){return qh}var jn=_({},Mr,{key:function(s){if(s.key){var a=Bh[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ga(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pr,charCode:function(s){return s.type==="keypress"?Ga(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ga(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Gh=vn(jn),Yh=_({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zs=vn(Yh),m=_({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pr}),x=vn(m),T=_({},Us,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=vn(T),G=_({},Wo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),J=vn(G),ht=_({},Us,{newState:0,oldState:0}),Lt=vn(ht),He=[9,13,27,32],ae=xi&&"CompositionEvent"in window,Ae=null;xi&&"documentMode"in document&&(Ae=document.documentMode);var wi=xi&&"TextEvent"in window&&!Ae,gs=xi&&(!ae||Ae&&8<Ae&&11>=Ae),Hi=" ",qi=!1;function Wa(s,a){switch(s){case"keyup":return He.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Xo=!1;function BC(s,a){switch(s){case"compositionend":return Qo(a);case"keypress":return a.which!==32?null:(qi=!0,Hi);case"textInput":return s=a.data,s===Hi&&qi?null:s;default:return null}}function FC(s,a){if(Xo)return s==="compositionend"||!ae&&Wa(s,a)?(s=Ec(),qa=wc=hs=null,Xo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return gs&&a.locale!=="ko"?null:a.data;default:return null}}var HC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!HC[s.type]:a==="textarea"}function L_(s,a,c,h){kr?us?us.push(h):us=[h]:kr=h,a=Pd(a,"onChange"),0<a.length&&(c=new ds("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var Cc=null,Rc=null;function qC(s){_x(s,0)}function $h(s){var a=ii(s);if(za(a))return s}function j_(s,a){if(s==="change")return a}var V_=!1;if(xi){var Um;if(xi){var zm="oninput"in document;if(!zm){var U_=document.createElement("div");U_.setAttribute("oninput","return;"),zm=typeof U_.oninput=="function"}Um=zm}else Um=!1;V_=Um&&(!document.documentMode||9<document.documentMode)}function z_(){Cc&&(Cc.detachEvent("onpropertychange",B_),Rc=Cc=null)}function B_(s){if(s.propertyName==="value"&&$h(Rc)){var a=[];L_(a,Rc,s,vi(s)),Dr(qC,a)}}function GC(s,a,c){s==="focusin"?(z_(),Cc=a,Rc=c,Cc.attachEvent("onpropertychange",B_)):s==="focusout"&&z_()}function YC(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $h(Rc)}function $C(s,a){if(s==="click")return $h(a)}function WC(s,a){if(s==="input"||s==="change")return $h(a)}function KC(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ri=typeof Object.is=="function"?Object.is:KC;function Ic(s,a){if(ri(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!ke.call(a,g)||!ri(s[g],a[g]))return!1}return!0}function F_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function H_(s,a){var c=F_(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=F_(c)}}function q_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?q_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function G_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=cs(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=cs(s.document)}return a}function Bm(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var QC=xi&&"documentMode"in document&&11>=document.documentMode,Jo=null,Fm=null,Nc=null,Hm=!1;function Y_(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Hm||Jo==null||Jo!==cs(h)||(h=Jo,"selectionStart"in h&&Bm(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Nc&&Ic(Nc,h)||(Nc=h,h=Pd(Fm,"onSelect"),0<h.length&&(a=new ds("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=Jo)))}function Ka(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Zo={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionrun:Ka("Transition","TransitionRun"),transitionstart:Ka("Transition","TransitionStart"),transitioncancel:Ka("Transition","TransitionCancel"),transitionend:Ka("Transition","TransitionEnd")},qm={},$_={};xi&&($_=document.createElement("div").style,"AnimationEvent"in window||(delete Zo.animationend.animation,delete Zo.animationiteration.animation,delete Zo.animationstart.animation),"TransitionEvent"in window||delete Zo.transitionend.transition);function Qa(s){if(qm[s])return qm[s];if(!Zo[s])return s;var a=Zo[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in $_)return qm[s]=a[c];return s}var W_=Qa("animationend"),K_=Qa("animationiteration"),Q_=Qa("animationstart"),XC=Qa("transitionrun"),JC=Qa("transitionstart"),ZC=Qa("transitioncancel"),X_=Qa("transitionend"),J_=new Map,Gm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gm.push("scrollEnd");function Gi(s,a){J_.set(s,a),os(a,[s])}var Wh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Ei=[],tl=0,Ym=0;function Kh(){for(var s=tl,a=Ym=tl=0;a<s;){var c=Ei[a];Ei[a++]=null;var h=Ei[a];Ei[a++]=null;var g=Ei[a];Ei[a++]=null;var y=Ei[a];if(Ei[a++]=null,h!==null&&g!==null){var w=h.pending;w===null?g.next=g:(g.next=w.next,w.next=g),h.pending=g}y!==0&&Z_(c,g,y)}}function Qh(s,a,c,h){Ei[tl++]=s,Ei[tl++]=a,Ei[tl++]=c,Ei[tl++]=h,Ym|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function $m(s,a,c,h){return Qh(s,a,c,h),Xh(s)}function Xa(s,a){return Qh(s,null,null,a),Xh(s)}function Z_(s,a,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var g=!1,y=s.return;y!==null;)y.childLanes|=c,h=y.alternate,h!==null&&(h.childLanes|=c),y.tag===22&&(s=y.stateNode,s===null||s._visibility&1||(g=!0)),s=y,y=y.return;return s.tag===3?(y=s.stateNode,g&&a!==null&&(g=31-It(c),s=y.hiddenUpdates,h=s[g],h===null?s[g]=[a]:h.push(a),a.lane=c|536870912),y):null}function Xh(s){if(50<Jc)throw Jc=0,np=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var el={};function tR(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ai(s,a,c,h){return new tR(s,a,c,h)}function Wm(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Bs(s,a){var c=s.alternate;return c===null?(c=ai(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function tb(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Jh(s,a,c,h,g,y){var w=0;if(h=s,typeof s=="function")Wm(s)&&(w=1);else if(typeof s=="string")w=rI(s,c,dt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=ai(31,c,a,g),s.elementType=D,s.lanes=y,s;case A:return Ja(c.children,g,y,a);case C:w=8,g|=24;break;case M:return s=ai(12,c,a,g|2),s.elementType=M,s.lanes=y,s;case $:return s=ai(13,c,a,g),s.elementType=$,s.lanes=y,s;case et:return s=ai(19,c,a,g),s.elementType=et,s.lanes=y,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:w=10;break t;case L:w=9;break t;case Y:w=11;break t;case N:w=14;break t;case I:w=16,h=null;break t}w=29,c=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=ai(w,c,a,g),a.elementType=s,a.type=h,a.lanes=y,a}function Ja(s,a,c,h){return s=ai(7,s,h,a),s.lanes=c,s}function Km(s,a,c){return s=ai(6,s,null,a),s.lanes=c,s}function eb(s){var a=ai(18,null,null,0);return a.stateNode=s,a}function Qm(s,a,c){return a=ai(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var nb=new WeakMap;function Ti(s,a){if(typeof s=="object"&&s!==null){var c=nb.get(s);return c!==void 0?c:(a={value:s,source:a,stack:Tr(a)},nb.set(s,a),a)}return{value:s,source:a,stack:Tr(a)}}var nl=[],il=0,Zh=null,kc=0,Si=[],Ai=0,Lr=null,ps=1,ys="";function Fs(s,a){nl[il++]=kc,nl[il++]=Zh,Zh=s,kc=a}function ib(s,a,c){Si[Ai++]=ps,Si[Ai++]=ys,Si[Ai++]=Lr,Lr=s;var h=ps;s=ys;var g=32-It(h)-1;h&=~(1<<g),c+=1;var y=32-It(a)+g;if(30<y){var w=g-g%5;y=(h&(1<<w)-1).toString(32),h>>=w,g-=w,ps=1<<32-It(a)+g|c<<g|h,ys=y+s}else ps=1<<y|c<<g|h,ys=s}function Xm(s){s.return!==null&&(Fs(s,1),ib(s,1,0))}function Jm(s){for(;s===Zh;)Zh=nl[--il],nl[il]=null,kc=nl[--il],nl[il]=null;for(;s===Lr;)Lr=Si[--Ai],Si[Ai]=null,ys=Si[--Ai],Si[Ai]=null,ps=Si[--Ai],Si[Ai]=null}function sb(s,a){Si[Ai++]=ps,Si[Ai++]=ys,Si[Ai++]=Lr,ps=a.id,ys=a.overflow,Lr=s}var xn=null,we=null,Xt=!1,jr=null,Ci=!1,Zm=Error(i(519));function Vr(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dc(Ti(a,s)),Zm}function rb(s){var a=s.stateNode,c=s.type,h=s.memoizedProps;switch(a[Xe]=s,a[fn]=h,c){case"dialog":Ht("cancel",a),Ht("close",a);break;case"iframe":case"object":case"embed":Ht("load",a);break;case"video":case"audio":for(c=0;c<tu.length;c++)Ht(tu[c],a);break;case"source":Ht("error",a);break;case"img":case"image":case"link":Ht("error",a),Ht("load",a);break;case"details":Ht("toggle",a);break;case"input":Ht("invalid",a),Dh(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Ht("invalid",a);break;case"textarea":Ht("invalid",a),Ir(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||wx(a.textContent,c)?(h.popover!=null&&(Ht("beforetoggle",a),Ht("toggle",a)),h.onScroll!=null&&Ht("scroll",a),h.onScrollEnd!=null&&Ht("scrollend",a),h.onClick!=null&&(a.onclick=zi),a=!0):a=!1,a||Vr(s,!0)}function ab(s){for(xn=s.return;xn;)switch(xn.tag){case 5:case 31:case 13:Ci=!1;return;case 27:case 3:Ci=!0;return;default:xn=xn.return}}function sl(s){if(s!==xn)return!1;if(!Xt)return ab(s),Xt=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||yp(s.type,s.memoizedProps)),c=!c),c&&we&&Vr(s),ab(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));we=kx(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));we=kx(s)}else a===27?(a=we,Jr(s.type)?(s=wp,wp=null,we=s):we=a):we=xn?Ii(s.stateNode.nextSibling):null;return!0}function Za(){we=xn=null,Xt=!1}function tg(){var s=jr;return s!==null&&(Yn===null?Yn=s:Yn.push.apply(Yn,s),jr=null),s}function Dc(s){jr===null?jr=[s]:jr.push(s)}var eg=z(null),to=null,Hs=null;function Ur(s,a,c){ut(eg,a._currentValue),a._currentValue=c}function qs(s){s._currentValue=eg.current,nt(eg)}function ng(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function ig(s,a,c,h){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var y=g.dependencies;if(y!==null){var w=g.child;y=y.firstContext;t:for(;y!==null;){var R=y;y=g;for(var V=0;V<a.length;V++)if(R.context===a[V]){y.lanes|=c,R=y.alternate,R!==null&&(R.lanes|=c),ng(y.return,c,s),h||(w=null);break t}y=R.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(i(341));w.lanes|=c,y=w.alternate,y!==null&&(y.lanes|=c),ng(w,c,s),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===s){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function rl(s,a,c,h){s=null;for(var g=a,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var R=g.type;ri(g.pendingProps.value,w.value)||(s!==null?s.push(R):s=[R])}}else if(g===zt.current){if(w=g.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(ru):s=[ru])}g=g.return}s!==null&&ig(a,s,c,h),a.flags|=262144}function td(s){for(s=s.firstContext;s!==null;){if(!ri(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function eo(s){to=s,Hs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function wn(s){return ob(to,s)}function ed(s,a){return to===null&&eo(s),ob(s,a)}function ob(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Hs===null){if(s===null)throw Error(i(308));Hs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Hs=Hs.next=a;return c}var eR=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},nR=n.unstable_scheduleCallback,iR=n.unstable_NormalPriority,tn={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sg(){return{controller:new eR,data:new Map,refCount:0}}function Mc(s){s.refCount--,s.refCount===0&&nR(iR,function(){s.controller.abort()})}var Oc=null,rg=0,al=0,ol=null;function sR(s,a){if(Oc===null){var c=Oc=[];rg=0,al=lp(),ol={status:"pending",value:void 0,then:function(h){c.push(h)}}}return rg++,a.then(lb,lb),a}function lb(){if(--rg===0&&Oc!==null){ol!==null&&(ol.status="fulfilled");var s=Oc;Oc=null,al=0,ol=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function rR(s,a){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var g=0;g<c.length;g++)(0,c[g])(a)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var cb=Q.S;Q.S=function(s,a){Yv=dn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&sR(s,a),cb!==null&&cb(s,a)};var no=z(null);function ag(){var s=no.current;return s!==null?s:be.pooledCache}function nd(s,a){a===null?ut(no,no.current):ut(no,a.pool)}function ub(){var s=ag();return s===null?null:{parent:tn._currentValue,pool:s}}var ll=Error(i(460)),og=Error(i(474)),id=Error(i(542)),sd={then:function(){}};function hb(s){return s=s.status,s==="fulfilled"||s==="rejected"}function db(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(zi,zi),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,mb(s),s;default:if(typeof a.status=="string")a.then(zi,zi);else{if(s=be,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var g=a;g.status="fulfilled",g.value=h}},function(h){if(a.status==="pending"){var g=a;g.status="rejected",g.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,mb(s),s}throw so=a,ll}}function io(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(so=c,ll):c}}var so=null;function fb(){if(so===null)throw Error(i(459));var s=so;return so=null,s}function mb(s){if(s===ll||s===id)throw Error(i(483))}var cl=null,Pc=0;function rd(s){var a=Pc;return Pc+=1,cl===null&&(cl=[]),db(cl,s,a)}function Lc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function ad(s,a){throw a.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function gb(s){function a(q,F){if(s){var W=q.deletions;W===null?(q.deletions=[F],q.flags|=16):W.push(F)}}function c(q,F){if(!s)return null;for(;F!==null;)a(q,F),F=F.sibling;return null}function h(q){for(var F=new Map;q!==null;)q.key!==null?F.set(q.key,q):F.set(q.index,q),q=q.sibling;return F}function g(q,F){return q=Bs(q,F),q.index=0,q.sibling=null,q}function y(q,F,W){return q.index=W,s?(W=q.alternate,W!==null?(W=W.index,W<F?(q.flags|=67108866,F):W):(q.flags|=67108866,F)):(q.flags|=1048576,F)}function w(q){return s&&q.alternate===null&&(q.flags|=67108866),q}function R(q,F,W,st){return F===null||F.tag!==6?(F=Km(W,q.mode,st),F.return=q,F):(F=g(F,W),F.return=q,F)}function V(q,F,W,st){var wt=W.type;return wt===A?it(q,F,W.props.children,st,W.key):F!==null&&(F.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===I&&io(wt)===F.type)?(F=g(F,W.props),Lc(F,W),F.return=q,F):(F=Jh(W.type,W.key,W.props,null,q.mode,st),Lc(F,W),F.return=q,F)}function K(q,F,W,st){return F===null||F.tag!==4||F.stateNode.containerInfo!==W.containerInfo||F.stateNode.implementation!==W.implementation?(F=Qm(W,q.mode,st),F.return=q,F):(F=g(F,W.children||[]),F.return=q,F)}function it(q,F,W,st,wt){return F===null||F.tag!==7?(F=Ja(W,q.mode,st,wt),F.return=q,F):(F=g(F,W),F.return=q,F)}function at(q,F,W){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Km(""+F,q.mode,W),F.return=q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case E:return W=Jh(F.type,F.key,F.props,null,q.mode,W),Lc(W,F),W.return=q,W;case S:return F=Qm(F,q.mode,W),F.return=q,F;case I:return F=io(F),at(q,F,W)}if(bt(F)||U(F))return F=Ja(F,q.mode,W,null),F.return=q,F;if(typeof F.then=="function")return at(q,rd(F),W);if(F.$$typeof===H)return at(q,ed(q,F),W);ad(q,F)}return null}function X(q,F,W,st){var wt=F!==null?F.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return wt!==null?null:R(q,F,""+W,st);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case E:return W.key===wt?V(q,F,W,st):null;case S:return W.key===wt?K(q,F,W,st):null;case I:return W=io(W),X(q,F,W,st)}if(bt(W)||U(W))return wt!==null?null:it(q,F,W,st,null);if(typeof W.then=="function")return X(q,F,rd(W),st);if(W.$$typeof===H)return X(q,F,ed(q,W),st);ad(q,W)}return null}function Z(q,F,W,st,wt){if(typeof st=="string"&&st!==""||typeof st=="number"||typeof st=="bigint")return q=q.get(W)||null,R(F,q,""+st,wt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case E:return q=q.get(st.key===null?W:st.key)||null,V(F,q,st,wt);case S:return q=q.get(st.key===null?W:st.key)||null,K(F,q,st,wt);case I:return st=io(st),Z(q,F,W,st,wt)}if(bt(st)||U(st))return q=q.get(W)||null,it(F,q,st,wt,null);if(typeof st.then=="function")return Z(q,F,W,rd(st),wt);if(st.$$typeof===H)return Z(q,F,W,ed(F,st),wt);ad(F,st)}return null}function _t(q,F,W,st){for(var wt=null,ne=null,vt=F,Ut=F=0,Yt=null;vt!==null&&Ut<W.length;Ut++){vt.index>Ut?(Yt=vt,vt=null):Yt=vt.sibling;var ie=X(q,vt,W[Ut],st);if(ie===null){vt===null&&(vt=Yt);break}s&&vt&&ie.alternate===null&&a(q,vt),F=y(ie,F,Ut),ne===null?wt=ie:ne.sibling=ie,ne=ie,vt=Yt}if(Ut===W.length)return c(q,vt),Xt&&Fs(q,Ut),wt;if(vt===null){for(;Ut<W.length;Ut++)vt=at(q,W[Ut],st),vt!==null&&(F=y(vt,F,Ut),ne===null?wt=vt:ne.sibling=vt,ne=vt);return Xt&&Fs(q,Ut),wt}for(vt=h(vt);Ut<W.length;Ut++)Yt=Z(vt,q,Ut,W[Ut],st),Yt!==null&&(s&&Yt.alternate!==null&&vt.delete(Yt.key===null?Ut:Yt.key),F=y(Yt,F,Ut),ne===null?wt=Yt:ne.sibling=Yt,ne=Yt);return s&&vt.forEach(function(ia){return a(q,ia)}),Xt&&Fs(q,Ut),wt}function At(q,F,W,st){if(W==null)throw Error(i(151));for(var wt=null,ne=null,vt=F,Ut=F=0,Yt=null,ie=W.next();vt!==null&&!ie.done;Ut++,ie=W.next()){vt.index>Ut?(Yt=vt,vt=null):Yt=vt.sibling;var ia=X(q,vt,ie.value,st);if(ia===null){vt===null&&(vt=Yt);break}s&&vt&&ia.alternate===null&&a(q,vt),F=y(ia,F,Ut),ne===null?wt=ia:ne.sibling=ia,ne=ia,vt=Yt}if(ie.done)return c(q,vt),Xt&&Fs(q,Ut),wt;if(vt===null){for(;!ie.done;Ut++,ie=W.next())ie=at(q,ie.value,st),ie!==null&&(F=y(ie,F,Ut),ne===null?wt=ie:ne.sibling=ie,ne=ie);return Xt&&Fs(q,Ut),wt}for(vt=h(vt);!ie.done;Ut++,ie=W.next())ie=Z(vt,q,Ut,ie.value,st),ie!==null&&(s&&ie.alternate!==null&&vt.delete(ie.key===null?Ut:ie.key),F=y(ie,F,Ut),ne===null?wt=ie:ne.sibling=ie,ne=ie);return s&&vt.forEach(function(pI){return a(q,pI)}),Xt&&Fs(q,Ut),wt}function _e(q,F,W,st){if(typeof W=="object"&&W!==null&&W.type===A&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case E:t:{for(var wt=W.key;F!==null;){if(F.key===wt){if(wt=W.type,wt===A){if(F.tag===7){c(q,F.sibling),st=g(F,W.props.children),st.return=q,q=st;break t}}else if(F.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===I&&io(wt)===F.type){c(q,F.sibling),st=g(F,W.props),Lc(st,W),st.return=q,q=st;break t}c(q,F);break}else a(q,F);F=F.sibling}W.type===A?(st=Ja(W.props.children,q.mode,st,W.key),st.return=q,q=st):(st=Jh(W.type,W.key,W.props,null,q.mode,st),Lc(st,W),st.return=q,q=st)}return w(q);case S:t:{for(wt=W.key;F!==null;){if(F.key===wt)if(F.tag===4&&F.stateNode.containerInfo===W.containerInfo&&F.stateNode.implementation===W.implementation){c(q,F.sibling),st=g(F,W.children||[]),st.return=q,q=st;break t}else{c(q,F);break}else a(q,F);F=F.sibling}st=Qm(W,q.mode,st),st.return=q,q=st}return w(q);case I:return W=io(W),_e(q,F,W,st)}if(bt(W))return _t(q,F,W,st);if(U(W)){if(wt=U(W),typeof wt!="function")throw Error(i(150));return W=wt.call(W),At(q,F,W,st)}if(typeof W.then=="function")return _e(q,F,rd(W),st);if(W.$$typeof===H)return _e(q,F,ed(q,W),st);ad(q,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,F!==null&&F.tag===6?(c(q,F.sibling),st=g(F,W),st.return=q,q=st):(c(q,F),st=Km(W,q.mode,st),st.return=q,q=st),w(q)):c(q,F)}return function(q,F,W,st){try{Pc=0;var wt=_e(q,F,W,st);return cl=null,wt}catch(vt){if(vt===ll||vt===id)throw vt;var ne=ai(29,vt,null,q.mode);return ne.lanes=st,ne.return=q,ne}}}var ro=gb(!0),pb=gb(!1),zr=!1;function lg(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cg(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Br(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fr(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(oe&2)!==0){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,a=Xh(s),Z_(s,null,c),a}return Qh(s,h,a,c),Xh(s)}function jc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,ns(s,c)}}function ug(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var w={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?g=y=w:y=y.next=w,c=c.next}while(c!==null);y===null?g=y=a:y=y.next=a}else g=y=a;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var hg=!1;function Vc(){if(hg){var s=ol;if(s!==null)throw s}}function Uc(s,a,c,h){hg=!1;var g=s.updateQueue;zr=!1;var y=g.firstBaseUpdate,w=g.lastBaseUpdate,R=g.shared.pending;if(R!==null){g.shared.pending=null;var V=R,K=V.next;V.next=null,w===null?y=K:w.next=K,w=V;var it=s.alternate;it!==null&&(it=it.updateQueue,R=it.lastBaseUpdate,R!==w&&(R===null?it.firstBaseUpdate=K:R.next=K,it.lastBaseUpdate=V))}if(y!==null){var at=g.baseState;w=0,it=K=V=null,R=y;do{var X=R.lane&-536870913,Z=X!==R.lane;if(Z?(Gt&X)===X:(h&X)===X){X!==0&&X===al&&(hg=!0),it!==null&&(it=it.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var _t=s,At=R;X=a;var _e=c;switch(At.tag){case 1:if(_t=At.payload,typeof _t=="function"){at=_t.call(_e,at,X);break t}at=_t;break t;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=At.payload,X=typeof _t=="function"?_t.call(_e,at,X):_t,X==null)break t;at=_({},at,X);break t;case 2:zr=!0}}X=R.callback,X!==null&&(s.flags|=64,Z&&(s.flags|=8192),Z=g.callbacks,Z===null?g.callbacks=[X]:Z.push(X))}else Z={lane:X,tag:R.tag,payload:R.payload,callback:R.callback,next:null},it===null?(K=it=Z,V=at):it=it.next=Z,w|=X;if(R=R.next,R===null){if(R=g.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,g.lastBaseUpdate=Z,g.shared.pending=null}}while(!0);it===null&&(V=at),g.baseState=V,g.firstBaseUpdate=K,g.lastBaseUpdate=it,y===null&&(g.shared.lanes=0),$r|=w,s.lanes=w,s.memoizedState=at}}function yb(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function _b(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)yb(c[s],a)}var ul=z(null),od=z(0);function bb(s,a){s=Zs,ut(od,s),ut(ul,a),Zs=s|a.baseLanes}function dg(){ut(od,Zs),ut(ul,ul.current)}function fg(){Zs=od.current,nt(ul),nt(od)}var oi=z(null),Ri=null;function Hr(s){var a=s.alternate;ut(qe,qe.current&1),ut(oi,s),Ri===null&&(a===null||ul.current!==null||a.memoizedState!==null)&&(Ri=s)}function mg(s){ut(qe,qe.current),ut(oi,s),Ri===null&&(Ri=s)}function vb(s){s.tag===22?(ut(qe,qe.current),ut(oi,s),Ri===null&&(Ri=s)):qr()}function qr(){ut(qe,qe.current),ut(oi,oi.current)}function li(s){nt(oi),Ri===s&&(Ri=null),nt(qe)}var qe=z(0);function ld(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||vp(c)||xp(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Gs=0,jt=null,pe=null,en=null,cd=!1,hl=!1,ao=!1,ud=0,zc=0,dl=null,aR=0;function Le(){throw Error(i(321))}function gg(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!ri(s[c],a[c]))return!1;return!0}function pg(s,a,c,h,g,y){return Gs=y,jt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=s===null||s.memoizedState===null?iv:kg,ao=!1,y=c(h,g),ao=!1,hl&&(y=wb(a,c,h,g)),xb(s),y}function xb(s){Q.H=Hc;var a=pe!==null&&pe.next!==null;if(Gs=0,en=pe=jt=null,cd=!1,zc=0,dl=null,a)throw Error(i(300));s===null||nn||(s=s.dependencies,s!==null&&td(s)&&(nn=!0))}function wb(s,a,c,h){jt=s;var g=0;do{if(hl&&(dl=null),zc=0,hl=!1,25<=g)throw Error(i(301));if(g+=1,en=pe=null,s.updateQueue!=null){var y=s.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}Q.H=sv,y=a(c,h)}while(hl);return y}function oR(){var s=Q.H,a=s.useState()[0];return a=typeof a.then=="function"?Bc(a):a,s=s.useState()[0],(pe!==null?pe.memoizedState:null)!==s&&(jt.flags|=1024),a}function yg(){var s=ud!==0;return ud=0,s}function _g(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function bg(s){if(cd){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}cd=!1}Gs=0,en=pe=jt=null,hl=!1,zc=ud=0,dl=null}function Vn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?jt.memoizedState=en=s:en=en.next=s,en}function Ge(){if(pe===null){var s=jt.alternate;s=s!==null?s.memoizedState:null}else s=pe.next;var a=en===null?jt.memoizedState:en.next;if(a!==null)en=a,pe=s;else{if(s===null)throw jt.alternate===null?Error(i(467)):Error(i(310));pe=s,s={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},en===null?jt.memoizedState=en=s:en=en.next=s}return en}function hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bc(s){var a=zc;return zc+=1,dl===null&&(dl=[]),s=db(dl,s,a),a=jt,(en===null?a.memoizedState:en.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?iv:kg),s}function dd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Bc(s);if(s.$$typeof===H)return wn(s)}throw Error(i(438,String(s)))}function vg(s){var a=null,c=jt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=jt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(g){return g.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=hd(),jt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),h=0;h<s;h++)c[h]=j;return a.index++,c}function Ys(s,a){return typeof a=="function"?a(s):a}function fd(s){var a=Ge();return xg(a,pe,s)}function xg(s,a,c){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var g=s.baseQueue,y=h.pending;if(y!==null){if(g!==null){var w=g.next;g.next=y.next,y.next=w}a.baseQueue=g=y,h.pending=null}if(y=s.baseState,g===null)s.memoizedState=y;else{a=g.next;var R=w=null,V=null,K=a,it=!1;do{var at=K.lane&-536870913;if(at!==K.lane?(Gt&at)===at:(Gs&at)===at){var X=K.revertLane;if(X===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),at===al&&(it=!0);else if((Gs&X)===X){K=K.next,X===al&&(it=!0);continue}else at={lane:0,revertLane:K.revertLane,gesture:null,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(R=V=at,w=y):V=V.next=at,jt.lanes|=X,$r|=X;at=K.action,ao&&c(y,at),y=K.hasEagerState?K.eagerState:c(y,at)}else X={lane:at,revertLane:K.revertLane,gesture:K.gesture,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null},V===null?(R=V=X,w=y):V=V.next=X,jt.lanes|=at,$r|=at;K=K.next}while(K!==null&&K!==a);if(V===null?w=y:V.next=R,!ri(y,s.memoizedState)&&(nn=!0,it&&(c=ol,c!==null)))throw c;s.memoizedState=y,s.baseState=w,s.baseQueue=V,h.lastRenderedState=y}return g===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function wg(s){var a=Ge(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var h=c.dispatch,g=c.pending,y=a.memoizedState;if(g!==null){c.pending=null;var w=g=g.next;do y=s(y,w.action),w=w.next;while(w!==g);ri(y,a.memoizedState)||(nn=!0),a.memoizedState=y,a.baseQueue===null&&(a.baseState=y),c.lastRenderedState=y}return[y,h]}function Eb(s,a,c){var h=jt,g=Ge(),y=Xt;if(y){if(c===void 0)throw Error(i(407));c=c()}else c=a();var w=!ri((pe||g).memoizedState,c);if(w&&(g.memoizedState=c,nn=!0),g=g.queue,Sg(Ab.bind(null,h,g,s),[s]),g.getSnapshot!==a||w||en!==null&&en.memoizedState.tag&1){if(h.flags|=2048,fl(9,{destroy:void 0},Sb.bind(null,h,g,c,a),null),be===null)throw Error(i(349));y||(Gs&127)!==0||Tb(h,a,c)}return c}function Tb(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=jt.updateQueue,a===null?(a=hd(),jt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function Sb(s,a,c,h){a.value=c,a.getSnapshot=h,Cb(a)&&Rb(s)}function Ab(s,a,c){return c(function(){Cb(a)&&Rb(s)})}function Cb(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!ri(s,c)}catch{return!0}}function Rb(s){var a=Xa(s,2);a!==null&&$n(a,s,2)}function Eg(s){var a=Vn();if(typeof s=="function"){var c=s;if(s=c(),ao){Vt(!0);try{c()}finally{Vt(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:s},a}function Ib(s,a,c,h){return s.baseState=c,xg(s,pe,typeof h=="function"?h:Ys)}function lR(s,a,c,h,g){if(pd(s))throw Error(i(485));if(s=a.action,s!==null){var y={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){y.listeners.push(w)}};Q.T!==null?c(!0):y.isTransition=!1,h(y),c=a.pending,c===null?(y.next=a.pending=y,Nb(a,y)):(y.next=c.next,a.pending=c.next=y)}}function Nb(s,a){var c=a.action,h=a.payload,g=s.state;if(a.isTransition){var y=Q.T,w={};Q.T=w;try{var R=c(g,h),V=Q.S;V!==null&&V(w,R),kb(s,a,R)}catch(K){Tg(s,a,K)}finally{y!==null&&w.types!==null&&(y.types=w.types),Q.T=y}}else try{y=c(g,h),kb(s,a,y)}catch(K){Tg(s,a,K)}}function kb(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){Db(s,a,h)},function(h){return Tg(s,a,h)}):Db(s,a,c)}function Db(s,a,c){a.status="fulfilled",a.value=c,Mb(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,Nb(s,c)))}function Tg(s,a,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,Mb(a),a=a.next;while(a!==h)}s.action=null}function Mb(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Ob(s,a){return a}function Pb(s,a){if(Xt){var c=be.formState;if(c!==null){t:{var h=jt;if(Xt){if(we){e:{for(var g=we,y=Ci;g.nodeType!==8;){if(!y){g=null;break e}if(g=Ii(g.nextSibling),g===null){g=null;break e}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){we=Ii(g.nextSibling),h=g.data==="F!";break t}}Vr(h)}h=!1}h&&(a=c[0])}}return c=Vn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ob,lastRenderedState:a},c.queue=h,c=tv.bind(null,jt,h),h.dispatch=c,h=Eg(!1),y=Ng.bind(null,jt,!1,h.queue),h=Vn(),g={state:a,dispatch:null,action:s,pending:null},h.queue=g,c=lR.bind(null,jt,g,y,c),g.dispatch=c,h.memoizedState=s,[a,c,!1]}function Lb(s){var a=Ge();return jb(a,pe,s)}function jb(s,a,c){if(a=xg(s,a,Ob)[0],s=fd(Ys)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Bc(a)}catch(w){throw w===ll?id:w}else h=a;a=Ge();var g=a.queue,y=g.dispatch;return c!==a.memoizedState&&(jt.flags|=2048,fl(9,{destroy:void 0},cR.bind(null,g,c),null)),[h,y,s]}function cR(s,a){s.action=a}function Vb(s){var a=Ge(),c=pe;if(c!==null)return jb(a,c,s);Ge(),a=a.memoizedState,c=Ge();var h=c.queue.dispatch;return c.memoizedState=s,[a,h,!1]}function fl(s,a,c,h){return s={tag:s,create:c,deps:h,inst:a,next:null},a=jt.updateQueue,a===null&&(a=hd(),jt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s),s}function Ub(){return Ge().memoizedState}function md(s,a,c,h){var g=Vn();jt.flags|=s,g.memoizedState=fl(1|a,{destroy:void 0},c,h===void 0?null:h)}function gd(s,a,c,h){var g=Ge();h=h===void 0?null:h;var y=g.memoizedState.inst;pe!==null&&h!==null&&gg(h,pe.memoizedState.deps)?g.memoizedState=fl(a,y,c,h):(jt.flags|=s,g.memoizedState=fl(1|a,y,c,h))}function zb(s,a){md(8390656,8,s,a)}function Sg(s,a){gd(2048,8,s,a)}function uR(s){jt.flags|=4;var a=jt.updateQueue;if(a===null)a=hd(),jt.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function Bb(s){var a=Ge().memoizedState;return uR({ref:a,nextImpl:s}),function(){if((oe&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Fb(s,a){return gd(4,2,s,a)}function Hb(s,a){return gd(4,4,s,a)}function qb(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Gb(s,a,c){c=c!=null?c.concat([s]):null,gd(4,4,qb.bind(null,a,s),c)}function Ag(){}function Yb(s,a){var c=Ge();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&gg(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function $b(s,a){var c=Ge();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&gg(a,h[1]))return h[0];if(h=s(),ao){Vt(!0);try{s()}finally{Vt(!1)}}return c.memoizedState=[h,a],h}function Cg(s,a,c){return c===void 0||(Gs&1073741824)!==0&&(Gt&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=Wv(),jt.lanes|=s,$r|=s,c)}function Wb(s,a,c,h){return ri(c,a)?c:ul.current!==null?(s=Cg(s,c,h),ri(s,a)||(nn=!0),s):(Gs&42)===0||(Gs&1073741824)!==0&&(Gt&261930)===0?(nn=!0,s.memoizedState=c):(s=Wv(),jt.lanes|=s,$r|=s,a)}function Kb(s,a,c,h,g){var y=lt.p;lt.p=y!==0&&8>y?y:8;var w=Q.T,R={};Q.T=R,Ng(s,!1,a,c);try{var V=g(),K=Q.S;if(K!==null&&K(R,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var it=rR(V,h);Fc(s,a,it,hi(s))}else Fc(s,a,h,hi(s))}catch(at){Fc(s,a,{then:function(){},status:"rejected",reason:at},hi())}finally{lt.p=y,w!==null&&R.types!==null&&(w.types=R.types),Q.T=w}}function hR(){}function Rg(s,a,c,h){if(s.tag!==5)throw Error(i(476));var g=Qb(s).queue;Kb(s,g,a,ft,c===null?hR:function(){return Xb(s),c(h)})}function Qb(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:ft},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ys,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Xb(s){var a=Qb(s);a.next===null&&(a=s.alternate.memoizedState),Fc(s,a.next.queue,{},hi())}function Ig(){return wn(ru)}function Jb(){return Ge().memoizedState}function Zb(){return Ge().memoizedState}function dR(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=hi();s=Br(c);var h=Fr(a,s,c);h!==null&&($n(h,a,c),jc(h,a,c)),a={cache:sg()},s.payload=a;return}a=a.return}}function fR(s,a,c){var h=hi();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},pd(s)?ev(a,c):(c=$m(s,a,c,h),c!==null&&($n(c,s,h),nv(c,a,h)))}function tv(s,a,c){var h=hi();Fc(s,a,c,h)}function Fc(s,a,c,h){var g={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(pd(s))ev(a,g);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=a.lastRenderedReducer,y!==null))try{var w=a.lastRenderedState,R=y(w,c);if(g.hasEagerState=!0,g.eagerState=R,ri(R,w))return Qh(s,a,g,0),be===null&&Kh(),!1}catch{}if(c=$m(s,a,g,h),c!==null)return $n(c,s,h),nv(c,a,h),!0}return!1}function Ng(s,a,c,h){if(h={lane:2,revertLane:lp(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},pd(s)){if(a)throw Error(i(479))}else a=$m(s,c,h,2),a!==null&&$n(a,s,2)}function pd(s){var a=s.alternate;return s===jt||a!==null&&a===jt}function ev(s,a){hl=cd=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function nv(s,a,c){if((c&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,ns(s,c)}}var Hc={readContext:wn,use:dd,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le};Hc.useEffectEvent=Le;var iv={readContext:wn,use:dd,useCallback:function(s,a){return Vn().memoizedState=[s,a===void 0?null:a],s},useContext:wn,useEffect:zb,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,md(4194308,4,qb.bind(null,a,s),c)},useLayoutEffect:function(s,a){return md(4194308,4,s,a)},useInsertionEffect:function(s,a){md(4,2,s,a)},useMemo:function(s,a){var c=Vn();a=a===void 0?null:a;var h=s();if(ao){Vt(!0);try{s()}finally{Vt(!1)}}return c.memoizedState=[h,a],h},useReducer:function(s,a,c){var h=Vn();if(c!==void 0){var g=c(a);if(ao){Vt(!0);try{c(a)}finally{Vt(!1)}}}else g=a;return h.memoizedState=h.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},h.queue=s,s=s.dispatch=fR.bind(null,jt,s),[h.memoizedState,s]},useRef:function(s){var a=Vn();return s={current:s},a.memoizedState=s},useState:function(s){s=Eg(s);var a=s.queue,c=tv.bind(null,jt,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:Ag,useDeferredValue:function(s,a){var c=Vn();return Cg(c,s,a)},useTransition:function(){var s=Eg(!1);return s=Kb.bind(null,jt,s.queue,!0,!1),Vn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var h=jt,g=Vn();if(Xt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),be===null)throw Error(i(349));(Gt&127)!==0||Tb(h,a,c)}g.memoizedState=c;var y={value:c,getSnapshot:a};return g.queue=y,zb(Ab.bind(null,h,y,s),[s]),h.flags|=2048,fl(9,{destroy:void 0},Sb.bind(null,h,y,c,a),null),c},useId:function(){var s=Vn(),a=be.identifierPrefix;if(Xt){var c=ys,h=ps;c=(h&~(1<<32-It(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=ud++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=aR++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Ig,useFormState:Pb,useActionState:Pb,useOptimistic:function(s){var a=Vn();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Ng.bind(null,jt,!0,c),c.dispatch=a,[s,a]},useMemoCache:vg,useCacheRefresh:function(){return Vn().memoizedState=dR.bind(null,jt)},useEffectEvent:function(s){var a=Vn(),c={impl:s};return a.memoizedState=c,function(){if((oe&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},kg={readContext:wn,use:dd,useCallback:Yb,useContext:wn,useEffect:Sg,useImperativeHandle:Gb,useInsertionEffect:Fb,useLayoutEffect:Hb,useMemo:$b,useReducer:fd,useRef:Ub,useState:function(){return fd(Ys)},useDebugValue:Ag,useDeferredValue:function(s,a){var c=Ge();return Wb(c,pe.memoizedState,s,a)},useTransition:function(){var s=fd(Ys)[0],a=Ge().memoizedState;return[typeof s=="boolean"?s:Bc(s),a]},useSyncExternalStore:Eb,useId:Jb,useHostTransitionStatus:Ig,useFormState:Lb,useActionState:Lb,useOptimistic:function(s,a){var c=Ge();return Ib(c,pe,s,a)},useMemoCache:vg,useCacheRefresh:Zb};kg.useEffectEvent=Bb;var sv={readContext:wn,use:dd,useCallback:Yb,useContext:wn,useEffect:Sg,useImperativeHandle:Gb,useInsertionEffect:Fb,useLayoutEffect:Hb,useMemo:$b,useReducer:wg,useRef:Ub,useState:function(){return wg(Ys)},useDebugValue:Ag,useDeferredValue:function(s,a){var c=Ge();return pe===null?Cg(c,s,a):Wb(c,pe.memoizedState,s,a)},useTransition:function(){var s=wg(Ys)[0],a=Ge().memoizedState;return[typeof s=="boolean"?s:Bc(s),a]},useSyncExternalStore:Eb,useId:Jb,useHostTransitionStatus:Ig,useFormState:Vb,useActionState:Vb,useOptimistic:function(s,a){var c=Ge();return pe!==null?Ib(c,pe,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:vg,useCacheRefresh:Zb};sv.useEffectEvent=Bb;function Dg(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:_({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Mg={enqueueSetState:function(s,a,c){s=s._reactInternals;var h=hi(),g=Br(h);g.payload=a,c!=null&&(g.callback=c),a=Fr(s,g,h),a!==null&&($n(a,s,h),jc(a,s,h))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=hi(),g=Br(h);g.tag=1,g.payload=a,c!=null&&(g.callback=c),a=Fr(s,g,h),a!==null&&($n(a,s,h),jc(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=hi(),h=Br(c);h.tag=2,a!=null&&(h.callback=a),a=Fr(s,h,c),a!==null&&($n(a,s,c),jc(a,s,c))}};function rv(s,a,c,h,g,y,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,w):a.prototype&&a.prototype.isPureReactComponent?!Ic(c,h)||!Ic(g,y):!0}function av(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&Mg.enqueueReplaceState(a,a.state,null)}function oo(s,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(s=s.defaultProps){c===a&&(c=_({},c));for(var g in s)c[g]===void 0&&(c[g]=s[g])}return c}function ov(s){Wh(s)}function lv(s){console.error(s)}function cv(s){Wh(s)}function yd(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function uv(s,a,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Og(s,a,c){return c=Br(c),c.tag=3,c.payload={element:null},c.callback=function(){yd(s,a)},c}function hv(s){return s=Br(s),s.tag=3,s}function dv(s,a,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var y=h.value;s.payload=function(){return g(y)},s.callback=function(){uv(a,c,h)}}var w=c.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){uv(a,c,h),typeof g!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function mR(s,a,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&rl(a,c,g,!0),c=oi.current,c!==null){switch(c.tag){case 31:case 13:return Ri===null?Id():c.alternate===null&&je===0&&(je=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===sd?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),rp(s,h,g)),!1;case 22:return c.flags|=65536,h===sd?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),rp(s,h,g)),!1}throw Error(i(435,c.tag))}return rp(s,h,g),Id(),!1}if(Xt)return a=oi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=g,h!==Zm&&(s=Error(i(422),{cause:h}),Dc(Ti(s,c)))):(h!==Zm&&(a=Error(i(423),{cause:h}),Dc(Ti(a,c))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,h=Ti(h,c),g=Og(s.stateNode,h,g),ug(s,g),je!==4&&(je=2)),!1;var y=Error(i(520),{cause:h});if(y=Ti(y,c),Xc===null?Xc=[y]:Xc.push(y),je!==4&&(je=2),a===null)return!0;h=Ti(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=g&-g,c.lanes|=s,s=Og(c.stateNode,h,s),ug(c,s),!1;case 1:if(a=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wr===null||!Wr.has(y))))return c.flags|=65536,g&=-g,c.lanes|=g,g=hv(g),dv(g,s,c,h),ug(c,g),!1}c=c.return}while(c!==null);return!1}var Pg=Error(i(461)),nn=!1;function En(s,a,c,h){a.child=s===null?pb(a,null,c,h):ro(a,s.child,c,h)}function fv(s,a,c,h,g){c=c.render;var y=a.ref;if("ref"in h){var w={};for(var R in h)R!=="ref"&&(w[R]=h[R])}else w=h;return eo(a),h=pg(s,a,c,w,y,g),R=yg(),s!==null&&!nn?(_g(s,a,g),$s(s,a,g)):(Xt&&R&&Xm(a),a.flags|=1,En(s,a,h,g),a.child)}function mv(s,a,c,h,g){if(s===null){var y=c.type;return typeof y=="function"&&!Wm(y)&&y.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=y,gv(s,a,y,h,g)):(s=Jh(c.type,null,h,a,a.mode,g),s.ref=a.ref,s.return=a,a.child=s)}if(y=s.child,!Hg(s,g)){var w=y.memoizedProps;if(c=c.compare,c=c!==null?c:Ic,c(w,h)&&s.ref===a.ref)return $s(s,a,g)}return a.flags|=1,s=Bs(y,h),s.ref=a.ref,s.return=a,a.child=s}function gv(s,a,c,h,g){if(s!==null){var y=s.memoizedProps;if(Ic(y,h)&&s.ref===a.ref)if(nn=!1,a.pendingProps=h=y,Hg(s,g))(s.flags&131072)!==0&&(nn=!0);else return a.lanes=s.lanes,$s(s,a,g)}return Lg(s,a,c,h,g)}function pv(s,a,c,h){var g=h.children,y=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(y=y!==null?y.baseLanes|c:c,s!==null){for(h=a.child=s.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~y}else h=0,a.child=null;return yv(s,a,y,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&nd(a,y!==null?y.cachePool:null),y!==null?bb(a,y):dg(),vb(a);else return h=a.lanes=536870912,yv(s,a,y!==null?y.baseLanes|c:c,c,h)}else y!==null?(nd(a,y.cachePool),bb(a,y),qr(),a.memoizedState=null):(s!==null&&nd(a,null),dg(),qr());return En(s,a,g,c),a.child}function qc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function yv(s,a,c,h,g){var y=ag();return y=y===null?null:{parent:tn._currentValue,pool:y},a.memoizedState={baseLanes:c,cachePool:y},s!==null&&nd(a,null),dg(),vb(a),s!==null&&rl(s,a,h,!0),a.childLanes=g,null}function _d(s,a){return a=vd({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function _v(s,a,c){return ro(a,s.child,null,c),s=_d(a,a.pendingProps),s.flags|=2,li(a),a.memoizedState=null,s}function gR(s,a,c){var h=a.pendingProps,g=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Xt){if(h.mode==="hidden")return s=_d(a,h),a.lanes=536870912,qc(null,s);if(mg(a),(s=we)?(s=Nx(s,Ci),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Lr!==null?{id:ps,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},c=eb(s),c.return=a,a.child=c,xn=a,we=null)):s=null,s===null)throw Vr(a);return a.lanes=536870912,null}return _d(a,h)}var y=s.memoizedState;if(y!==null){var w=y.dehydrated;if(mg(a),g)if(a.flags&256)a.flags&=-257,a=_v(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(nn||rl(s,a,c,!1),g=(c&s.childLanes)!==0,nn||g){if(h=be,h!==null&&(w=Ar(h,c),w!==0&&w!==y.retryLane))throw y.retryLane=w,Xa(s,w),$n(h,s,w),Pg;Id(),a=_v(s,a,c)}else s=y.treeContext,we=Ii(w.nextSibling),xn=a,Xt=!0,jr=null,Ci=!1,s!==null&&sb(a,s),a=_d(a,h),a.flags|=4096;return a}return s=Bs(s.child,{mode:h.mode,children:h.children}),s.ref=a.ref,a.child=s,s.return=a,s}function bd(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function Lg(s,a,c,h,g){return eo(a),c=pg(s,a,c,h,void 0,g),h=yg(),s!==null&&!nn?(_g(s,a,g),$s(s,a,g)):(Xt&&h&&Xm(a),a.flags|=1,En(s,a,c,g),a.child)}function bv(s,a,c,h,g,y){return eo(a),a.updateQueue=null,c=wb(a,h,c,g),xb(s),h=yg(),s!==null&&!nn?(_g(s,a,y),$s(s,a,y)):(Xt&&h&&Xm(a),a.flags|=1,En(s,a,c,y),a.child)}function vv(s,a,c,h,g){if(eo(a),a.stateNode===null){var y=el,w=c.contextType;typeof w=="object"&&w!==null&&(y=wn(w)),y=new c(h,y),a.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Mg,a.stateNode=y,y._reactInternals=a,y=a.stateNode,y.props=h,y.state=a.memoizedState,y.refs={},lg(a),w=c.contextType,y.context=typeof w=="object"&&w!==null?wn(w):el,y.state=a.memoizedState,w=c.getDerivedStateFromProps,typeof w=="function"&&(Dg(a,c,w,h),y.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(w=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),w!==y.state&&Mg.enqueueReplaceState(y,y.state,null),Uc(a,h,y,g),Vc(),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){y=a.stateNode;var R=a.memoizedProps,V=oo(c,R);y.props=V;var K=y.context,it=c.contextType;w=el,typeof it=="object"&&it!==null&&(w=wn(it));var at=c.getDerivedStateFromProps;it=typeof at=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,it||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||K!==w)&&av(a,y,h,w),zr=!1;var X=a.memoizedState;y.state=X,Uc(a,h,y,g),Vc(),K=a.memoizedState,R||X!==K||zr?(typeof at=="function"&&(Dg(a,c,at,h),K=a.memoizedState),(V=zr||rv(a,c,V,h,X,K,w))?(it||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(a.flags|=4194308)):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=K),y.props=h,y.state=K,y.context=w,h=V):(typeof y.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{y=a.stateNode,cg(s,a),w=a.memoizedProps,it=oo(c,w),y.props=it,at=a.pendingProps,X=y.context,K=c.contextType,V=el,typeof K=="object"&&K!==null&&(V=wn(K)),R=c.getDerivedStateFromProps,(K=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w!==at||X!==V)&&av(a,y,h,V),zr=!1,X=a.memoizedState,y.state=X,Uc(a,h,y,g),Vc();var Z=a.memoizedState;w!==at||X!==Z||zr||s!==null&&s.dependencies!==null&&td(s.dependencies)?(typeof R=="function"&&(Dg(a,c,R,h),Z=a.memoizedState),(it=zr||rv(a,c,it,h,X,Z,V)||s!==null&&s.dependencies!==null&&td(s.dependencies))?(K||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(h,Z,V),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(h,Z,V)),typeof y.componentDidUpdate=="function"&&(a.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Z),y.props=h,y.state=Z,y.context=V,h=it):(typeof y.componentDidUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(a.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&X===s.memoizedState||(a.flags|=1024),h=!1)}return y=h,bd(s,a),h=(a.flags&128)!==0,y||h?(y=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:y.render(),a.flags|=1,s!==null&&h?(a.child=ro(a,s.child,null,g),a.child=ro(a,null,c,g)):En(s,a,c,g),a.memoizedState=y.state,s=a.child):s=$s(s,a,g),s}function xv(s,a,c,h){return Za(),a.flags|=256,En(s,a,c,h),a.child}var jg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vg(s){return{baseLanes:s,cachePool:ub()}}function Ug(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=ui),s}function wv(s,a,c){var h=a.pendingProps,g=!1,y=(a.flags&128)!==0,w;if((w=y)||(w=s!==null&&s.memoizedState===null?!1:(qe.current&2)!==0),w&&(g=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,s===null){if(Xt){if(g?Hr(a):qr(),(s=we)?(s=Nx(s,Ci),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:Lr!==null?{id:ps,overflow:ys}:null,retryLane:536870912,hydrationErrors:null},c=eb(s),c.return=a,a.child=c,xn=a,we=null)):s=null,s===null)throw Vr(a);return xp(s)?a.lanes=32:a.lanes=536870912,null}var R=h.children;return h=h.fallback,g?(qr(),g=a.mode,R=vd({mode:"hidden",children:R},g),h=Ja(h,g,c,null),R.return=a,h.return=a,R.sibling=h,a.child=R,h=a.child,h.memoizedState=Vg(c),h.childLanes=Ug(s,w,c),a.memoizedState=jg,qc(null,h)):(Hr(a),zg(a,R))}var V=s.memoizedState;if(V!==null&&(R=V.dehydrated,R!==null)){if(y)a.flags&256?(Hr(a),a.flags&=-257,a=Bg(s,a,c)):a.memoizedState!==null?(qr(),a.child=s.child,a.flags|=128,a=null):(qr(),R=h.fallback,g=a.mode,h=vd({mode:"visible",children:h.children},g),R=Ja(R,g,c,null),R.flags|=2,h.return=a,R.return=a,h.sibling=R,a.child=h,ro(a,s.child,null,c),h=a.child,h.memoizedState=Vg(c),h.childLanes=Ug(s,w,c),a.memoizedState=jg,a=qc(null,h));else if(Hr(a),xp(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var K=w.dgst;w=K,h=Error(i(419)),h.stack="",h.digest=w,Dc({value:h,source:null,stack:null}),a=Bg(s,a,c)}else if(nn||rl(s,a,c,!1),w=(c&s.childLanes)!==0,nn||w){if(w=be,w!==null&&(h=Ar(w,c),h!==0&&h!==V.retryLane))throw V.retryLane=h,Xa(s,h),$n(w,s,h),Pg;vp(R)||Id(),a=Bg(s,a,c)}else vp(R)?(a.flags|=192,a.child=s.child,a=null):(s=V.treeContext,we=Ii(R.nextSibling),xn=a,Xt=!0,jr=null,Ci=!1,s!==null&&sb(a,s),a=zg(a,h.children),a.flags|=4096);return a}return g?(qr(),R=h.fallback,g=a.mode,V=s.child,K=V.sibling,h=Bs(V,{mode:"hidden",children:h.children}),h.subtreeFlags=V.subtreeFlags&65011712,K!==null?R=Bs(K,R):(R=Ja(R,g,c,null),R.flags|=2),R.return=a,h.return=a,h.sibling=R,a.child=h,qc(null,h),h=a.child,R=s.child.memoizedState,R===null?R=Vg(c):(g=R.cachePool,g!==null?(V=tn._currentValue,g=g.parent!==V?{parent:V,pool:V}:g):g=ub(),R={baseLanes:R.baseLanes|c,cachePool:g}),h.memoizedState=R,h.childLanes=Ug(s,w,c),a.memoizedState=jg,qc(s.child,h)):(Hr(a),c=s.child,s=c.sibling,c=Bs(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,s!==null&&(w=a.deletions,w===null?(a.deletions=[s],a.flags|=16):w.push(s)),a.child=c,a.memoizedState=null,c)}function zg(s,a){return a=vd({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function vd(s,a){return s=ai(22,s,null,a),s.lanes=0,s}function Bg(s,a,c){return ro(a,s.child,null,c),s=zg(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Ev(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),ng(s.return,a,c)}function Fg(s,a,c,h,g,y){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g,treeForkCount:y}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=g,w.treeForkCount=y)}function Tv(s,a,c){var h=a.pendingProps,g=h.revealOrder,y=h.tail;h=h.children;var w=qe.current,R=(w&2)!==0;if(R?(w=w&1|2,a.flags|=128):w&=1,ut(qe,w),En(s,a,h,c),h=Xt?kc:0,!R&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Ev(s,c,a);else if(s.tag===19)Ev(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(c=a.child,g=null;c!==null;)s=c.alternate,s!==null&&ld(s)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),Fg(a,!1,g,c,y,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(s=g.alternate,s!==null&&ld(s)===null){a.child=g;break}s=g.sibling,g.sibling=c,c=g,g=s}Fg(a,!0,c,null,y,h);break;case"together":Fg(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function $s(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),$r|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(rl(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,c=Bs(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Bs(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Hg(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&td(s)))}function pR(s,a,c){switch(a.tag){case 3:re(a,a.stateNode.containerInfo),Ur(a,tn,s.memoizedState.cache),Za();break;case 27:case 5:Zn(a);break;case 4:re(a,a.stateNode.containerInfo);break;case 10:Ur(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,mg(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Hr(a),a.flags|=128,null):(c&a.child.childLanes)!==0?wv(s,a,c):(Hr(a),s=$s(s,a,c),s!==null?s.sibling:null);Hr(a);break;case 19:var g=(s.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(rl(s,a,c,!1),h=(c&a.childLanes)!==0),g){if(h)return Tv(s,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ut(qe,qe.current),h)break;return null;case 22:return a.lanes=0,pv(s,a,c,a.pendingProps);case 24:Ur(a,tn,s.memoizedState.cache)}return $s(s,a,c)}function Sv(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)nn=!0;else{if(!Hg(s,c)&&(a.flags&128)===0)return nn=!1,pR(s,a,c);nn=(s.flags&131072)!==0}else nn=!1,Xt&&(a.flags&1048576)!==0&&ib(a,kc,a.index);switch(a.lanes=0,a.tag){case 16:t:{var h=a.pendingProps;if(s=io(a.elementType),a.type=s,typeof s=="function")Wm(s)?(h=oo(s,h),a.tag=1,a=vv(null,a,s,h,c)):(a.tag=0,a=Lg(null,a,s,h,c));else{if(s!=null){var g=s.$$typeof;if(g===Y){a.tag=11,a=fv(null,a,s,h,c);break t}else if(g===N){a.tag=14,a=mv(null,a,s,h,c);break t}}throw a=Nt(s)||s,Error(i(306,a,""))}}return a;case 0:return Lg(s,a,a.type,a.pendingProps,c);case 1:return h=a.type,g=oo(h,a.pendingProps),vv(s,a,h,g,c);case 3:t:{if(re(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var y=a.memoizedState;g=y.element,cg(s,a),Uc(a,h,null,c);var w=a.memoizedState;if(h=w.cache,Ur(a,tn,h),h!==y.cache&&ig(a,[tn],c,!0),Vc(),h=w.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=y,a.memoizedState=y,a.flags&256){a=xv(s,a,h,c);break t}else if(h!==g){g=Ti(Error(i(424)),a),Dc(g),a=xv(s,a,h,c);break t}else for(s=a.stateNode.containerInfo,s.nodeType===9?s=s.body:s=s.nodeName==="HTML"?s.ownerDocument.body:s,we=Ii(s.firstChild),xn=a,Xt=!0,jr=null,Ci=!0,c=pb(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Za(),h===g){a=$s(s,a,c);break t}En(s,a,h,c)}a=a.child}return a;case 26:return bd(s,a),s===null?(c=Lx(a.type,null,a.pendingProps,null))?a.memoizedState=c:Xt||(c=a.type,s=a.pendingProps,h=Ld(Tt.current).createElement(c),h[Xe]=a,h[fn]=s,Tn(h,c,s),Je(h),a.stateNode=h):a.memoizedState=Lx(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Zn(a),s===null&&Xt&&(h=a.stateNode=Mx(a.type,a.pendingProps,Tt.current),xn=a,Ci=!0,g=we,Jr(a.type)?(wp=g,we=Ii(h.firstChild)):we=g),En(s,a,a.pendingProps.children,c),bd(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Xt&&((g=h=we)&&(h=YR(h,a.type,a.pendingProps,Ci),h!==null?(a.stateNode=h,xn=a,we=Ii(h.firstChild),Ci=!1,g=!0):g=!1),g||Vr(a)),Zn(a),g=a.type,y=a.pendingProps,w=s!==null?s.memoizedProps:null,h=y.children,yp(g,y)?h=null:w!==null&&yp(g,w)&&(a.flags|=32),a.memoizedState!==null&&(g=pg(s,a,oR,null,null,c),ru._currentValue=g),bd(s,a),En(s,a,h,c),a.child;case 6:return s===null&&Xt&&((s=c=we)&&(c=$R(c,a.pendingProps,Ci),c!==null?(a.stateNode=c,xn=a,we=null,s=!0):s=!1),s||Vr(a)),null;case 13:return wv(s,a,c);case 4:return re(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=ro(a,null,h,c):En(s,a,h,c),a.child;case 11:return fv(s,a,a.type,a.pendingProps,c);case 7:return En(s,a,a.pendingProps,c),a.child;case 8:return En(s,a,a.pendingProps.children,c),a.child;case 12:return En(s,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,Ur(a,a.type,h.value),En(s,a,h.children,c),a.child;case 9:return g=a.type._context,h=a.pendingProps.children,eo(a),g=wn(g),h=h(g),a.flags|=1,En(s,a,h,c),a.child;case 14:return mv(s,a,a.type,a.pendingProps,c);case 15:return gv(s,a,a.type,a.pendingProps,c);case 19:return Tv(s,a,c);case 31:return gR(s,a,c);case 22:return pv(s,a,c,a.pendingProps);case 24:return eo(a),h=wn(tn),s===null?(g=ag(),g===null&&(g=be,y=sg(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=c),g=y),a.memoizedState={parent:h,cache:g},lg(a),Ur(a,tn,g)):((s.lanes&c)!==0&&(cg(s,a),Uc(a,null,null,c),Vc()),g=s.memoizedState,y=a.memoizedState,g.parent!==h?(g={parent:h,cache:h},a.memoizedState=g,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=g),Ur(a,tn,h)):(h=y.cache,Ur(a,tn,h),h!==g.cache&&ig(a,[tn],c,!0))),En(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ws(s){s.flags|=4}function qg(s,a,c,h,g){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(Jv())s.flags|=8192;else throw so=sd,og}else s.flags&=-16777217}function Av(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Bx(a))if(Jv())s.flags|=8192;else throw so=sd,og}function xd(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Ls():536870912,s.lanes|=a,yl|=a)}function Gc(s,a){if(!Xt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Ee(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function yR(s,a,c){var h=a.pendingProps;switch(Jm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(a),null;case 1:return Ee(a),null;case 3:return c=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),qs(tn),ce(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(sl(a)?Ws(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,tg())),Ee(a),null;case 26:var g=a.type,y=a.memoizedState;return s===null?(Ws(a),y!==null?(Ee(a),Av(a,y)):(Ee(a),qg(a,g,null,h,c))):y?y!==s.memoizedState?(Ws(a),Ee(a),Av(a,y)):(Ee(a),a.flags&=-16777217):(s=s.memoizedProps,s!==h&&Ws(a),Ee(a),qg(a,g,s,h,c)),null;case 27:if(ct(a),c=Tt.current,g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ws(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Ee(a),null}s=dt.current,sl(a)?rb(a):(s=Mx(g,h,c),a.stateNode=s,Ws(a))}return Ee(a),null;case 5:if(ct(a),g=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ws(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Ee(a),null}if(y=dt.current,sl(a))rb(a);else{var w=Ld(Tt.current);switch(y){case 1:y=w.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:y=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":y=w.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":y=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":y=w.createElement("div"),y.innerHTML="<script><\/script>",y=y.removeChild(y.firstChild);break;case"select":y=typeof h.is=="string"?w.createElement("select",{is:h.is}):w.createElement("select"),h.multiple?y.multiple=!0:h.size&&(y.size=h.size);break;default:y=typeof h.is=="string"?w.createElement(g,{is:h.is}):w.createElement(g)}}y[Xe]=a,y[fn]=h;t:for(w=a.child;w!==null;){if(w.tag===5||w.tag===6)y.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===a)break t;for(;w.sibling===null;){if(w.return===null||w.return===a)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}a.stateNode=y;t:switch(Tn(y,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Ws(a)}}return Ee(a),qg(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Ws(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=Tt.current,sl(a)){if(s=a.stateNode,c=a.memoizedProps,h=null,g=xn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}s[Xe]=a,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||wx(s.nodeValue,c)),s||Vr(a,!0)}else s=Ld(s).createTextNode(h),s[Xe]=a,a.stateNode=s}return Ee(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(h=sl(a),c!==null){if(s===null){if(!h)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Xe]=a}else Za(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ee(a),s=!1}else c=tg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(li(a),a):(li(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Ee(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=sl(a),h!==null&&h.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=a.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Xe]=a}else Za(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ee(a),g=!1}else g=tg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return a.flags&256?(li(a),a):(li(a),null)}return li(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=a.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==g&&(h.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),xd(a,a.updateQueue),Ee(a),null);case 4:return ce(),s===null&&dp(a.stateNode.containerInfo),Ee(a),null;case 10:return qs(a.type),Ee(a),null;case 19:if(nt(qe),h=a.memoizedState,h===null)return Ee(a),null;if(g=(a.flags&128)!==0,y=h.rendering,y===null)if(g)Gc(h,!1);else{if(je!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(y=ld(s),y!==null){for(a.flags|=128,Gc(h,!1),s=y.updateQueue,a.updateQueue=s,xd(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)tb(c,s),c=c.sibling;return ut(qe,qe.current&1|2),Xt&&Fs(a,h.treeForkCount),a.child}s=s.sibling}h.tail!==null&&dn()>Ad&&(a.flags|=128,g=!0,Gc(h,!1),a.lanes=4194304)}else{if(!g)if(s=ld(y),s!==null){if(a.flags|=128,g=!0,s=s.updateQueue,a.updateQueue=s,xd(a,s),Gc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Xt)return Ee(a),null}else 2*dn()-h.renderingStartTime>Ad&&c!==536870912&&(a.flags|=128,g=!0,Gc(h,!1),a.lanes=4194304);h.isBackwards?(y.sibling=a.child,a.child=y):(s=h.last,s!==null?s.sibling=y:a.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=dn(),s.sibling=null,c=qe.current,ut(qe,g?c&1|2:c&1),Xt&&Fs(a,h.treeForkCount),s):(Ee(a),null);case 22:case 23:return li(a),fg(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(Ee(a),a.subtreeFlags&6&&(a.flags|=8192)):Ee(a),c=a.updateQueue,c!==null&&xd(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),s!==null&&nt(no),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),qs(tn),Ee(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function _R(s,a){switch(Jm(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return qs(tn),ce(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return ct(a),null;case 31:if(a.memoizedState!==null){if(li(a),a.alternate===null)throw Error(i(340));Za()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(li(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Za()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return nt(qe),null;case 4:return ce(),null;case 10:return qs(a.type),null;case 22:case 23:return li(a),fg(),s!==null&&nt(no),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return qs(tn),null;case 25:return null;default:return null}}function Cv(s,a){switch(Jm(a),a.tag){case 3:qs(tn),ce();break;case 26:case 27:case 5:ct(a);break;case 4:ce();break;case 31:a.memoizedState!==null&&li(a);break;case 13:li(a);break;case 19:nt(qe);break;case 10:qs(a.type);break;case 22:case 23:li(a),fg(),s!==null&&nt(no);break;case 24:qs(tn)}}function Yc(s,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&s)===s){h=void 0;var y=c.create,w=c.inst;h=y(),w.destroy=h}c=c.next}while(c!==g)}}catch(R){fe(a,a.return,R)}}function Gr(s,a,c){try{var h=a.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var y=g.next;h=y;do{if((h.tag&s)===s){var w=h.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,g=a;var V=c,K=R;try{K()}catch(it){fe(g,V,it)}}}h=h.next}while(h!==y)}}catch(it){fe(a,a.return,it)}}function Rv(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{_b(a,c)}catch(h){fe(s,s.return,h)}}}function Iv(s,a,c){c.props=oo(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){fe(s,a,h)}}function $c(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(g){fe(s,a,g)}}function _s(s,a){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){fe(s,a,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){fe(s,a,g)}else c.current=null}function Nv(s){var a=s.type,c=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){fe(s,s.return,g)}}function Gg(s,a,c){try{var h=s.stateNode;zR(h,s.type,c,a),h[fn]=a}catch(g){fe(s,s.return,g)}}function kv(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Jr(s.type)||s.tag===4}function Yg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||kv(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Jr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $g(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=zi));else if(h!==4&&(h===27&&Jr(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for($g(s,a,c),s=s.sibling;s!==null;)$g(s,a,c),s=s.sibling}function wd(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(h===27&&Jr(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(wd(s,a,c),s=s.sibling;s!==null;)wd(s,a,c),s=s.sibling}function Dv(s){var a=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,g=a.attributes;g.length;)a.removeAttributeNode(g[0]);Tn(a,h,c),a[Xe]=s,a[fn]=c}catch(y){fe(s,s.return,y)}}var Ks=!1,sn=!1,Wg=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,gn=null;function bR(s,a){if(s=s.containerInfo,gp=Hd,s=G_(s),Bm(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break t}var w=0,R=-1,V=-1,K=0,it=0,at=s,X=null;e:for(;;){for(var Z;at!==c||g!==0&&at.nodeType!==3||(R=w+g),at!==y||h!==0&&at.nodeType!==3||(V=w+h),at.nodeType===3&&(w+=at.nodeValue.length),(Z=at.firstChild)!==null;)X=at,at=Z;for(;;){if(at===s)break e;if(X===c&&++K===g&&(R=w),X===y&&++it===h&&(V=w),(Z=at.nextSibling)!==null)break;at=X,X=at.parentNode}at=Z}c=R===-1||V===-1?null:{start:R,end:V}}else c=null}c=c||{start:0,end:0}}else c=null;for(pp={focusedElem:s,selectionRange:c},Hd=!1,gn=a;gn!==null;)if(a=gn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,gn=s;else for(;gn!==null;){switch(a=gn,y=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)g=s[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&y!==null){s=void 0,c=a,g=y.memoizedProps,y=y.memoizedState,h=c.stateNode;try{var _t=oo(c.type,g);s=h.getSnapshotBeforeUpdate(_t,y),h.__reactInternalSnapshotBeforeUpdate=s}catch(At){fe(c,c.return,At)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)bp(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":bp(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,gn=s;break}gn=a.return}}function Ov(s,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Xs(s,c),h&4&&Yc(5,c);break;case 1:if(Xs(s,c),h&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(w){fe(c,c.return,w)}else{var g=oo(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(g,a,s.__reactInternalSnapshotBeforeUpdate)}catch(w){fe(c,c.return,w)}}h&64&&Rv(c),h&512&&$c(c,c.return);break;case 3:if(Xs(s,c),h&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{_b(s,a)}catch(w){fe(c,c.return,w)}}break;case 27:a===null&&h&4&&Dv(c);case 26:case 5:Xs(s,c),a===null&&h&4&&Nv(c),h&512&&$c(c,c.return);break;case 12:Xs(s,c);break;case 31:Xs(s,c),h&4&&jv(s,c);break;case 13:Xs(s,c),h&4&&Vv(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=RR.bind(null,c),WR(s,c))));break;case 22:if(h=c.memoizedState!==null||Ks,!h){a=a!==null&&a.memoizedState!==null||sn,g=Ks;var y=sn;Ks=h,(sn=a)&&!y?Js(s,c,(c.subtreeFlags&8772)!==0):Xs(s,c),Ks=g,sn=y}break;case 30:break;default:Xs(s,c)}}function Pv(s){var a=s.alternate;a!==null&&(s.alternate=null,Pv(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Bo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ce=null,Hn=!1;function Qs(s,a,c){for(c=c.child;c!==null;)Lv(s,a,c),c=c.sibling}function Lv(s,a,c){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(tt,c)}catch{}switch(c.tag){case 26:sn||_s(c,a),Qs(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:sn||_s(c,a);var h=Ce,g=Hn;Jr(c.type)&&(Ce=c.stateNode,Hn=!1),Qs(s,a,c),nu(c.stateNode),Ce=h,Hn=g;break;case 5:sn||_s(c,a);case 6:if(h=Ce,g=Hn,Ce=null,Qs(s,a,c),Ce=h,Hn=g,Ce!==null)if(Hn)try{(Ce.nodeType===9?Ce.body:Ce.nodeName==="HTML"?Ce.ownerDocument.body:Ce).removeChild(c.stateNode)}catch(y){fe(c,a,y)}else try{Ce.removeChild(c.stateNode)}catch(y){fe(c,a,y)}break;case 18:Ce!==null&&(Hn?(s=Ce,Rx(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),Sl(s)):Rx(Ce,c.stateNode));break;case 4:h=Ce,g=Hn,Ce=c.stateNode.containerInfo,Hn=!0,Qs(s,a,c),Ce=h,Hn=g;break;case 0:case 11:case 14:case 15:Gr(2,c,a),sn||Gr(4,c,a),Qs(s,a,c);break;case 1:sn||(_s(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&Iv(c,a,h)),Qs(s,a,c);break;case 21:Qs(s,a,c);break;case 22:sn=(h=sn)||c.memoizedState!==null,Qs(s,a,c),sn=h;break;default:Qs(s,a,c)}}function jv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{Sl(s)}catch(c){fe(a,a.return,c)}}}function Vv(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Sl(s)}catch(c){fe(a,a.return,c)}}function vR(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new Mv),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new Mv),a;default:throw Error(i(435,s.tag))}}function Ed(s,a){var c=vR(s);a.forEach(function(h){if(!c.has(h)){c.add(h);var g=IR.bind(null,s,h);h.then(g,g)}})}function qn(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],y=s,w=a,R=w;t:for(;R!==null;){switch(R.tag){case 27:if(Jr(R.type)){Ce=R.stateNode,Hn=!1;break t}break;case 5:Ce=R.stateNode,Hn=!1;break t;case 3:case 4:Ce=R.stateNode.containerInfo,Hn=!0;break t}R=R.return}if(Ce===null)throw Error(i(160));Lv(y,w,g),Ce=null,Hn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Uv(a,s),a=a.sibling}var Yi=null;function Uv(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:qn(a,s),Gn(s),h&4&&(Gr(3,s,s.return),Yc(3,s),Gr(5,s,s.return));break;case 1:qn(a,s),Gn(s),h&512&&(sn||c===null||_s(c,c.return)),h&64&&Ks&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=Yi;if(qn(a,s),Gn(s),h&512&&(sn||c===null||_s(c,c.return)),h&4){var y=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){t:{h=s.type,c=s.memoizedProps,g=g.ownerDocument||g;e:switch(h){case"title":y=g.getElementsByTagName("title")[0],(!y||y[ss]||y[Xe]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(h),g.head.insertBefore(y,g.querySelector("head > title"))),Tn(y,h,c),y[Xe]=s,Je(y),h=y;break t;case"link":var w=Ux("link","href",g).get(h+(c.href||""));if(w){for(var R=0;R<w.length;R++)if(y=w[R],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){w.splice(R,1);break e}}y=g.createElement(h),Tn(y,h,c),g.head.appendChild(y);break;case"meta":if(w=Ux("meta","content",g).get(h+(c.content||""))){for(R=0;R<w.length;R++)if(y=w[R],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){w.splice(R,1);break e}}y=g.createElement(h),Tn(y,h,c),g.head.appendChild(y);break;default:throw Error(i(468,h))}y[Xe]=s,Je(y),h=y}s.stateNode=h}else zx(g,s.type,s.stateNode);else s.stateNode=Vx(g,h,s.memoizedProps);else y!==h?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,h===null?zx(g,s.type,s.stateNode):Vx(g,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Gg(s,s.memoizedProps,c.memoizedProps)}break;case 27:qn(a,s),Gn(s),h&512&&(sn||c===null||_s(c,c.return)),c!==null&&h&4&&Gg(s,s.memoizedProps,c.memoizedProps);break;case 5:if(qn(a,s),Gn(s),h&512&&(sn||c===null||_s(c,c.return)),s.flags&32){g=s.stateNode;try{Fn(g,"")}catch(_t){fe(s,s.return,_t)}}h&4&&s.stateNode!=null&&(g=s.memoizedProps,Gg(s,g,c!==null?c.memoizedProps:g)),h&1024&&(Wg=!0);break;case 6:if(qn(a,s),Gn(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(_t){fe(s,s.return,_t)}}break;case 3:if(Ud=null,g=Yi,Yi=jd(a.containerInfo),qn(a,s),Yi=g,Gn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Sl(a.containerInfo)}catch(_t){fe(s,s.return,_t)}Wg&&(Wg=!1,zv(s));break;case 4:h=Yi,Yi=jd(s.stateNode.containerInfo),qn(a,s),Gn(s),Yi=h;break;case 12:qn(a,s),Gn(s);break;case 31:qn(a,s),Gn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Ed(s,h)));break;case 13:qn(a,s),Gn(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Sd=dn()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Ed(s,h)));break;case 22:g=s.memoizedState!==null;var V=c!==null&&c.memoizedState!==null,K=Ks,it=sn;if(Ks=K||g,sn=it||V,qn(a,s),sn=it,Ks=K,Gn(s),h&8192)t:for(a=s.stateNode,a._visibility=g?a._visibility&-2:a._visibility|1,g&&(c===null||V||Ks||sn||lo(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){V=c=a;try{if(y=V.stateNode,g)w=y.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=V.stateNode;var at=V.memoizedProps.style,X=at!=null&&at.hasOwnProperty("display")?at.display:null;R.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(_t){fe(V,V.return,_t)}}}else if(a.tag===6){if(c===null){V=a;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(_t){fe(V,V.return,_t)}}}else if(a.tag===18){if(c===null){V=a;try{var Z=V.stateNode;g?Ix(Z,!0):Ix(V.stateNode,!1)}catch(_t){fe(V,V.return,_t)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Ed(s,c))));break;case 19:qn(a,s),Gn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,Ed(s,h)));break;case 30:break;case 21:break;default:qn(a,s),Gn(s)}}function Gn(s){var a=s.flags;if(a&2){try{for(var c,h=s.return;h!==null;){if(kv(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var g=c.stateNode,y=Yg(s);wd(s,y,g);break;case 5:var w=c.stateNode;c.flags&32&&(Fn(w,""),c.flags&=-33);var R=Yg(s);wd(s,R,w);break;case 3:case 4:var V=c.stateNode.containerInfo,K=Yg(s);$g(s,K,V);break;default:throw Error(i(161))}}catch(it){fe(s,s.return,it)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function zv(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;zv(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Xs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Ov(s,a.alternate,a),a=a.sibling}function lo(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Gr(4,a,a.return),lo(a);break;case 1:_s(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&Iv(a,a.return,c),lo(a);break;case 27:nu(a.stateNode);case 26:case 5:_s(a,a.return),lo(a);break;case 22:a.memoizedState===null&&lo(a);break;case 30:lo(a);break;default:lo(a)}s=s.sibling}}function Js(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,g=s,y=a,w=y.flags;switch(y.tag){case 0:case 11:case 15:Js(g,y,c),Yc(4,y);break;case 1:if(Js(g,y,c),h=y,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(K){fe(h,h.return,K)}if(h=y,g=h.updateQueue,g!==null){var R=h.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)yb(V[g],R)}catch(K){fe(h,h.return,K)}}c&&w&64&&Rv(y),$c(y,y.return);break;case 27:Dv(y);case 26:case 5:Js(g,y,c),c&&h===null&&w&4&&Nv(y),$c(y,y.return);break;case 12:Js(g,y,c);break;case 31:Js(g,y,c),c&&w&4&&jv(g,y);break;case 13:Js(g,y,c),c&&w&4&&Vv(g,y);break;case 22:y.memoizedState===null&&Js(g,y,c),$c(y,y.return);break;case 30:break;default:Js(g,y,c)}a=a.sibling}}function Kg(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&Mc(c))}function Qg(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Mc(s))}function $i(s,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Bv(s,a,c,h),a=a.sibling}function Bv(s,a,c,h){var g=a.flags;switch(a.tag){case 0:case 11:case 15:$i(s,a,c,h),g&2048&&Yc(9,a);break;case 1:$i(s,a,c,h);break;case 3:$i(s,a,c,h),g&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Mc(s)));break;case 12:if(g&2048){$i(s,a,c,h),s=a.stateNode;try{var y=a.memoizedProps,w=y.id,R=y.onPostCommit;typeof R=="function"&&R(w,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){fe(a,a.return,V)}}else $i(s,a,c,h);break;case 31:$i(s,a,c,h);break;case 13:$i(s,a,c,h);break;case 23:break;case 22:y=a.stateNode,w=a.alternate,a.memoizedState!==null?y._visibility&2?$i(s,a,c,h):Wc(s,a):y._visibility&2?$i(s,a,c,h):(y._visibility|=2,ml(s,a,c,h,(a.subtreeFlags&10256)!==0||!1)),g&2048&&Kg(w,a);break;case 24:$i(s,a,c,h),g&2048&&Qg(a.alternate,a);break;default:$i(s,a,c,h)}}function ml(s,a,c,h,g){for(g=g&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var y=s,w=a,R=c,V=h,K=w.flags;switch(w.tag){case 0:case 11:case 15:ml(y,w,R,V,g),Yc(8,w);break;case 23:break;case 22:var it=w.stateNode;w.memoizedState!==null?it._visibility&2?ml(y,w,R,V,g):Wc(y,w):(it._visibility|=2,ml(y,w,R,V,g)),g&&K&2048&&Kg(w.alternate,w);break;case 24:ml(y,w,R,V,g),g&&K&2048&&Qg(w.alternate,w);break;default:ml(y,w,R,V,g)}a=a.sibling}}function Wc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,h=a,g=h.flags;switch(h.tag){case 22:Wc(c,h),g&2048&&Kg(h.alternate,h);break;case 24:Wc(c,h),g&2048&&Qg(h.alternate,h);break;default:Wc(c,h)}a=a.sibling}}var Kc=8192;function gl(s,a,c){if(s.subtreeFlags&Kc)for(s=s.child;s!==null;)Fv(s,a,c),s=s.sibling}function Fv(s,a,c){switch(s.tag){case 26:gl(s,a,c),s.flags&Kc&&s.memoizedState!==null&&aI(c,Yi,s.memoizedState,s.memoizedProps);break;case 5:gl(s,a,c);break;case 3:case 4:var h=Yi;Yi=jd(s.stateNode.containerInfo),gl(s,a,c),Yi=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Kc,Kc=16777216,gl(s,a,c),Kc=h):gl(s,a,c));break;default:gl(s,a,c)}}function Hv(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Qc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];gn=h,Gv(h,s)}Hv(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)qv(s),s=s.sibling}function qv(s){switch(s.tag){case 0:case 11:case 15:Qc(s),s.flags&2048&&Gr(9,s,s.return);break;case 3:Qc(s);break;case 12:Qc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Td(s)):Qc(s);break;default:Qc(s)}}function Td(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];gn=h,Gv(h,s)}Hv(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Gr(8,a,a.return),Td(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,Td(a));break;default:Td(a)}s=s.sibling}}function Gv(s,a){for(;gn!==null;){var c=gn;switch(c.tag){case 0:case 11:case 15:Gr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Mc(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,gn=h;else t:for(c=s;gn!==null;){h=gn;var g=h.sibling,y=h.return;if(Pv(h),h===c){gn=null;break t}if(g!==null){g.return=y,gn=g;break t}gn=y}}}var xR={getCacheForType:function(s){var a=wn(tn),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return wn(tn).controller.signal}},wR=typeof WeakMap=="function"?WeakMap:Map,oe=0,be=null,Ft=null,Gt=0,de=0,ci=null,Yr=!1,pl=!1,Xg=!1,Zs=0,je=0,$r=0,co=0,Jg=0,ui=0,yl=0,Xc=null,Yn=null,Zg=!1,Sd=0,Yv=0,Ad=1/0,Cd=null,Wr=null,cn=0,Kr=null,_l=null,tr=0,tp=0,ep=null,$v=null,Jc=0,np=null;function hi(){return(oe&2)!==0&&Gt!==0?Gt&-Gt:Q.T!==null?lp():Rh()}function Wv(){if(ui===0)if((Gt&536870912)===0||Xt){var s=Fe;Fe<<=1,(Fe&3932160)===0&&(Fe=262144),ui=s}else ui=536870912;return s=oi.current,s!==null&&(s.flags|=32),ui}function $n(s,a,c){(s===be&&(de===2||de===9)||s.cancelPendingCommit!==null)&&(bl(s,0),Qr(s,Gt,ui,!1)),ei(s,c),((oe&2)===0||s!==be)&&(s===be&&((oe&2)===0&&(co|=c),je===4&&Qr(s,Gt,ui,!1)),bs(s))}function Kv(s,a,c){if((oe&6)!==0)throw Error(i(327));var h=!c&&(a&127)===0&&(a&s.expiredLanes)===0||bn(s,a),g=h?SR(s,a):sp(s,a,!0),y=h;do{if(g===0){pl&&!h&&Qr(s,a,0,!1);break}else{if(c=s.current.alternate,y&&!ER(c)){g=sp(s,a,!1),y=!1;continue}if(g===2){if(y=a,s.errorRecoveryDisabledLanes&y)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;t:{var R=s;g=Xc;var V=R.current.memoizedState.isDehydrated;if(V&&(bl(R,w).flags|=256),w=sp(R,w,!1),w!==2){if(Xg&&!V){R.errorRecoveryDisabledLanes|=y,co|=y,g=4;break t}y=Yn,Yn=g,y!==null&&(Yn===null?Yn=y:Yn.push.apply(Yn,y))}g=w}if(y=!1,g!==2)continue}}if(g===1){bl(s,0),Qr(s,a,0,!0);break}t:{switch(h=s,y=g,y){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Qr(h,a,ui,!Yr);break t;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(g=Sd+300-dn(),10<g)){if(Qr(h,a,ui,!Yr),_n(h,0,!0)!==0)break t;tr=a,h.timeoutHandle=Ax(Qv.bind(null,h,c,Yn,Cd,Zg,a,ui,co,yl,Yr,y,"Throttled",-0,0),g);break t}Qv(h,c,Yn,Cd,Zg,a,ui,co,yl,Yr,y,null,-0,0)}}break}while(!0);bs(s)}function Qv(s,a,c,h,g,y,w,R,V,K,it,at,X,Z){if(s.timeoutHandle=-1,at=a.subtreeFlags,at&8192||(at&16785408)===16785408){at={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zi},Fv(a,y,at);var _t=(y&62914560)===y?Sd-dn():(y&4194048)===y?Yv-dn():0;if(_t=oI(at,_t),_t!==null){tr=y,s.cancelPendingCommit=_t(sx.bind(null,s,a,y,c,h,g,w,R,V,it,at,null,X,Z)),Qr(s,y,w,!K);return}}sx(s,a,y,c,h,g,w,R,V)}function ER(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],y=g.getSnapshot;g=g.value;try{if(!ri(y(),g))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Qr(s,a,c,h){a&=~Jg,a&=~co,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var g=a;0<g;){var y=31-It(g),w=1<<y;h[y]=-1,g&=~w}c!==0&&ni(s,c,a)}function Rd(){return(oe&6)===0?(Zc(0),!1):!0}function ip(){if(Ft!==null){if(de===0)var s=Ft.return;else s=Ft,Hs=to=null,bg(s),cl=null,Pc=0,s=Ft;for(;s!==null;)Cv(s.alternate,s),s=s.return;Ft=null}}function bl(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,HR(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),tr=0,ip(),be=s,Ft=c=Bs(s.current,null),Gt=a,de=0,ci=null,Yr=!1,pl=bn(s,a),Xg=!1,yl=ui=Jg=co=$r=je=0,Yn=Xc=null,Zg=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var g=31-It(h),y=1<<g;a|=s[g],h&=~y}return Zs=a,Kh(),c}function Xv(s,a){jt=null,Q.H=Hc,a===ll||a===id?(a=fb(),de=3):a===og?(a=fb(),de=4):de=a===Pg?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,ci=a,Ft===null&&(je=1,yd(s,Ti(a,s.current)))}function Jv(){var s=oi.current;return s===null?!0:(Gt&4194048)===Gt?Ri===null:(Gt&62914560)===Gt||(Gt&536870912)!==0?s===Ri:!1}function Zv(){var s=Q.H;return Q.H=Hc,s===null?Hc:s}function tx(){var s=Q.A;return Q.A=xR,s}function Id(){je=4,Yr||(Gt&4194048)!==Gt&&oi.current!==null||(pl=!0),($r&134217727)===0&&(co&134217727)===0||be===null||Qr(be,Gt,ui,!1)}function sp(s,a,c){var h=oe;oe|=2;var g=Zv(),y=tx();(be!==s||Gt!==a)&&(Cd=null,bl(s,a)),a=!1;var w=je;t:do try{if(de!==0&&Ft!==null){var R=Ft,V=ci;switch(de){case 8:ip(),w=6;break t;case 3:case 2:case 9:case 6:oi.current===null&&(a=!0);var K=de;if(de=0,ci=null,vl(s,R,V,K),c&&pl){w=0;break t}break;default:K=de,de=0,ci=null,vl(s,R,V,K)}}TR(),w=je;break}catch(it){Xv(s,it)}while(!0);return a&&s.shellSuspendCounter++,Hs=to=null,oe=h,Q.H=g,Q.A=y,Ft===null&&(be=null,Gt=0,Kh()),w}function TR(){for(;Ft!==null;)ex(Ft)}function SR(s,a){var c=oe;oe|=2;var h=Zv(),g=tx();be!==s||Gt!==a?(Cd=null,Ad=dn()+500,bl(s,a)):pl=bn(s,a);t:do try{if(de!==0&&Ft!==null){a=Ft;var y=ci;e:switch(de){case 1:de=0,ci=null,vl(s,a,y,1);break;case 2:case 9:if(hb(y)){de=0,ci=null,nx(a);break}a=function(){de!==2&&de!==9||be!==s||(de=7),bs(s)},y.then(a,a);break t;case 3:de=7;break t;case 4:de=5;break t;case 7:hb(y)?(de=0,ci=null,nx(a)):(de=0,ci=null,vl(s,a,y,7));break;case 5:var w=null;switch(Ft.tag){case 26:w=Ft.memoizedState;case 5:case 27:var R=Ft;if(w?Bx(w):R.stateNode.complete){de=0,ci=null;var V=R.sibling;if(V!==null)Ft=V;else{var K=R.return;K!==null?(Ft=K,Nd(K)):Ft=null}break e}}de=0,ci=null,vl(s,a,y,5);break;case 6:de=0,ci=null,vl(s,a,y,6);break;case 8:ip(),je=6;break t;default:throw Error(i(462))}}AR();break}catch(it){Xv(s,it)}while(!0);return Hs=to=null,Q.H=h,Q.A=g,oe=c,Ft!==null?0:(be=null,Gt=0,Kh(),je)}function AR(){for(;Ft!==null&&!jo();)ex(Ft)}function ex(s){var a=Sv(s.alternate,s,Zs);s.memoizedProps=s.pendingProps,a===null?Nd(s):Ft=a}function nx(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=bv(c,a,a.pendingProps,a.type,void 0,Gt);break;case 11:a=bv(c,a,a.pendingProps,a.type.render,a.ref,Gt);break;case 5:bg(a);default:Cv(c,a),a=Ft=tb(a,Zs),a=Sv(c,a,Zs)}s.memoizedProps=s.pendingProps,a===null?Nd(s):Ft=a}function vl(s,a,c,h){Hs=to=null,bg(a),cl=null,Pc=0;var g=a.return;try{if(mR(s,g,a,c,Gt)){je=1,yd(s,Ti(c,s.current)),Ft=null;return}}catch(y){if(g!==null)throw Ft=g,y;je=1,yd(s,Ti(c,s.current)),Ft=null;return}a.flags&32768?(Xt||h===1?s=!0:pl||(Gt&536870912)!==0?s=!1:(Yr=s=!0,(h===2||h===9||h===3||h===6)&&(h=oi.current,h!==null&&h.tag===13&&(h.flags|=16384))),ix(a,s)):Nd(a)}function Nd(s){var a=s;do{if((a.flags&32768)!==0){ix(a,Yr);return}s=a.return;var c=yR(a.alternate,a,Zs);if(c!==null){Ft=c;return}if(a=a.sibling,a!==null){Ft=a;return}Ft=a=s}while(a!==null);je===0&&(je=5)}function ix(s,a){do{var c=_R(s.alternate,s);if(c!==null){c.flags&=32767,Ft=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){Ft=s;return}Ft=s=c}while(s!==null);je=6,Ft=null}function sx(s,a,c,h,g,y,w,R,V){s.cancelPendingCommit=null;do kd();while(cn!==0);if((oe&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(y=a.lanes|a.childLanes,y|=Ym,ji(s,c,y,w,R,V),s===be&&(Ft=be=null,Gt=0),_l=a,Kr=s,tr=c,tp=y,ep=g,$v=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,NR(es,function(){return cx(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=Q.T,Q.T=null,g=lt.p,lt.p=2,w=oe,oe|=4;try{bR(s,a,c)}finally{oe=w,lt.p=g,Q.T=h}}cn=1,rx(),ax(),ox()}}function rx(){if(cn===1){cn=0;var s=Kr,a=_l,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null;var h=lt.p;lt.p=2;var g=oe;oe|=4;try{Uv(a,s);var y=pp,w=G_(s.containerInfo),R=y.focusedElem,V=y.selectionRange;if(w!==R&&R&&R.ownerDocument&&q_(R.ownerDocument.documentElement,R)){if(V!==null&&Bm(R)){var K=V.start,it=V.end;if(it===void 0&&(it=K),"selectionStart"in R)R.selectionStart=K,R.selectionEnd=Math.min(it,R.value.length);else{var at=R.ownerDocument||document,X=at&&at.defaultView||window;if(X.getSelection){var Z=X.getSelection(),_t=R.textContent.length,At=Math.min(V.start,_t),_e=V.end===void 0?At:Math.min(V.end,_t);!Z.extend&&At>_e&&(w=_e,_e=At,At=w);var q=H_(R,At),F=H_(R,_e);if(q&&F&&(Z.rangeCount!==1||Z.anchorNode!==q.node||Z.anchorOffset!==q.offset||Z.focusNode!==F.node||Z.focusOffset!==F.offset)){var W=at.createRange();W.setStart(q.node,q.offset),Z.removeAllRanges(),At>_e?(Z.addRange(W),Z.extend(F.node,F.offset)):(W.setEnd(F.node,F.offset),Z.addRange(W))}}}}for(at=[],Z=R;Z=Z.parentNode;)Z.nodeType===1&&at.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<at.length;R++){var st=at[R];st.element.scrollLeft=st.left,st.element.scrollTop=st.top}}Hd=!!gp,pp=gp=null}finally{oe=g,lt.p=h,Q.T=c}}s.current=a,cn=2}}function ax(){if(cn===2){cn=0;var s=Kr,a=_l,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=Q.T,Q.T=null;var h=lt.p;lt.p=2;var g=oe;oe|=4;try{Ov(s,a.alternate,a)}finally{oe=g,lt.p=h,Q.T=c}}cn=3}}function ox(){if(cn===4||cn===3){cn=0,Va();var s=Kr,a=_l,c=tr,h=$v;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?cn=5:(cn=0,_l=Kr=null,lx(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(Wr=null),js(c),a=a.stateNode,gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(tt,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=Q.T,g=lt.p,lt.p=2,Q.T=null;try{for(var y=s.onRecoverableError,w=0;w<h.length;w++){var R=h[w];y(R.value,{componentStack:R.stack})}}finally{Q.T=a,lt.p=g}}(tr&3)!==0&&kd(),bs(s),g=s.pendingLanes,(c&261930)!==0&&(g&42)!==0?s===np?Jc++:(Jc=0,np=s):Jc=0,Zc(0)}}function lx(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Mc(a)))}function kd(){return rx(),ax(),ox(),cx()}function cx(){if(cn!==5)return!1;var s=Kr,a=tp;tp=0;var c=js(tr),h=Q.T,g=lt.p;try{lt.p=32>c?32:c,Q.T=null,c=ep,ep=null;var y=Kr,w=tr;if(cn=0,_l=Kr=null,tr=0,(oe&6)!==0)throw Error(i(331));var R=oe;if(oe|=4,qv(y.current),Bv(y,y.current,w,c),oe=R,Zc(0,!1),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(tt,y)}catch{}return!0}finally{lt.p=g,Q.T=h,lx(s,a)}}function ux(s,a,c){a=Ti(c,a),a=Og(s.stateNode,a,2),s=Fr(s,a,2),s!==null&&(ei(s,2),bs(s))}function fe(s,a,c){if(s.tag===3)ux(s,s,c);else for(;a!==null;){if(a.tag===3){ux(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Wr===null||!Wr.has(h))){s=Ti(c,s),c=hv(2),h=Fr(a,c,2),h!==null&&(dv(c,h,a,s),ei(h,2),bs(h));break}}a=a.return}}function rp(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new wR;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(c)||(Xg=!0,g.add(c),s=CR.bind(null,s,a,c),a.then(s,s))}function CR(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,be===s&&(Gt&c)===c&&(je===4||je===3&&(Gt&62914560)===Gt&&300>dn()-Sd?(oe&2)===0&&bl(s,0):Jg|=c,yl===Gt&&(yl=0)),bs(s)}function hx(s,a){a===0&&(a=Ls()),s=Xa(s,a),s!==null&&(ei(s,a),bs(s))}function RR(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),hx(s,c)}function IR(s,a){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,g=s.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),hx(s,c)}function NR(s,a){return Pe(s,a)}var Dd=null,xl=null,ap=!1,Md=!1,op=!1,Xr=0;function bs(s){s!==xl&&s.next===null&&(xl===null?Dd=xl=s:xl=xl.next=s),Md=!0,ap||(ap=!0,DR())}function Zc(s,a){if(!op&&Md){op=!0;do for(var c=!1,h=Dd;h!==null;){if(s!==0){var g=h.pendingLanes;if(g===0)var y=0;else{var w=h.suspendedLanes,R=h.pingedLanes;y=(1<<31-It(42|s)+1)-1,y&=g&~(w&~R),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,gx(h,y))}else y=Gt,y=_n(h,h===be?y:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(y&3)===0||bn(h,y)||(c=!0,gx(h,y));h=h.next}while(c);op=!1}}function kR(){dx()}function dx(){Md=ap=!1;var s=0;Xr!==0&&FR()&&(s=Xr);for(var a=dn(),c=null,h=Dd;h!==null;){var g=h.next,y=fx(h,a);y===0?(h.next=null,c===null?Dd=g:c.next=g,g===null&&(xl=c)):(c=h,(s!==0||(y&3)!==0)&&(Md=!0)),h=g}cn!==0&&cn!==5||Zc(s),Xr!==0&&(Xr=0)}function fx(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,g=s.expirationTimes,y=s.pendingLanes&-62914561;0<y;){var w=31-It(y),R=1<<w,V=g[w];V===-1?((R&c)===0||(R&h)!==0)&&(g[w]=Sr(R,a)):V<=a&&(s.expiredLanes|=R),y&=~R}if(a=be,c=Gt,c=_n(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===a&&(de===2||de===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&Pi(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||bn(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(h!==null&&Pi(h),js(c)){case 2:case 8:c=Li;break;case 32:c=es;break;case 268435456:c=Vo;break;default:c=es}return h=mx.bind(null,s),c=Pe(c,h),s.callbackPriority=a,s.callbackNode=c,a}return h!==null&&h!==null&&Pi(h),s.callbackPriority=2,s.callbackNode=null,2}function mx(s,a){if(cn!==0&&cn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(kd()&&s.callbackNode!==c)return null;var h=Gt;return h=_n(s,s===be?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(Kv(s,h,a),fx(s,dn()),s.callbackNode!=null&&s.callbackNode===c?mx.bind(null,s):null)}function gx(s,a){if(kd())return null;Kv(s,a,!0)}function DR(){qR(function(){(oe&6)!==0?Pe(yi,kR):dx()})}function lp(){if(Xr===0){var s=al;s===0&&(s=Jt,Jt<<=1,(Jt&261888)===0&&(Jt=256)),Xr=s}return Xr}function px(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Go(""+s)}function yx(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function MR(s,a,c,h,g){if(a==="submit"&&c&&c.stateNode===g){var y=px((g[fn]||null).action),w=h.submitter;w&&(a=(a=w[fn]||null)?px(a.formAction):w.getAttribute("formAction"),a!==null&&(y=a,w=null));var R=new ds("action","action",null,h,g);s.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Xr!==0){var V=w?yx(g,w):new FormData(g);Rg(c,{pending:!0,data:V,method:g.method,action:y},null,V)}}else typeof y=="function"&&(R.preventDefault(),V=w?yx(g,w):new FormData(g),Rg(c,{pending:!0,data:V,method:g.method,action:y},y,V))},currentTarget:g}]})}}for(var cp=0;cp<Gm.length;cp++){var up=Gm[cp],OR=up.toLowerCase(),PR=up[0].toUpperCase()+up.slice(1);Gi(OR,"on"+PR)}Gi(W_,"onAnimationEnd"),Gi(K_,"onAnimationIteration"),Gi(Q_,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(XC,"onTransitionRun"),Gi(JC,"onTransitionStart"),Gi(ZC,"onTransitionCancel"),Gi(X_,"onTransitionEnd"),ls("onMouseEnter",["mouseout","mouseover"]),ls("onMouseLeave",["mouseout","mouseover"]),ls("onPointerEnter",["pointerout","pointerover"]),ls("onPointerLeave",["pointerout","pointerover"]),os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),os("onBeforeInput",["compositionend","keypress","textInput","paste"]),os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function _x(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],g=h.event;h=h.listeners;t:{var y=void 0;if(a)for(var w=h.length-1;0<=w;w--){var R=h[w],V=R.instance,K=R.currentTarget;if(R=R.listener,V!==y&&g.isPropagationStopped())break t;y=R,g.currentTarget=K;try{y(g)}catch(it){Wh(it)}g.currentTarget=null,y=V}else for(w=0;w<h.length;w++){if(R=h[w],V=R.instance,K=R.currentTarget,R=R.listener,V!==y&&g.isPropagationStopped())break t;y=R,g.currentTarget=K;try{y(g)}catch(it){Wh(it)}g.currentTarget=null,y=V}}}}function Ht(s,a){var c=a[zo];c===void 0&&(c=a[zo]=new Set);var h=s+"__bubble";c.has(h)||(bx(a,s,2,!1),c.add(h))}function hp(s,a,c){var h=0;a&&(h|=4),bx(c,s,h,a)}var Od="_reactListening"+Math.random().toString(36).slice(2);function dp(s){if(!s[Od]){s[Od]=!0,dc.forEach(function(c){c!=="selectionchange"&&(LR.has(c)||hp(c,!1,s),hp(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Od]||(a[Od]=!0,hp("selectionchange",!1,a))}}function bx(s,a,c,h){switch(Wx(a)){case 2:var g=uI;break;case 8:g=hI;break;default:g=Cp}c=g.bind(null,a,c,s),g=void 0,!Ha||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?s.addEventListener(a,c,{capture:!0,passive:g}):s.addEventListener(a,c,!0):g!==void 0?s.addEventListener(a,c,{passive:g}):s.addEventListener(a,c,!1)}function fp(s,a,c,h,g){var y=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var R=h.stateNode.containerInfo;if(R===g)break;if(w===4)for(w=h.return;w!==null;){var V=w.tag;if((V===3||V===4)&&w.stateNode.containerInfo===g)return;w=w.return}for(;R!==null;){if(w=rs(R),w===null)return;if(V=w.tag,V===5||V===6||V===26||V===27){h=y=w;continue t}R=R.parentNode}}h=h.return}Dr(function(){var K=y,it=vi(c),at=[];t:{var X=J_.get(s);if(X!==void 0){var Z=ds,_t=s;switch(s){case"keypress":if(Ga(c)===0)break t;case"keydown":case"keyup":Z=Gh;break;case"focusin":_t="focus",Z=$a;break;case"focusout":_t="blur",Z=$a;break;case"beforeblur":case"afterblur":Z=$a;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=Sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Lh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=x;break;case W_:case K_:case Q_:Z=Vh;break;case X_:Z=k;break;case"scroll":case"scrollend":Z=Tc;break;case"wheel":Z=J;break;case"copy":case"cut":case"paste":Z=Uh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=zs;break;case"toggle":case"beforetoggle":Z=Lt}var At=(a&4)!==0,_e=!At&&(s==="scroll"||s==="scrollend"),q=At?X!==null?X+"Capture":null:X;At=[];for(var F=K,W;F!==null;){var st=F;if(W=st.stateNode,st=st.tag,st!==5&&st!==26&&st!==27||W===null||q===null||(st=Bi(F,q),st!=null&&At.push(eu(F,st,W))),_e)break;F=F.return}0<At.length&&(X=new Z(X,_t,null,c,it),at.push({event:X,listeners:At}))}}if((a&7)===0){t:{if(X=s==="mouseover"||s==="pointerover",Z=s==="mouseout"||s==="pointerout",X&&c!==xc&&(_t=c.relatedTarget||c.fromElement)&&(rs(_t)||_t[is]))break t;if((Z||X)&&(X=it.window===it?it:(X=it.ownerDocument)?X.defaultView||X.parentWindow:window,Z?(_t=c.relatedTarget||c.toElement,Z=K,_t=_t?rs(_t):null,_t!==null&&(_e=o(_t),At=_t.tag,_t!==_e||At!==5&&At!==27&&At!==6)&&(_t=null)):(Z=null,_t=K),Z!==_t)){if(At=Sc,st="onMouseLeave",q="onMouseEnter",F="mouse",(s==="pointerout"||s==="pointerover")&&(At=zs,st="onPointerLeave",q="onPointerEnter",F="pointer"),_e=Z==null?X:ii(Z),W=_t==null?X:ii(_t),X=new At(st,F+"leave",Z,c,it),X.target=_e,X.relatedTarget=W,st=null,rs(it)===K&&(At=new At(q,F+"enter",_t,c,it),At.target=W,At.relatedTarget=_e,st=At),_e=st,Z&&_t)e:{for(At=jR,q=Z,F=_t,W=0,st=q;st;st=At(st))W++;st=0;for(var wt=F;wt;wt=At(wt))st++;for(;0<W-st;)q=At(q),W--;for(;0<st-W;)F=At(F),st--;for(;W--;){if(q===F||F!==null&&q===F.alternate){At=q;break e}q=At(q),F=At(F)}At=null}else At=null;Z!==null&&vx(at,X,Z,At,!1),_t!==null&&_e!==null&&vx(at,_e,_t,At,!0)}}t:{if(X=K?ii(K):window,Z=X.nodeName&&X.nodeName.toLowerCase(),Z==="select"||Z==="input"&&X.type==="file")var ne=j_;else if(P_(X))if(V_)ne=WC;else{ne=YC;var vt=GC}else Z=X.nodeName,!Z||Z.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?K&&qo(K.elementType)&&(ne=j_):ne=$C;if(ne&&(ne=ne(s,K))){L_(at,ne,c,it);break t}vt&&vt(s,X,K),s==="focusout"&&K&&X.type==="number"&&K.memoizedProps.value!=null&&_c(X,"number",X.value)}switch(vt=K?ii(K):window,s){case"focusin":(P_(vt)||vt.contentEditable==="true")&&(Jo=vt,Fm=K,Nc=null);break;case"focusout":Nc=Fm=Jo=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,Y_(at,c,it);break;case"selectionchange":if(QC)break;case"keydown":case"keyup":Y_(at,c,it)}var Ut;if(ae)t:{switch(s){case"compositionstart":var Yt="onCompositionStart";break t;case"compositionend":Yt="onCompositionEnd";break t;case"compositionupdate":Yt="onCompositionUpdate";break t}Yt=void 0}else Xo?Wa(s,c)&&(Yt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Yt="onCompositionStart");Yt&&(gs&&c.locale!=="ko"&&(Xo||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&Xo&&(Ut=Ec()):(hs=it,wc="value"in hs?hs.value:hs.textContent,Xo=!0)),vt=Pd(K,Yt),0<vt.length&&(Yt=new ms(Yt,s,null,c,it),at.push({event:Yt,listeners:vt}),Ut?Yt.data=Ut:(Ut=Qo(c),Ut!==null&&(Yt.data=Ut)))),(Ut=wi?BC(s,c):FC(s,c))&&(Yt=Pd(K,"onBeforeInput"),0<Yt.length&&(vt=new ms("onBeforeInput","beforeinput",null,c,it),at.push({event:vt,listeners:Yt}),vt.data=Ut)),MR(at,s,K,c,it)}_x(at,a)})}function eu(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Pd(s,a){for(var c=a+"Capture",h=[];s!==null;){var g=s,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=Bi(s,c),g!=null&&h.unshift(eu(s,g,y)),g=Bi(s,a),g!=null&&h.push(eu(s,g,y))),s.tag===3)return h;s=s.return}return[]}function jR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function vx(s,a,c,h,g){for(var y=a._reactName,w=[];c!==null&&c!==h;){var R=c,V=R.alternate,K=R.stateNode;if(R=R.tag,V!==null&&V===h)break;R!==5&&R!==26&&R!==27||K===null||(V=K,g?(K=Bi(c,y),K!=null&&w.unshift(eu(c,K,V))):g||(K=Bi(c,y),K!=null&&w.push(eu(c,K,V)))),c=c.return}w.length!==0&&s.push({event:a,listeners:w})}var VR=/\r\n?/g,UR=/\u0000|\uFFFD/g;function xx(s){return(typeof s=="string"?s:""+s).replace(VR,`
`).replace(UR,"")}function wx(s,a){return a=xx(a),xx(s)===a}function ye(s,a,c,h,g,y){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Fn(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Fn(s,""+h);break;case"className":si(s,"class",h);break;case"tabIndex":si(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":si(s,c,h);break;case"style":vc(s,h,y);break;case"data":if(a!=="object"){si(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Go(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(a!=="input"&&ye(s,a,"name",g.name,g,null),ye(s,a,"formEncType",g.formEncType,g,null),ye(s,a,"formMethod",g.formMethod,g,null),ye(s,a,"formTarget",g.formTarget,g,null)):(ye(s,a,"encType",g.encType,g,null),ye(s,a,"method",g.method,g,null),ye(s,a,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Go(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=zi);break;case"onScroll":h!=null&&Ht("scroll",s);break;case"onScrollEnd":h!=null&&Ht("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=Go(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Ht("beforetoggle",s),Ht("toggle",s),Fo(s,"popover",h);break;case"xlinkActuate":Ze(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ze(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ze(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ze(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ze(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ze(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ze(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ze(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ze(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Fo(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Ph.get(c)||c,Fo(s,c,h))}}function mp(s,a,c,h,g,y){switch(c){case"style":vc(s,h,y);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Fn(s,h):(typeof h=="number"||typeof h=="bigint")&&Fn(s,""+h);break;case"onScroll":h!=null&&Ht("scroll",s);break;case"onScrollEnd":h!=null&&Ht("scrollend",s);break;case"onClick":h!=null&&(s.onclick=zi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fc.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),a=c.slice(2,g?c.length-7:void 0),y=s[fn]||null,y=y!=null?y[c]:null,typeof y=="function"&&s.removeEventListener(a,y,g),typeof h=="function")){typeof y!="function"&&y!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,h,g);break t}c in s?s[c]=h:h===!0?s.setAttribute(c,""):Fo(s,c,h)}}}function Tn(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ht("error",s),Ht("load",s);var h=!1,g=!1,y;for(y in c)if(c.hasOwnProperty(y)){var w=c[y];if(w!=null)switch(y){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ye(s,a,y,w,c,null)}}g&&ye(s,a,"srcSet",c.srcSet,c,null),h&&ye(s,a,"src",c.src,c,null);return;case"input":Ht("invalid",s);var R=y=w=g=null,V=null,K=null;for(h in c)if(c.hasOwnProperty(h)){var it=c[h];if(it!=null)switch(h){case"name":g=it;break;case"type":w=it;break;case"checked":V=it;break;case"defaultChecked":K=it;break;case"value":y=it;break;case"defaultValue":R=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(i(137,a));break;default:ye(s,a,h,it,c,null)}}Dh(s,y,R,V,K,w,g,!1);return;case"select":Ht("invalid",s),h=w=y=null;for(g in c)if(c.hasOwnProperty(g)&&(R=c[g],R!=null))switch(g){case"value":y=R;break;case"defaultValue":w=R;break;case"multiple":h=R;default:ye(s,a,g,R,c,null)}a=y,c=w,s.multiple=!!h,a!=null?Rr(s,!!h,a,!1):c!=null&&Rr(s,!!h,c,!0);return;case"textarea":Ht("invalid",s),y=g=h=null;for(w in c)if(c.hasOwnProperty(w)&&(R=c[w],R!=null))switch(w){case"value":h=R;break;case"defaultValue":g=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:ye(s,a,w,R,c,null)}Ir(s,h,g,y);return;case"option":for(V in c)c.hasOwnProperty(V)&&(h=c[V],h!=null)&&(V==="selected"?s.selected=h&&typeof h!="function"&&typeof h!="symbol":ye(s,a,V,h,c,null));return;case"dialog":Ht("beforetoggle",s),Ht("toggle",s),Ht("cancel",s),Ht("close",s);break;case"iframe":case"object":Ht("load",s);break;case"video":case"audio":for(h=0;h<tu.length;h++)Ht(tu[h],s);break;case"image":Ht("error",s),Ht("load",s);break;case"details":Ht("toggle",s);break;case"embed":case"source":case"link":Ht("error",s),Ht("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(K in c)if(c.hasOwnProperty(K)&&(h=c[K],h!=null))switch(K){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ye(s,a,K,h,c,null)}return;default:if(qo(a)){for(it in c)c.hasOwnProperty(it)&&(h=c[it],h!==void 0&&mp(s,a,it,h,c,void 0));return}}for(R in c)c.hasOwnProperty(R)&&(h=c[R],h!=null&&ye(s,a,R,h,c,null))}function zR(s,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,w=null,R=null,V=null,K=null,it=null;for(Z in c){var at=c[Z];if(c.hasOwnProperty(Z)&&at!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":V=at;default:h.hasOwnProperty(Z)||ye(s,a,Z,null,h,at)}}for(var X in h){var Z=h[X];if(at=c[X],h.hasOwnProperty(X)&&(Z!=null||at!=null))switch(X){case"type":y=Z;break;case"name":g=Z;break;case"checked":K=Z;break;case"defaultChecked":it=Z;break;case"value":w=Z;break;case"defaultValue":R=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,a));break;default:Z!==at&&ye(s,a,X,Z,h,at)}}Ho(s,w,R,V,K,it,y,g);return;case"select":Z=w=R=X=null;for(y in c)if(V=c[y],c.hasOwnProperty(y)&&V!=null)switch(y){case"value":break;case"multiple":Z=V;default:h.hasOwnProperty(y)||ye(s,a,y,null,h,V)}for(g in h)if(y=h[g],V=c[g],h.hasOwnProperty(g)&&(y!=null||V!=null))switch(g){case"value":X=y;break;case"defaultValue":R=y;break;case"multiple":w=y;default:y!==V&&ye(s,a,g,y,h,V)}a=R,c=w,h=Z,X!=null?Rr(s,!!c,X,!1):!!h!=!!c&&(a!=null?Rr(s,!!c,a,!0):Rr(s,!!c,c?[]:"",!1));return;case"textarea":Z=X=null;for(R in c)if(g=c[R],c.hasOwnProperty(R)&&g!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ye(s,a,R,null,h,g)}for(w in h)if(g=h[w],y=c[w],h.hasOwnProperty(w)&&(g!=null||y!=null))switch(w){case"value":X=g;break;case"defaultValue":Z=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==y&&ye(s,a,w,g,h,y)}Mh(s,X,Z);return;case"option":for(var _t in c)X=c[_t],c.hasOwnProperty(_t)&&X!=null&&!h.hasOwnProperty(_t)&&(_t==="selected"?s.selected=!1:ye(s,a,_t,null,h,X));for(V in h)X=h[V],Z=c[V],h.hasOwnProperty(V)&&X!==Z&&(X!=null||Z!=null)&&(V==="selected"?s.selected=X&&typeof X!="function"&&typeof X!="symbol":ye(s,a,V,X,h,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var At in c)X=c[At],c.hasOwnProperty(At)&&X!=null&&!h.hasOwnProperty(At)&&ye(s,a,At,null,h,X);for(K in h)if(X=h[K],Z=c[K],h.hasOwnProperty(K)&&X!==Z&&(X!=null||Z!=null))switch(K){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:ye(s,a,K,X,h,Z)}return;default:if(qo(a)){for(var _e in c)X=c[_e],c.hasOwnProperty(_e)&&X!==void 0&&!h.hasOwnProperty(_e)&&mp(s,a,_e,void 0,h,X);for(it in h)X=h[it],Z=c[it],!h.hasOwnProperty(it)||X===Z||X===void 0&&Z===void 0||mp(s,a,it,X,h,Z);return}}for(var q in c)X=c[q],c.hasOwnProperty(q)&&X!=null&&!h.hasOwnProperty(q)&&ye(s,a,q,null,h,X);for(at in h)X=h[at],Z=c[at],!h.hasOwnProperty(at)||X===Z||X==null&&Z==null||ye(s,a,at,X,h,Z)}function Ex(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function BR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var g=c[h],y=g.transferSize,w=g.initiatorType,R=g.duration;if(y&&R&&Ex(w)){for(w=0,R=g.responseEnd,h+=1;h<c.length;h++){var V=c[h],K=V.startTime;if(K>R)break;var it=V.transferSize,at=V.initiatorType;it&&Ex(at)&&(V=V.responseEnd,w+=it*(V<R?1:(R-K)/(V-K)))}if(--h,a+=8*(y+w)/(g.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var gp=null,pp=null;function Ld(s){return s.nodeType===9?s:s.ownerDocument}function Tx(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sx(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function yp(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var _p=null;function FR(){var s=window.event;return s&&s.type==="popstate"?s===_p?!1:(_p=s,!0):(_p=null,!1)}var Ax=typeof setTimeout=="function"?setTimeout:void 0,HR=typeof clearTimeout=="function"?clearTimeout:void 0,Cx=typeof Promise=="function"?Promise:void 0,qR=typeof queueMicrotask=="function"?queueMicrotask:typeof Cx<"u"?function(s){return Cx.resolve(null).then(s).catch(GR)}:Ax;function GR(s){setTimeout(function(){throw s})}function Jr(s){return s==="head"}function Rx(s,a){var c=a,h=0;do{var g=c.nextSibling;if(s.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(g),Sl(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")nu(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,nu(c);for(var y=c.firstChild;y;){var w=y.nextSibling,R=y.nodeName;y[ss]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&y.rel.toLowerCase()==="stylesheet"||c.removeChild(y),y=w}}else c==="body"&&nu(s.ownerDocument.body);c=g}while(c);Sl(a)}function Ix(s,a){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function bp(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":bp(c),Bo(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function YR(s,a,c,h){for(;s.nodeType===1;){var g=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[ss])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(y=s.getAttribute("rel"),y==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(y!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(y=s.getAttribute("src"),(y!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===y)return s}else return s;if(s=Ii(s.nextSibling),s===null)break}return null}function $R(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=Ii(s.nextSibling),s===null))return null;return s}function Nx(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=Ii(s.nextSibling),s===null))return null;return s}function vp(s){return s.data==="$?"||s.data==="$~"}function xp(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function WR(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function Ii(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var wp=null;function kx(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return Ii(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function Dx(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function Mx(s,a,c){switch(a=Ld(c),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function nu(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Bo(s)}var Ni=new Map,Ox=new Set;function jd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var er=lt.d;lt.d={f:KR,r:QR,D:XR,C:JR,L:ZR,m:tI,X:nI,S:eI,M:iI};function KR(){var s=er.f(),a=Rd();return s||a}function QR(s){var a=bi(s);a!==null&&a.tag===5&&a.type==="form"?Xb(a):er.r(s)}var wl=typeof document>"u"?null:document;function Px(s,a,c){var h=wl;if(h&&typeof a=="string"&&a){var g=Bn(a);g='link[rel="'+s+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),Ox.has(g)||(Ox.add(g),s={rel:s,crossOrigin:c,href:a},h.querySelector(g)===null&&(a=h.createElement("link"),Tn(a,"link",s),Je(a),h.head.appendChild(a)))}}function XR(s){er.D(s),Px("dns-prefetch",s,null)}function JR(s,a){er.C(s,a),Px("preconnect",s,a)}function ZR(s,a,c){er.L(s,a,c);var h=wl;if(h&&s&&a){var g='link[rel="preload"][as="'+Bn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Bn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Bn(c.imageSizes)+'"]')):g+='[href="'+Bn(s)+'"]';var y=g;switch(a){case"style":y=El(s);break;case"script":y=Tl(s)}Ni.has(y)||(s=_({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),Ni.set(y,s),h.querySelector(g)!==null||a==="style"&&h.querySelector(iu(y))||a==="script"&&h.querySelector(su(y))||(a=h.createElement("link"),Tn(a,"link",s),Je(a),h.head.appendChild(a)))}}function tI(s,a){er.m(s,a);var c=wl;if(c&&s){var h=a&&typeof a.as=="string"?a.as:"script",g='link[rel="modulepreload"][as="'+Bn(h)+'"][href="'+Bn(s)+'"]',y=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Tl(s)}if(!Ni.has(y)&&(s=_({rel:"modulepreload",href:s},a),Ni.set(y,s),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(su(y)))return}h=c.createElement("link"),Tn(h,"link",s),Je(h),c.head.appendChild(h)}}}function eI(s,a,c){er.S(s,a,c);var h=wl;if(h&&s){var g=as(h).hoistableStyles,y=El(s);a=a||"default";var w=g.get(y);if(!w){var R={loading:0,preload:null};if(w=h.querySelector(iu(y)))R.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":a},c),(c=Ni.get(y))&&Ep(s,c);var V=w=h.createElement("link");Je(V),Tn(V,"link",s),V._p=new Promise(function(K,it){V.onload=K,V.onerror=it}),V.addEventListener("load",function(){R.loading|=1}),V.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Vd(w,a,h)}w={type:"stylesheet",instance:w,count:1,state:R},g.set(y,w)}}}function nI(s,a){er.X(s,a);var c=wl;if(c&&s){var h=as(c).hoistableScripts,g=Tl(s),y=h.get(g);y||(y=c.querySelector(su(g)),y||(s=_({src:s,async:!0},a),(a=Ni.get(g))&&Tp(s,a),y=c.createElement("script"),Je(y),Tn(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function iI(s,a){er.M(s,a);var c=wl;if(c&&s){var h=as(c).hoistableScripts,g=Tl(s),y=h.get(g);y||(y=c.querySelector(su(g)),y||(s=_({src:s,async:!0,type:"module"},a),(a=Ni.get(g))&&Tp(s,a),y=c.createElement("script"),Je(y),Tn(y,"link",s),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},h.set(g,y))}}function Lx(s,a,c,h){var g=(g=Tt.current)?jd(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=El(c.href),c=as(g).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=El(c.href);var y=as(g).hoistableStyles,w=y.get(s);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(s,w),(y=g.querySelector(iu(s)))&&!y._p&&(w.instance=y,w.state.loading=5),Ni.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Ni.set(s,c),y||sI(g,s,c,w.state))),a&&h===null)throw Error(i(528,""));return w}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Tl(c),c=as(g).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function El(s){return'href="'+Bn(s)+'"'}function iu(s){return'link[rel="stylesheet"]['+s+"]"}function jx(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function sI(s,a,c,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Tn(a,"link",c),Je(a),s.head.appendChild(a))}function Tl(s){return'[src="'+Bn(s)+'"]'}function su(s){return"script[async]"+s}function Vx(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Bn(c.href)+'"]');if(h)return a.instance=h,Je(h),h;var g=_({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Je(h),Tn(h,"style",g),Vd(h,c.precedence,s),a.instance=h;case"stylesheet":g=El(c.href);var y=s.querySelector(iu(g));if(y)return a.state.loading|=4,a.instance=y,Je(y),y;h=jx(c),(g=Ni.get(g))&&Ep(h,g),y=(s.ownerDocument||s).createElement("link"),Je(y);var w=y;return w._p=new Promise(function(R,V){w.onload=R,w.onerror=V}),Tn(y,"link",h),a.state.loading|=4,Vd(y,c.precedence,s),a.instance=y;case"script":return y=Tl(c.src),(g=s.querySelector(su(y)))?(a.instance=g,Je(g),g):(h=c,(g=Ni.get(y))&&(h=_({},c),Tp(h,g)),s=s.ownerDocument||s,g=s.createElement("script"),Je(g),Tn(g,"link",h),s.head.appendChild(g),a.instance=g);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Vd(h,c.precedence,s));return a.instance}function Vd(s,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,y=g,w=0;w<h.length;w++){var R=h[w];if(R.dataset.precedence===a)y=R;else if(y!==g)break}y?y.parentNode.insertBefore(s,y.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function Ep(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Tp(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Ud=null;function Ux(s,a,c){if(Ud===null){var h=new Map,g=Ud=new Map;g.set(c,h)}else g=Ud,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),g=0;g<c.length;g++){var y=c[g];if(!(y[ss]||y[Xe]||s==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var w=y.getAttribute(a)||"";w=s+w;var R=h.get(w);R?R.push(y):h.set(w,[y])}}return h}function zx(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function rI(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;return a.rel==="stylesheet"?(s=a.disabled,typeof a.precedence=="string"&&s==null):!0;case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Bx(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function aI(s,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=El(h.href),y=a.querySelector(iu(g));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=zd.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=y,Je(y);return}y=a.ownerDocument||a,h=jx(h),(g=Ni.get(g))&&Ep(h,g),y=y.createElement("link"),Je(y);var w=y;w._p=new Promise(function(R,V){w.onload=R,w.onerror=V}),Tn(y,"link",h),c.instance=y}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=zd.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var Sp=0;function oI(s,a){return s.stylesheets&&s.count===0&&Fd(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&Fd(s,s.stylesheets),s.unsuspend){var y=s.unsuspend;s.unsuspend=null,y()}},6e4+a);0<s.imgBytes&&Sp===0&&(Sp=62500*BR());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Fd(s,s.stylesheets),s.unsuspend)){var y=s.unsuspend;s.unsuspend=null,y()}},(s.imgBytes>Sp?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function zd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Bd=null;function Fd(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Bd=new Map,a.forEach(lI,s),Bd=null,zd.call(s))}function lI(s,a){if(!(a.state.loading&4)){var c=Bd.get(s);if(c)var h=c.get(null);else{c=new Map,Bd.set(s,c);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var w=g[y];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(c.set(w.dataset.precedence,w),h=w)}h&&c.set(null,h)}g=a.instance,w=g.getAttribute("data-precedence"),y=c.get(w)||h,y===h&&c.set(null,g),c.set(w,g),this.count++,h=zd.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),y?y.parentNode.insertBefore(g,y.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),a.state.loading|=4}}var ru={$$typeof:H,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function cI(s,a,c,h,g,y,w,R,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ue(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ue(0),this.hiddenUpdates=ue(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Fx(s,a,c,h,g,y,w,R,V,K,it,at){return s=new cI(s,a,c,w,V,K,it,at,R),a=1,y===!0&&(a|=24),y=ai(3,null,null,a),s.current=y,y.stateNode=s,a=sg(),a.refCount++,s.pooledCache=a,a.refCount++,y.memoizedState={element:h,isDehydrated:c,cache:a},lg(y),s}function Hx(s){return s?(s=el,s):el}function qx(s,a,c,h,g,y){g=Hx(g),h.context===null?h.context=g:h.pendingContext=g,h=Br(a),h.payload={element:c},y=y===void 0?null:y,y!==null&&(h.callback=y),c=Fr(s,h,a),c!==null&&($n(c,s,a),jc(c,s,a))}function Gx(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Ap(s,a){Gx(s,a),(s=s.alternate)&&Gx(s,a)}function Yx(s){if(s.tag===13||s.tag===31){var a=Xa(s,67108864);a!==null&&$n(a,s,67108864),Ap(s,67108864)}}function $x(s){if(s.tag===13||s.tag===31){var a=hi();a=Ua(a);var c=Xa(s,a);c!==null&&$n(c,s,a),Ap(s,a)}}var Hd=!0;function uI(s,a,c,h){var g=Q.T;Q.T=null;var y=lt.p;try{lt.p=2,Cp(s,a,c,h)}finally{lt.p=y,Q.T=g}}function hI(s,a,c,h){var g=Q.T;Q.T=null;var y=lt.p;try{lt.p=8,Cp(s,a,c,h)}finally{lt.p=y,Q.T=g}}function Cp(s,a,c,h){if(Hd){var g=Rp(h);if(g===null)fp(s,a,h,qd,c),Kx(s,h);else if(fI(g,s,a,c,h))h.stopPropagation();else if(Kx(s,h),a&4&&-1<dI.indexOf(s)){for(;g!==null;){var y=bi(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var w=ln(y.pendingLanes);if(w!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var V=1<<31-It(w);R.entanglements[1]|=V,w&=~V}bs(y),(oe&6)===0&&(Ad=dn()+500,Zc(0))}}break;case 31:case 13:R=Xa(y,2),R!==null&&$n(R,y,2),Rd(),Ap(y,2)}if(y=Rp(h),y===null&&fp(s,a,h,qd,c),y===g)break;g=y}g!==null&&h.stopPropagation()}else fp(s,a,h,null,c)}}function Rp(s){return s=vi(s),Ip(s)}var qd=null;function Ip(s){if(qd=null,s=rs(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return qd=s,null}function Wx(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case yi:return 2;case Li:return 8;case es:case hc:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var Np=!1,Zr=null,ta=null,ea=null,au=new Map,ou=new Map,na=[],dI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kx(s,a){switch(s){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":ta=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":au.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ou.delete(a.pointerId)}}function lu(s,a,c,h,g,y){return s===null||s.nativeEvent!==y?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:y,targetContainers:[g]},a!==null&&(a=bi(a),a!==null&&Yx(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),s)}function fI(s,a,c,h,g){switch(a){case"focusin":return Zr=lu(Zr,s,a,c,h,g),!0;case"dragenter":return ta=lu(ta,s,a,c,h,g),!0;case"mouseover":return ea=lu(ea,s,a,c,h,g),!0;case"pointerover":var y=g.pointerId;return au.set(y,lu(au.get(y)||null,s,a,c,h,g)),!0;case"gotpointercapture":return y=g.pointerId,ou.set(y,lu(ou.get(y)||null,s,a,c,h,g)),!0}return!1}function Qx(s){var a=rs(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,Vi(s.priority,function(){$x(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,Vi(s.priority,function(){$x(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Gd(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Rp(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);xc=h,c.target.dispatchEvent(h),xc=null}else return a=bi(c),a!==null&&Yx(a),s.blockedOn=c,!1;a.shift()}return!0}function Xx(s,a,c){Gd(s)&&c.delete(a)}function mI(){Np=!1,Zr!==null&&Gd(Zr)&&(Zr=null),ta!==null&&Gd(ta)&&(ta=null),ea!==null&&Gd(ea)&&(ea=null),au.forEach(Xx),ou.forEach(Xx)}function Yd(s,a){s.blockedOn===a&&(s.blockedOn=null,Np||(Np=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,mI)))}var $d=null;function Jx(s){$d!==s&&($d=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){$d===s&&($d=null);for(var a=0;a<s.length;a+=3){var c=s[a],h=s[a+1],g=s[a+2];if(typeof h!="function"){if(Ip(h||c)===null)continue;break}var y=bi(c);y!==null&&(s.splice(a,3),a-=3,Rg(y,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function Sl(s){function a(V){return Yd(V,s)}Zr!==null&&Yd(Zr,s),ta!==null&&Yd(ta,s),ea!==null&&Yd(ea,s),au.forEach(a),ou.forEach(a);for(var c=0;c<na.length;c++){var h=na[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<na.length&&(c=na[0],c.blockedOn===null);)Qx(c),c.blockedOn===null&&na.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],y=c[h+1],w=g[fn]||null;if(typeof y=="function")w||Jx(c);else if(w){var R=null;if(y&&y.hasAttribute("formAction")){if(g=y,w=y[fn]||null)R=w.formAction;else if(Ip(g)!==null)continue}else R=w.action;typeof R=="function"?c[h+1]=R:(c.splice(h,3),h-=3),Jx(c)}}}function Zx(){function s(y){y.canIntercept&&y.info==="react-transition"&&y.intercept({handler:function(){return new Promise(function(w){return g=w})},focusReset:"manual",scroll:"manual"})}function a(){g!==null&&(g(),g=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var y=navigation.currentEntry;y&&y.url!=null&&navigation.navigate(y.url,{state:y.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),g!==null&&(g(),g=null)}}}function kp(s){this._internalRoot=s}Wd.prototype.render=kp.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=hi();qx(c,h,s,a,null,null)},Wd.prototype.unmount=kp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;qx(s.current,2,null,s,null,null),Rd(),a[is]=null}};function Wd(s){this._internalRoot=s}Wd.prototype.unstable_scheduleHydration=function(s){if(s){var a=Rh();s={blockedOn:null,target:s,priority:a};for(var c=0;c<na.length&&a!==0&&a<na[c].priority;c++);na.splice(c,0,s),c===0&&Qx(s)}};var tw=t.version;if(tw!=="19.2.3")throw Error(i(527,tw,"19.2.3"));lt.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var gI={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kd.isDisabled&&Kd.supportsFiber)try{tt=Kd.inject(gI),gt=Kd}catch{}}return uu.createRoot=function(s,a){if(!r(s))throw Error(i(299));var c=!1,h="",g=ov,y=lv,w=cv;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=Fx(s,1,!1,null,null,c,h,null,g,y,w,Zx),s[is]=a.current,dp(s),new kp(a)},uu.hydrateRoot=function(s,a,c){if(!r(s))throw Error(i(299));var h=!1,g="",y=ov,w=lv,R=cv,V=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError),c.formState!==void 0&&(V=c.formState)),a=Fx(s,1,!0,a,c??null,h,g,V,y,w,R,Zx),a.context=Hx(null),c=a.current,h=hi(),h=Ua(h),g=Br(h),g.callback=null,Fr(c,g,h),c=h,a.current.lanes=c,ei(a,c),bs(a),s[is]=a.current,dp(s),new Wd(a)},uu.version="19.2.3",uu}var uw;function CI(){if(uw)return Op.exports;uw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Op.exports=AI(),Op.exports}var RI=CI();var hw="popstate";function II(n={}){function t(i,r){let{pathname:o,search:l,hash:u}=i.location;return _y("",{pathname:o,search:l,hash:u},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:Hu(r)}return kI(t,e,null,n)}function Ne(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ji(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NI(){return Math.random().toString(36).substring(2,10)}function dw(n,t){return{usr:n.state,key:n.key,idx:t}}function _y(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?ec(t):t,state:e,key:t&&t.key||i||NI()}}function Hu({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function ec(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function kI(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,l=r.history,u="POP",d=null,f=p();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function p(){return(l.state||{idx:null}).idx}function _(){u="POP";let C=p(),M=C==null?null:C-f;f=C,d&&d({action:u,location:A.location,delta:M})}function v(C,M){u="PUSH";let L=_y(A.location,C,M);f=p()+1;let H=dw(L,f),Y=A.createHref(L);try{l.pushState(H,"",Y)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;r.location.assign(Y)}o&&d&&d({action:u,location:A.location,delta:1})}function E(C,M){u="REPLACE";let L=_y(A.location,C,M);f=p();let H=dw(L,f),Y=A.createHref(L);l.replaceState(H,"",Y),o&&d&&d({action:u,location:A.location,delta:0})}function S(C){return DI(C)}let A={get action(){return u},get location(){return n(r,l)},listen(C){if(d)throw new Error("A history only accepts one active listener");return r.addEventListener(hw,_),d=C,()=>{r.removeEventListener(hw,_),d=null}},createHref(C){return t(r,C)},createURL:S,encodeLocation(C){let M=S(C);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:v,replace:E,go(C){return l.go(C)}};return A}function DI(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Ne(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Hu(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function ST(n,t,e="/"){return MI(n,t,e,!1)}function MI(n,t,e,i){let r=typeof t=="string"?ec(t):t,o=gr(r.pathname||"/",e);if(o==null)return null;let l=AT(n);OI(l);let u=null;for(let d=0;u==null&&d<l.length;++d){let f=GI(o);u=HI(l[d],f,i)}return u}function AT(n,t=[],e=[],i="",r=!1){let o=(l,u,d=r,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(i)&&d)return;Ne(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length)}let _=fr([i,p.relativePath]),v=e.concat(p);l.children&&l.children.length>0&&(Ne(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),AT(l.children,t,v,_,d)),!(l.path==null&&!l.index)&&t.push({path:_,score:BI(_,l.index),routesMeta:v})};return n.forEach((l,u)=>{if(l.path===""||!l.path?.includes("?"))o(l,u);else for(let d of CT(l.path))o(l,u,!0,d)}),t}function CT(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let l=CT(i.join("/")),u=[];return u.push(...l.map(d=>d===""?o:[o,d].join("/"))),r&&u.push(...l),u.map(d=>n.startsWith("/")&&d===""?"/":d)}function OI(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:FI(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var PI=/^:[\w-]+$/,LI=3,jI=2,VI=1,UI=10,zI=-2,fw=n=>n==="*";function BI(n,t){let e=n.split("/"),i=e.length;return e.some(fw)&&(i+=zI),t&&(i+=jI),e.filter(r=>!fw(r)).reduce((r,o)=>r+(PI.test(o)?LI:o===""?VI:UI),i)}function FI(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function HI(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",l=[];for(let u=0;u<i.length;++u){let d=i[u],f=u===i.length-1,p=o==="/"?t:t.slice(o.length)||"/",_=Of({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},p),v=d.route;if(!_&&f&&e&&!i[i.length-1].route.index&&(_=Of({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!_)return null;Object.assign(r,_.params),l.push({params:r,pathname:fr([o,_.pathname]),pathnameBase:KI(fr([o,_.pathnameBase])),route:v}),_.pathnameBase!=="/"&&(o=fr([o,_.pathnameBase]))}return l}function Of(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=qI(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],l=o.replace(/(.)\/+$/,"$1"),u=r.slice(1);return{params:i.reduce((f,{paramName:p,isOptional:_},v)=>{if(p==="*"){let S=u[v]||"";l=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const E=u[v];return _&&!E?f[p]=void 0:f[p]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:l,pattern:n}}function qI(n,t=!1,e=!0){Ji(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function GI(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ji(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function gr(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}var YI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function $I(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?ec(n):n,o;return e?(e=e.replace(/\/\/+/g,"/"),e.startsWith("/")?o=mw(e.substring(1),"/"):o=mw(e,t)):o=t,{pathname:o,search:QI(i),hash:XI(r)}}function mw(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Vp(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function WI(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function o0(n){let t=WI(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function l0(n,t,e,i=!1){let r;typeof n=="string"?r=ec(n):(r={...n},Ne(!r.pathname||!r.pathname.includes("?"),Vp("?","pathname","search",r)),Ne(!r.pathname||!r.pathname.includes("#"),Vp("#","pathname","hash",r)),Ne(!r.search||!r.search.includes("#"),Vp("#","search","hash",r)));let o=n===""||r.pathname==="",l=o?"/":r.pathname,u;if(l==null)u=e;else{let _=t.length-1;if(!i&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),_-=1;r.pathname=v.join("/")}u=_>=0?t[_]:"/"}let d=$I(r,u),f=l&&l!=="/"&&l.endsWith("/"),p=(o||l===".")&&e.endsWith("/");return!d.pathname.endsWith("/")&&(f||p)&&(d.pathname+="/"),d}var fr=n=>n.join("/").replace(/\/\/+/g,"/"),KI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),QI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,XI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,JI=class{constructor(n,t,e,i=!1){this.status=n,this.statusText=t||"",this.internal=i,e instanceof Error?(this.data=e.toString(),this.error=e):this.data=e}};function ZI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function tN(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var RT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function IT(n,t){let e=n;if(typeof e!="string"||!YI.test(e))return{absoluteURL:void 0,isExternal:!1,to:e};let i=e,r=!1;if(RT)try{let o=new URL(window.location.href),l=e.startsWith("//")?new URL(o.protocol+e):new URL(e),u=gr(l.pathname,t);l.origin===o.origin&&u!=null?e=u+l.search+l.hash:r=!0}catch{Ji(!1,`<Link to="${e}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var NT=["POST","PUT","PATCH","DELETE"];new Set(NT);var eN=["GET",...NT];new Set(eN);var nc=B.createContext(null);nc.displayName="DataRouter";var am=B.createContext(null);am.displayName="DataRouterState";var nN=B.createContext(!1),kT=B.createContext({isTransitioning:!1});kT.displayName="ViewTransition";var iN=B.createContext(new Map);iN.displayName="Fetchers";var sN=B.createContext(null);sN.displayName="Await";var gi=B.createContext(null);gi.displayName="Navigation";var hh=B.createContext(null);hh.displayName="Location";var Os=B.createContext({outlet:null,matches:[],isDataRoute:!1});Os.displayName="Route";var c0=B.createContext(null);c0.displayName="RouteError";var DT="REACT_ROUTER_ERROR",rN="REDIRECT",aN="ROUTE_ERROR_RESPONSE";function oN(n){if(n.startsWith(`${DT}:${rN}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function lN(n){if(n.startsWith(`${DT}:${aN}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new JI(t.status,t.statusText,t.data)}catch{}}function cN(n,{relative:t}={}){Ne(ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=B.useContext(gi),{hash:r,pathname:o,search:l}=fh(n,{relative:t}),u=o;return e!=="/"&&(u=o==="/"?e:fr([e,o])),i.createHref({pathname:u,search:l,hash:r})}function ic(){return B.useContext(hh)!=null}function Na(){return Ne(ic(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(hh).location}var MT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OT(n){B.useContext(gi).static||B.useLayoutEffect(n)}function dh(){let{isDataRoute:n}=B.useContext(Os);return n?wN():uN()}function uN(){Ne(ic(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(nc),{basename:t,navigator:e}=B.useContext(gi),{matches:i}=B.useContext(Os),{pathname:r}=Na(),o=JSON.stringify(o0(i)),l=B.useRef(!1);return OT(()=>{l.current=!0}),B.useCallback((d,f={})=>{if(Ji(l.current,MT),!l.current)return;if(typeof d=="number"){e.go(d);return}let p=l0(d,JSON.parse(o),r,f.relative==="path");n==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:fr([t,p.pathname])),(f.replace?e.replace:e.push)(p,f.state,f)},[t,e,o,r,n])}B.createContext(null);function fh(n,{relative:t}={}){let{matches:e}=B.useContext(Os),{pathname:i}=Na(),r=JSON.stringify(o0(e));return B.useMemo(()=>l0(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function hN(n,t){return PT(n,t)}function PT(n,t,e,i,r){Ne(ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(gi),{matches:l}=B.useContext(Os),u=l[l.length-1],d=u?u.params:{},f=u?u.pathname:"/",p=u?u.pathnameBase:"/",_=u&&u.route;{let L=_&&_.path||"";jT(f,!_||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let v=Na(),E;if(t){let L=typeof t=="string"?ec(t):t;Ne(p==="/"||L.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${L.pathname}" was given in the \`location\` prop.`),E=L}else E=v;let S=E.pathname||"/",A=S;if(p!=="/"){let L=p.replace(/^\//,"").split("/");A="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let C=ST(n,{pathname:A});Ji(_||C!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Ji(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=pN(C&&C.map(L=>Object.assign({},L,{params:Object.assign({},d,L.params),pathname:fr([p,o.encodeLocation?o.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?p:fr([p,o.encodeLocation?o.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),l,e,i,r);return t&&M?B.createElement(hh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},M):M}function dN(){let n=xN(),t=ZI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},t),e?B.createElement("pre",{style:r},e):null,l)}var fN=B.createElement(dN,null),LT=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const e=lN(n.digest);e&&(n=e)}let t=n!==void 0?B.createElement(Os.Provider,{value:this.props.routeContext},B.createElement(c0.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?B.createElement(mN,{error:n},t):t}};LT.contextType=nN;var Up=new WeakMap;function mN({children:n,error:t}){let{basename:e}=B.useContext(gi);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=oN(t.digest);if(i){let r=Up.get(t);if(r)throw r;let o=IT(i.location,e);if(RT&&!Up.get(t))if(o.isExternal||i.reloadDocument)window.location.href=o.absoluteURL||o.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(o.to,{replace:i.replace}));throw Up.set(t,l),l}return B.createElement("meta",{httpEquiv:"refresh",content:`0;url=${o.absoluteURL||o.to}`})}}return n}function gN({routeContext:n,match:t,children:e}){let i=B.useContext(nc);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),B.createElement(Os.Provider,{value:n},e)}function pN(n,t=[],e=null,i=null,r=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let o=n,l=e?.errors;if(l!=null){let p=o.findIndex(_=>_.route.id&&l?.[_.route.id]!==void 0);Ne(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(e)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(d=p),_.route.id){let{loaderData:v,errors:E}=e,S=_.route.loader&&!v.hasOwnProperty(_.route.id)&&(!E||E[_.route.id]===void 0);if(_.route.lazy||S){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}let f=e&&i?(p,_)=>{i(p,{location:e.location,params:e.matches?.[0]?.params??{},unstable_pattern:tN(e.matches),errorInfo:_})}:void 0;return o.reduceRight((p,_,v)=>{let E,S=!1,A=null,C=null;e&&(E=l&&_.route.id?l[_.route.id]:void 0,A=_.route.errorElement||fN,u&&(d<0&&v===0?(jT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,C=null):d===v&&(S=!0,C=_.route.hydrateFallbackElement||null)));let M=t.concat(o.slice(0,v+1)),L=()=>{let H;return E?H=A:S?H=C:_.route.Component?H=B.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=p,B.createElement(gN,{match:_,routeContext:{outlet:p,matches:M,isDataRoute:e!=null},children:H})};return e&&(_.route.ErrorBoundary||_.route.errorElement||v===0)?B.createElement(LT,{location:e.location,revalidation:e.revalidation,component:A,error:E,children:L(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:f}):L()},null)}function u0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yN(n){let t=B.useContext(nc);return Ne(t,u0(n)),t}function _N(n){let t=B.useContext(am);return Ne(t,u0(n)),t}function bN(n){let t=B.useContext(Os);return Ne(t,u0(n)),t}function h0(n){let t=bN(n),e=t.matches[t.matches.length-1];return Ne(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function vN(){return h0("useRouteId")}function xN(){let n=B.useContext(c0),t=_N("useRouteError"),e=h0("useRouteError");return n!==void 0?n:t.errors?.[e]}function wN(){let{router:n}=yN("useNavigate"),t=h0("useNavigate"),e=B.useRef(!1);return OT(()=>{e.current=!0}),B.useCallback(async(r,o={})=>{Ji(e.current,MT),e.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var gw={};function jT(n,t,e){!t&&!gw[n]&&(gw[n]=!0,Ji(!1,e))}B.memo(EN);function EN({routes:n,future:t,state:e,onError:i}){return PT(n,void 0,e,i,t)}function by({to:n,replace:t,state:e,relative:i}){Ne(ic(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=B.useContext(gi);Ji(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=B.useContext(Os),{pathname:l}=Na(),u=dh(),d=l0(n,o0(o),l,i==="path"),f=JSON.stringify(d);return B.useEffect(()=>{u(JSON.parse(f),{replace:t,state:e,relative:i})},[u,f,i,t,e]),null}function ir(n){Ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TN({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1,unstable_useTransitions:l}){Ne(!ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:u,navigator:r,static:o,unstable_useTransitions:l,future:{}}),[u,r,o,l]);typeof e=="string"&&(e=ec(e));let{pathname:f="/",search:p="",hash:_="",state:v=null,key:E="default"}=e,S=B.useMemo(()=>{let A=gr(f,u);return A==null?null:{location:{pathname:A,search:p,hash:_,state:v,key:E},navigationType:i}},[u,f,p,_,v,E,i]);return Ji(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${_}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:B.createElement(gi.Provider,{value:d},B.createElement(hh.Provider,{children:t,value:S}))}function SN({children:n,location:t}){return hN(vy(n),t)}function vy(n,t=[]){let e=[];return B.Children.forEach(n,(i,r)=>{if(!B.isValidElement(i))return;let o=[...t,r];if(i.type===B.Fragment){e.push.apply(e,vy(i.props.children,o));return}Ne(i.type===ir,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ne(!i.props.index||!i.props.children,"An index route cannot have child routes.");let l={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(l.children=vy(i.props.children,o)),e.push(l)}),e}var vf="get",xf="application/x-www-form-urlencoded";function om(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function AN(n){return om(n)&&n.tagName.toLowerCase()==="button"}function CN(n){return om(n)&&n.tagName.toLowerCase()==="form"}function RN(n){return om(n)&&n.tagName.toLowerCase()==="input"}function IN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function NN(n,t){return n.button===0&&(!t||t==="_self")&&!IN(n)}var Qd=null;function kN(){if(Qd===null)try{new FormData(document.createElement("form"),0),Qd=!1}catch{Qd=!0}return Qd}var DN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zp(n){return n!=null&&!DN.has(n)?(Ji(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xf}"`),null):n}function MN(n,t){let e,i,r,o,l;if(CN(n)){let u=n.getAttribute("action");i=u?gr(u,t):null,e=n.getAttribute("method")||vf,r=zp(n.getAttribute("enctype"))||xf,o=new FormData(n)}else if(AN(n)||RN(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=n.getAttribute("formaction")||u.getAttribute("action");if(i=d?gr(d,t):null,e=n.getAttribute("formmethod")||u.getAttribute("method")||vf,r=zp(n.getAttribute("formenctype"))||zp(u.getAttribute("enctype"))||xf,o=new FormData(u,n),!kN()){let{name:f,type:p,value:_}=n;if(p==="image"){let v=f?`${f}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else f&&o.append(f,_)}}else{if(om(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=vf,i=null,r=xf,l=n}return o&&r==="text/plain"&&(l=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function d0(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function ON(n,t,e,i){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:t&&gr(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function PN(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function LN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function jN(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let l=await PN(o,e);return l.links?l.links():[]}return[]}));return BN(i.flat(1).filter(LN).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function pw(n,t,e,i,r,o){let l=(d,f)=>e[f]?d.route.id!==e[f].route.id:!0,u=(d,f)=>e[f].pathname!==d.pathname||e[f].route.path?.endsWith("*")&&e[f].params["*"]!==d.params["*"];return o==="assets"?t.filter((d,f)=>l(d,f)||u(d,f)):o==="data"?t.filter((d,f)=>{let p=i.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,f)||u(d,f))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:e[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function VN(n,t,{includeHydrateFallback:e}={}){return UN(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function UN(n){return[...new Set(n)]}function zN(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function BN(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(zN(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}function VT(){let n=B.useContext(nc);return d0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function FN(){let n=B.useContext(am);return d0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var f0=B.createContext(void 0);f0.displayName="FrameworkContext";function UT(){let n=B.useContext(f0);return d0(n,"You must render this element inside a <HydratedRouter> element"),n}function HN(n,t){let e=B.useContext(f0),[i,r]=B.useState(!1),[o,l]=B.useState(!1),{onFocus:u,onBlur:d,onMouseEnter:f,onMouseLeave:p,onTouchStart:_}=t,v=B.useRef(null);B.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let A=M=>{M.forEach(L=>{l(L.isIntersecting)})},C=new IntersectionObserver(A,{threshold:.5});return v.current&&C.observe(v.current),()=>{C.disconnect()}}},[n]),B.useEffect(()=>{if(i){let A=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(A)}}},[i]);let E=()=>{r(!0)},S=()=>{r(!1),l(!1)};return e?n!=="intent"?[o,v,{}]:[o,v,{onFocus:hu(u,E),onBlur:hu(d,S),onMouseEnter:hu(f,E),onMouseLeave:hu(p,S),onTouchStart:hu(_,E)}]:[!1,v,{}]}function hu(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function qN({page:n,...t}){let{router:e}=VT(),i=B.useMemo(()=>ST(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?B.createElement(YN,{page:n,matches:i,...t}):null}function GN(n){let{manifest:t,routeModules:e}=UT(),[i,r]=B.useState([]);return B.useEffect(()=>{let o=!1;return jN(n,t,e).then(l=>{o||r(l)}),()=>{o=!0}},[n,t,e]),i}function YN({page:n,matches:t,...e}){let i=Na(),{future:r,manifest:o,routeModules:l}=UT(),{basename:u}=VT(),{loaderData:d,matches:f}=FN(),p=B.useMemo(()=>pw(n,t,f,o,i,"data"),[n,t,f,o,i]),_=B.useMemo(()=>pw(n,t,f,o,i,"assets"),[n,t,f,o,i]),v=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,C=!1;if(t.forEach(L=>{let H=o.routes[L.route.id];!H||!H.hasLoader||(!p.some(Y=>Y.route.id===L.route.id)&&L.route.id in d&&l[L.route.id]?.shouldRevalidate||H.hasClientLoader?C=!0:A.add(L.route.id))}),A.size===0)return[];let M=ON(n,u,r.unstable_trailingSlashAwareDataRequests,"data");return C&&A.size>0&&M.searchParams.set("_routes",t.filter(L=>A.has(L.route.id)).map(L=>L.route.id).join(",")),[M.pathname+M.search]},[u,r.unstable_trailingSlashAwareDataRequests,d,i,o,p,t,n,l]),E=B.useMemo(()=>VN(_,o),[_,o]),S=GN(_);return B.createElement(B.Fragment,null,v.map(A=>B.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...e})),E.map(A=>B.createElement("link",{key:A,rel:"modulepreload",href:A,...e})),S.map(({key:A,link:C})=>B.createElement("link",{key:A,nonce:e.nonce,...C,crossOrigin:C.crossOrigin??e.crossOrigin})))}function $N(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var WN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WN&&(window.__reactRouterVersion="7.13.0")}catch{}function KN({basename:n,children:t,unstable_useTransitions:e,window:i}){let r=B.useRef();r.current==null&&(r.current=II({window:i,v5Compat:!0}));let o=r.current,[l,u]=B.useState({action:o.action,location:o.location}),d=B.useCallback(f=>{e===!1?u(f):B.startTransition(()=>u(f))},[e]);return B.useLayoutEffect(()=>o.listen(d),[o,d]),B.createElement(TN,{basename:n,children:t,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:e})}var zT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BT=B.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:l,state:u,target:d,to:f,preventScrollReset:p,viewTransition:_,unstable_defaultShouldRevalidate:v,...E},S){let{basename:A,unstable_useTransitions:C}=B.useContext(gi),M=typeof f=="string"&&zT.test(f),L=IT(f,A);f=L.to;let H=cN(f,{relative:r}),[Y,$,et]=HN(i,E),N=ZN(f,{replace:l,state:u,target:d,preventScrollReset:p,relative:r,viewTransition:_,unstable_defaultShouldRevalidate:v,unstable_useTransitions:C});function I(j){t&&t(j),j.defaultPrevented||N(j)}let D=B.createElement("a",{...E,...et,href:L.absoluteURL||H,onClick:L.isExternal||o?t:I,ref:$N(S,$),target:d,"data-discover":!M&&e==="render"?"true":void 0});return Y&&!M?B.createElement(B.Fragment,null,D,B.createElement(qN,{page:H})):D});BT.displayName="Link";var QN=B.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:l,viewTransition:u,children:d,...f},p){let _=fh(l,{relative:f.relative}),v=Na(),E=B.useContext(am),{navigator:S,basename:A}=B.useContext(gi),C=E!=null&&sk(_)&&u===!0,M=S.encodeLocation?S.encodeLocation(_).pathname:_.pathname,L=v.pathname,H=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;e||(L=L.toLowerCase(),H=H?H.toLowerCase():null,M=M.toLowerCase()),H&&A&&(H=gr(H,A)||H);const Y=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let $=L===M||!r&&L.startsWith(M)&&L.charAt(Y)==="/",et=H!=null&&(H===M||!r&&H.startsWith(M)&&H.charAt(M.length)==="/"),N={isActive:$,isPending:et,isTransitioning:C},I=$?t:void 0,D;typeof i=="function"?D=i(N):D=[i,$?"active":null,et?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let j=typeof o=="function"?o(N):o;return B.createElement(BT,{...f,"aria-current":I,className:D,ref:p,style:j,to:l,viewTransition:u},typeof d=="function"?d(N):d)});QN.displayName="NavLink";var XN=B.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:l=vf,action:u,onSubmit:d,relative:f,preventScrollReset:p,viewTransition:_,unstable_defaultShouldRevalidate:v,...E},S)=>{let{unstable_useTransitions:A}=B.useContext(gi),C=nk(),M=ik(u,{relative:f}),L=l.toLowerCase()==="get"?"get":"post",H=typeof u=="string"&&zT.test(u),Y=$=>{if(d&&d($),$.defaultPrevented)return;$.preventDefault();let et=$.nativeEvent.submitter,N=et?.getAttribute("formmethod")||l,I=()=>C(et||$.currentTarget,{fetcherKey:t,method:N,navigate:e,replace:r,state:o,relative:f,preventScrollReset:p,viewTransition:_,unstable_defaultShouldRevalidate:v});A&&e!==!1?B.startTransition(()=>I()):I()};return B.createElement("form",{ref:S,method:L,action:M,onSubmit:i?d:Y,...E,"data-discover":!H&&n==="render"?"true":void 0})});XN.displayName="Form";function JN(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FT(n){let t=B.useContext(nc);return Ne(t,JN(n)),t}function ZN(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u,unstable_useTransitions:d}={}){let f=dh(),p=Na(),_=fh(n,{relative:o});return B.useCallback(v=>{if(NN(v,t)){v.preventDefault();let E=e!==void 0?e:Hu(p)===Hu(_),S=()=>f(n,{replace:E,state:i,preventScrollReset:r,relative:o,viewTransition:l,unstable_defaultShouldRevalidate:u});d?B.startTransition(()=>S()):S()}},[p,f,_,e,i,t,n,r,o,l,u,d])}var tk=0,ek=()=>`__${String(++tk)}__`;function nk(){let{router:n}=FT("useSubmit"),{basename:t}=B.useContext(gi),e=vN(),i=n.fetch,r=n.navigate;return B.useCallback(async(o,l={})=>{let{action:u,method:d,encType:f,formData:p,body:_}=MN(o,t);if(l.navigate===!1){let v=l.fetcherKey||ek();await i(v,e,l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||d,formEncType:l.encType||f,flushSync:l.flushSync})}else await r(l.action||u,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:_,formMethod:l.method||d,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,r,t,e])}function ik(n,{relative:t}={}){let{basename:e}=B.useContext(gi),i=B.useContext(Os);Ne(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...fh(n||".",{relative:t})},l=Na();if(n==null){o.search=l.search;let u=new URLSearchParams(o.search),d=u.getAll("index");if(d.some(p=>p==="")){u.delete("index"),d.filter(_=>_).forEach(_=>u.append("index",_));let p=u.toString();o.search=p?`?${p}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:fr([e,o.pathname])),Hu(o)}function sk(n,{relative:t}={}){let e=B.useContext(kT);Ne(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=FT("useViewTransitionState"),r=fh(n,{relative:t});if(!e.isTransitioning)return!1;let o=gr(e.currentLocation.pathname,i)||e.currentLocation.pathname,l=gr(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Of(r.pathname,l)!=null||Of(r.pathname,o)!=null}function mh(n){return n+.5|0}const ua=(n,t,e)=>Math.max(Math.min(n,e),t);function bu(n){return ua(mh(n*2.55),0,255)}function ga(n){return ua(mh(n*255),0,255)}function ar(n){return ua(mh(n/2.55)/100,0,1)}function yw(n){return ua(mh(n*100),0,100)}const ki={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},xy=[..."0123456789ABCDEF"],rk=n=>xy[n&15],ak=n=>xy[(n&240)>>4]+xy[n&15],Xd=n=>(n&240)>>4===(n&15),ok=n=>Xd(n.r)&&Xd(n.g)&&Xd(n.b)&&Xd(n.a);function lk(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ki[n[1]]*17,g:255&ki[n[2]]*17,b:255&ki[n[3]]*17,a:t===5?ki[n[4]]*17:255}:(t===7||t===9)&&(e={r:ki[n[1]]<<4|ki[n[2]],g:ki[n[3]]<<4|ki[n[4]],b:ki[n[5]]<<4|ki[n[6]],a:t===9?ki[n[7]]<<4|ki[n[8]]:255})),e}const ck=(n,t)=>n<255?t(n):"";function uk(n){var t=ok(n)?rk:ak;return n?"#"+t(n.r)+t(n.g)+t(n.b)+ck(n.a,t):void 0}const hk=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function HT(n,t,e){const i=t*Math.min(e,1-e),r=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function dk(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function fk(n,t,e){const i=HT(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function mk(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function m0(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),l=Math.min(e,i,r),u=(o+l)/2;let d,f,p;return o!==l&&(p=o-l,f=u>.5?p/(2-o-l):p/(o+l),d=mk(e,i,r,p,o),d=d*60+.5),[d|0,f||0,u]}function g0(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ga)}function p0(n,t,e){return g0(HT,n,t,e)}function gk(n,t,e){return g0(fk,n,t,e)}function pk(n,t,e){return g0(dk,n,t,e)}function qT(n){return(n%360+360)%360}function yk(n){const t=hk.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?bu(+t[5]):ga(+t[5]));const r=qT(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=gk(r,o,l):t[1]==="hsv"?i=pk(r,o,l):i=p0(r,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function _k(n,t){var e=m0(n);e[0]=qT(e[0]+t),e=p0(e),n.r=e[0],n.g=e[1],n.b=e[2]}function bk(n){if(!n)return;const t=m0(n),e=t[0],i=yw(t[1]),r=yw(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${ar(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const _w={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},bw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function vk(){const n={},t=Object.keys(bw),e=Object.keys(_w);let i,r,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,_w[o]);o=parseInt(bw[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Jd;function xk(n){Jd||(Jd=vk(),Jd.transparent=[0,0,0,0]);const t=Jd[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const wk=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Ek(n){const t=wk.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?bu(l):ua(l*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?bu(i):ua(i,0,255)),r=255&(t[4]?bu(r):ua(r,0,255)),o=255&(t[6]?bu(o):ua(o,0,255)),{r:i,g:r,b:o,a:e}}}function Tk(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${ar(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Bp=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Al=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Sk(n,t,e){const i=Al(ar(n.r)),r=Al(ar(n.g)),o=Al(ar(n.b));return{r:ga(Bp(i+e*(Al(ar(t.r))-i))),g:ga(Bp(r+e*(Al(ar(t.g))-r))),b:ga(Bp(o+e*(Al(ar(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Zd(n,t,e){if(n){let i=m0(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=p0(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function GT(n,t){return n&&Object.assign(t||{},n)}function vw(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ga(n[3]))):(t=GT(n,{r:0,g:0,b:0,a:1}),t.a=ga(t.a)),t}function Ak(n){return n.charAt(0)==="r"?Ek(n):yk(n)}class qu{constructor(t){if(t instanceof qu)return t;const e=typeof t;let i;e==="object"?i=vw(t):e==="string"&&(i=lk(t)||xk(t)||Ak(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=GT(this._rgb);return t&&(t.a=ar(t.a)),t}set rgb(t){this._rgb=vw(t)}rgbString(){return this._valid?Tk(this._rgb):void 0}hexString(){return this._valid?uk(this._rgb):void 0}hslString(){return this._valid?bk(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,d=i.a-r.a,f=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;o=1-f,i.r=255&f*i.r+o*r.r+.5,i.g=255&f*i.g+o*r.g+.5,i.b=255&f*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=Sk(this._rgb,t._rgb,e)),this}clone(){return new qu(this.rgb)}alpha(t){return this._rgb.a=ga(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=mh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Zd(this._rgb,2,t),this}darken(t){return Zd(this._rgb,2,-t),this}saturate(t){return Zd(this._rgb,1,t),this}desaturate(t){return Zd(this._rgb,1,-t),this}rotate(t){return _k(this._rgb,t),this}}function nr(){}const Ck=(()=>{let n=0;return()=>n++})();function qt(n){return n==null}function Re(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ve(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function di(n,t){return Ve(n)?n:t}function Ot(n,t){return typeof n>"u"?t:n}const Rk=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,YT=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ve(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function me(n,t,e,i){let r,o,l;if(Re(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Qt(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)t.call(e,n[l[r]],l[r])}function Pf(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Lf(n){if(Re(n))return n.map(Lf);if(Qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Lf(n[e[r]]);return t}return n}function $T(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Ik(n,t,e,i){if(!$T(n))return;const r=t[n],o=e[n];Qt(r)&&Qt(o)?Gu(r,o,i):t[n]=Lf(o)}function Gu(n,t,e){const i=Re(t)?t:[t],r=i.length;if(!Qt(n))return n;e=e||{};const o=e.merger||Ik;let l;for(let u=0;u<r;++u){if(l=i[u],!Qt(l))continue;const d=Object.keys(l);for(let f=0,p=d.length;f<p;++f)o(d[f],n,l,e)}return n}function ku(n,t){return Gu(n,t,{merger:Nk})}function Nk(n,t,e){if(!$T(n))return;const i=t[n],r=e[n];Qt(i)&&Qt(r)?ku(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Lf(r))}const xw={"":n=>n,x:n=>n.x,y:n=>n.y};function kk(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function Dk(n){const t=kk(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function xa(n,t){return(xw[t]||(xw[t]=Dk(t)))(n)}function y0(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Yu=n=>typeof n<"u",wa=n=>typeof n=="function",ww=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function Mk(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const se=Math.PI,Se=2*se,Ok=Se+se,jf=Number.POSITIVE_INFINITY,Pk=se/180,$e=se/2,uo=se/4,Ew=se*2/3,ha=Math.log10,Ss=Math.sign;function Du(n,t,e){return Math.abs(n-t)<e}function Tw(n){const t=Math.round(n);n=Du(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(ha(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function Lk(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function jk(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ql(n){return!jk(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function Vk(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function WT(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Wi(n){return n*(se/180)}function _0(n){return n*(180/se)}function Sw(n){if(!Ve(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function KT(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*se&&(o+=Se),{angle:o,distance:r}}function wy(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function Uk(n,t){return(n-t+Ok)%Se-se}function Dn(n){return(n%Se+Se)%Se}function $u(n,t,e,i){const r=Dn(n),o=Dn(t),l=Dn(e),u=Dn(o-r),d=Dn(l-r),f=Dn(r-o),p=Dn(r-l);return r===o||r===l||i&&o===l||u>d&&f<p}function yn(n,t,e){return Math.max(t,Math.min(e,n))}function zk(n){return yn(n,-32768,32767)}function or(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function b0(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const lr=(n,t,e,i)=>b0(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),Bk=(n,t,e)=>b0(n,e,i=>n[i][t]>=e);function Fk(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const QT=["push","pop","shift","splice","unshift"];function Hk(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),QT.forEach(e=>{const i="_onData"+y0(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function Aw(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(QT.forEach(o=>{delete n[o]}),delete n._chartjs)}function XT(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const JT=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function ZT(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,JT.call(window,()=>{i=!1,n.apply(t,e)}))}}function qk(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const v0=n=>n==="start"?"left":n==="end"?"right":"center",Nn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Gk=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function tS(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:d}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=l.axis,{min:_,max:v,minDefined:E,maxDefined:S}=l.getUserBounds();if(E){if(r=Math.min(lr(d,p,_).lo,e?i:lr(t,p,l.getPixelForValue(_)).lo),f){const A=d.slice(0,r+1).reverse().findIndex(C=>!qt(C[u.axis]));r-=Math.max(0,A)}r=yn(r,0,i-1)}if(S){let A=Math.max(lr(d,l.axis,v,!0).hi+1,e?0:lr(t,p,l.getPixelForValue(v),!0).hi+1);if(f){const C=d.slice(A-1).findIndex(M=>!qt(M[u.axis]));A+=Math.max(0,C)}o=yn(A,r,i)-r}else o=i-r}return{start:r,count:o}}function eS(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const tf=n=>n===0||n===1,Cw=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Se/e)),Rw=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Se/e)+1,Mu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*$e)+1,easeOutSine:n=>Math.sin(n*$e),easeInOutSine:n=>-.5*(Math.cos(se*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>tf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>tf(n)?n:Cw(n,.075,.3),easeOutElastic:n=>tf(n)?n:Rw(n,.075,.3),easeInOutElastic(n){return tf(n)?n:n<.5?.5*Cw(n*2,.1125,.45):.5+.5*Rw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Mu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Mu.easeInBounce(n*2)*.5:Mu.easeOutBounce(n*2-1)*.5+.5};function x0(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Iw(n){return x0(n)?n:new qu(n)}function Fp(n){return x0(n)?n:new qu(n).saturate(.5).darken(.1).hexString()}const Yk=["x","y","borderWidth","radius","tension"],$k=["color","borderColor","backgroundColor"];function Wk(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:$k},numbers:{type:"number",properties:Yk}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function Kk(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Nw=new Map;function Qk(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Nw.get(e);return i||(i=new Intl.NumberFormat(n,t),Nw.set(e,i)),i}function gh(n,t,e){return Qk(t,e).format(n)}const nS={values(n){return Re(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),o=Xk(n,e)}const l=ha(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(d,this.options.ticks.format),gh(n,i,d)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(ha(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?nS.numeric.call(this,n,t,e):""}};function Xk(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var lm={formatters:nS};function Jk(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lm.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Eo=Object.create(null),Ey=Object.create(null);function Ou(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Hp(n,t,e){return typeof t=="string"?Gu(Ou(n,t),e):Gu(Ou(n,""),t)}class Zk{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Fp(r.backgroundColor),this.hoverBorderColor=(i,r)=>Fp(r.borderColor),this.hoverColor=(i,r)=>Fp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Hp(this,t,e)}get(t){return Ou(this,t)}describe(t,e){return Hp(Ey,t,e)}override(t,e){return Hp(Eo,t,e)}route(t,e,i,r){const o=Ou(this,t),l=Ou(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[u],f=l[r];return Qt(d)?Object.assign({},f,d):Ot(d,f)},set(d){this[u]=d}}})}apply(t){t.forEach(e=>e(this))}}var Ie=new Zk({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Wk,Kk,Jk]);function tD(n){return!n||qt(n.size)||qt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Vf(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function eD(n,t,e,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let l=0;const u=e.length;let d,f,p,_,v;for(d=0;d<u;d++)if(_=e[d],_!=null&&!Re(_))l=Vf(n,r,o,l,_);else if(Re(_))for(f=0,p=_.length;f<p;f++)v=_[f],v!=null&&!Re(v)&&(l=Vf(n,r,o,l,v));n.restore();const E=o.length/2;if(E>e.length){for(d=0;d<E;d++)delete r[o[d]];o.splice(0,E)}return l}function ho(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function kw(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Ty(n,t,e,i){iS(n,t,e,i,null)}function iS(n,t,e,i,r){let o,l,u,d,f,p,_,v;const E=t.pointStyle,S=t.rotation,A=t.radius;let C=(S||0)*Pk;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(C),n.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),E){default:r?n.ellipse(e,i,r/2,A,0,0,Se):n.arc(e,i,A,0,Se),n.closePath();break;case"triangle":p=r?r/2:A,n.moveTo(e+Math.sin(C)*p,i-Math.cos(C)*A),C+=Ew,n.lineTo(e+Math.sin(C)*p,i-Math.cos(C)*A),C+=Ew,n.lineTo(e+Math.sin(C)*p,i-Math.cos(C)*A),n.closePath();break;case"rectRounded":f=A*.516,d=A-f,l=Math.cos(C+uo)*d,_=Math.cos(C+uo)*(r?r/2-f:d),u=Math.sin(C+uo)*d,v=Math.sin(C+uo)*(r?r/2-f:d),n.arc(e-_,i-u,f,C-se,C-$e),n.arc(e+v,i-l,f,C-$e,C),n.arc(e+_,i+u,f,C,C+$e),n.arc(e-v,i+l,f,C+$e,C+se),n.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*A,p=r?r/2:d,n.rect(e-p,i-d,2*p,2*d);break}C+=uo;case"rectRot":_=Math.cos(C)*(r?r/2:A),l=Math.cos(C)*A,u=Math.sin(C)*A,v=Math.sin(C)*(r?r/2:A),n.moveTo(e-_,i-u),n.lineTo(e+v,i-l),n.lineTo(e+_,i+u),n.lineTo(e-v,i+l),n.closePath();break;case"crossRot":C+=uo;case"cross":_=Math.cos(C)*(r?r/2:A),l=Math.cos(C)*A,u=Math.sin(C)*A,v=Math.sin(C)*(r?r/2:A),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"star":_=Math.cos(C)*(r?r/2:A),l=Math.cos(C)*A,u=Math.sin(C)*A,v=Math.sin(C)*(r?r/2:A),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l),C+=uo,_=Math.cos(C)*(r?r/2:A),l=Math.cos(C)*A,u=Math.sin(C)*A,v=Math.sin(C)*(r?r/2:A),n.moveTo(e-_,i-u),n.lineTo(e+_,i+u),n.moveTo(e+v,i-l),n.lineTo(e-v,i+l);break;case"line":l=r?r/2:Math.cos(C)*A,u=Math.sin(C)*A,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(C)*(r?r/2:A),i+Math.sin(C)*A);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function cr(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function cm(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function um(n){n.restore()}function nD(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function iD(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function sD(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),qt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function rD(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,f=e+o.actualBoundingBoxDescent,p=r.strikethrough?(d+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function aD(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function To(n,t,e,i,r,o={}){const l=Re(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let d,f;for(n.save(),n.font=r.string,sD(n,o),d=0;d<l.length;++d)f=l[d],o.backdrop&&aD(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),qt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(f,e,i,o.maxWidth)),n.fillText(f,e,i,o.maxWidth),rD(n,e,i,f,o),i+=Number(r.lineHeight);n.restore()}function Wu(n,t){const{x:e,y:i,w:r,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*se,se,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,se,$e,!0),n.lineTo(e+r-l.bottomRight,i+o),n.arc(e+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,$e,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-$e,!0),n.lineTo(e+l.topLeft,i)}const oD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,lD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function cD(n,t){const e=(""+n).match(oD);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const uD=n=>+n||0;function w0(n,t){const e={},i=Qt(t),r=i?Object.keys(t):t,o=Qt(n)?i?l=>Ot(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=uD(o(l));return e}function sS(n){return w0(n,{top:"y",right:"x",bottom:"y",left:"x"})}function bo(n){return w0(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Pn(n){const t=sS(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function un(n,t){n=n||{},t=t||Ie.font;let e=Ot(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ot(n.style,t.style);i&&!(""+i).match(lD)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Ot(n.family,t.family),lineHeight:cD(Ot(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ot(n.weight,t.weight),string:""};return r.string=tD(r),r}function vu(n,t,e,i){let r,o,l;for(r=0,o=n.length;r<o;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function hD(n,t,e){const{min:i,max:r}=n,o=YT(t,(r-i)/2),l=(u,d)=>e&&u===0?0:u+d;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function ka(n,t){return Object.assign(Object.create(n),t)}function E0(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=lS("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>E0([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete n[0][d],!0},get(u,d){return aS(u,d,()=>bD(d,t,n,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,d){return Mw(u).includes(d)},ownKeys(u){return Mw(u)},set(u,d,f){const p=u._storage||(u._storage=r());return u[d]=p[d]=f,delete u._keys,!0}})}function Gl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:rS(n,i),setContext:o=>Gl(n,o,e,i),override:o=>Gl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return aS(o,l,()=>fD(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function rS(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:wa(e)?e:()=>e,isIndexable:wa(i)?i:()=>i}}const dD=(n,t)=>n?n+y0(t):t,T0=(n,t)=>Qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function aS(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function fD(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let u=i[t];return wa(u)&&l.isScriptable(t)&&(u=mD(t,u,n,e)),Re(u)&&u.length&&(u=gD(t,u,n,l.isIndexable)),T0(t,u)&&(u=Gl(u,r,o&&o[t],l)),u}function mD(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let d=t(o,l||i);return u.delete(n),T0(n,d)&&(d=S0(r._scopes,r,n,d)),d}function gD(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Qt(t[0])){const d=t,f=r._scopes.filter(p=>p!==d);t=[];for(const p of d){const _=S0(f,r,n,p);t.push(Gl(_,o,l&&l[n],u))}}return t}function oS(n,t,e){return wa(n)?n(t,e):n}const pD=(n,t)=>n===!0?t:typeof n=="string"?xa(t,n):void 0;function yD(n,t,e,i,r){for(const o of t){const l=pD(e,o);if(l){n.add(l);const u=oS(l._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function S0(n,t,e,i){const r=t._rootScopes,o=oS(t._fallback,e,i),l=[...n,...r],u=new Set;u.add(i);let d=Dw(u,l,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=Dw(u,l,o,d,i),d===null)?!1:E0(Array.from(u),[""],r,o,()=>_D(t,e,i))}function Dw(n,t,e,i,r){for(;e;)e=yD(n,t,e,i,r);return e}function _D(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Re(r)&&Qt(e)?e:r||{}}function bD(n,t,e,i){let r;for(const o of t)if(r=lS(dD(o,n),e),typeof r<"u")return T0(n,r)?S0(e,i,n,r):r}function lS(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Mw(n){let t=n._keys;return t||(t=n._keys=vD(n._scopes)),t}function vD(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}function cS(n,t,e,i){const{iScale:r}=n,{key:o="r"}=this._parsing,l=new Array(i);let u,d,f,p;for(u=0,d=i;u<d;++u)f=u+e,p=t[f],l[u]={r:r.parse(xa(p,o),f)};return l}const xD=Number.EPSILON||1e-14,Yl=(n,t)=>t<n.length&&!n[t].skip&&n[t],uS=n=>n==="x"?"y":"x";function wD(n,t,e,i){const r=n.skip?t:n,o=t,l=e.skip?t:e,u=wy(o,r),d=wy(l,o);let f=u/(u+d),p=d/(u+d);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const _=i*f,v=i*p;return{previous:{x:o.x-_*(l.x-r.x),y:o.y-_*(l.y-r.y)},next:{x:o.x+v*(l.x-r.x),y:o.y+v*(l.y-r.y)}}}function ED(n,t,e){const i=n.length;let r,o,l,u,d,f=Yl(n,0);for(let p=0;p<i-1;++p)if(d=f,f=Yl(n,p+1),!(!d||!f)){if(Du(t[p],0,xD)){e[p]=e[p+1]=0;continue}r=e[p]/t[p],o=e[p+1]/t[p],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),e[p]=r*l*t[p],e[p+1]=o*l*t[p])}}function TD(n,t,e="x"){const i=uS(e),r=n.length;let o,l,u,d=Yl(n,0);for(let f=0;f<r;++f){if(l=u,u=d,d=Yl(n,f+1),!u)continue;const p=u[e],_=u[i];l&&(o=(p-l[e])/3,u[`cp1${e}`]=p-o,u[`cp1${i}`]=_-o*t[f]),d&&(o=(d[e]-p)/3,u[`cp2${e}`]=p+o,u[`cp2${i}`]=_+o*t[f])}}function SD(n,t="x"){const e=uS(t),i=n.length,r=Array(i).fill(0),o=Array(i);let l,u,d,f=Yl(n,0);for(l=0;l<i;++l)if(u=d,d=f,f=Yl(n,l+1),!!d){if(f){const p=f[t]-d[t];r[l]=p!==0?(f[e]-d[e])/p:0}o[l]=u?f?Ss(r[l-1])!==Ss(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}ED(n,r,o),TD(n,o,t)}function ef(n,t,e){return Math.max(Math.min(n,e),t)}function AD(n,t){let e,i,r,o,l,u=cr(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=u,u=e<i-1&&cr(n[e+1],t),o&&(r=n[e],l&&(r.cp1x=ef(r.cp1x,t.left,t.right),r.cp1y=ef(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=ef(r.cp2x,t.left,t.right),r.cp2y=ef(r.cp2y,t.top,t.bottom)))}function CD(n,t,e,i,r){let o,l,u,d;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")SD(n,r);else{let f=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],d=wD(f,u,n[Math.min(o+1,l-(i?0:1))%l],t.tension),u.cp1x=d.previous.x,u.cp1y=d.previous.y,u.cp2x=d.next.x,u.cp2y=d.next.y,f=u}t.capBezierPoints&&AD(n,e)}function A0(){return typeof window<"u"&&typeof document<"u"}function C0(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Uf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const hm=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function RD(n,t){return hm(n).getPropertyValue(t)}const ID=["top","right","bottom","left"];function vo(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=ID[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const ND=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function kD(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let l=!1,u,d;if(ND(r,o,n.target))u=r,d=o;else{const f=t.getBoundingClientRect();u=i.clientX-f.left,d=i.clientY-f.top,l=!0}return{x:u,y:d,box:l}}function go(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=hm(e),o=r.boxSizing==="border-box",l=vo(r,"padding"),u=vo(r,"border","width"),{x:d,y:f,box:p}=kD(n,e),_=l.left+(p&&u.left),v=l.top+(p&&u.top);let{width:E,height:S}=t;return o&&(E-=l.width+u.width,S-=l.height+u.height),{x:Math.round((d-_)/E*e.width/i),y:Math.round((f-v)/S*e.height/i)}}function DD(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&C0(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=hm(o),d=vo(u,"border","width"),f=vo(u,"padding");t=l.width-f.width-d.width,e=l.height-f.height-d.height,i=Uf(u.maxWidth,o,"clientWidth"),r=Uf(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||jf,maxHeight:r||jf}}const da=n=>Math.round(n*10)/10;function MD(n,t,e,i){const r=hm(n),o=vo(r,"margin"),l=Uf(r.maxWidth,n,"clientWidth")||jf,u=Uf(r.maxHeight,n,"clientHeight")||jf,d=DD(n,t,e);let{width:f,height:p}=d;if(r.boxSizing==="content-box"){const v=vo(r,"border","width"),E=vo(r,"padding");f-=E.width+v.width,p-=E.height+v.height}return f=Math.max(0,f-o.width),p=Math.max(0,i?f/i:p-o.height),f=da(Math.min(f,l,d.maxWidth)),p=da(Math.min(p,u,d.maxHeight)),f&&!p&&(p=da(f/2)),(t!==void 0||e!==void 0)&&i&&d.height&&p>d.height&&(p=d.height,f=da(Math.floor(p*i))),{width:f,height:p}}function Ow(n,t,e){const i=t||1,r=da(n.height*i),o=da(n.width*i);n.height=da(n.height),n.width=da(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const OD=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};A0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function Pw(n,t){const e=RD(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function po(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function PD(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function LD(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=po(n,r,e),u=po(r,o,e),d=po(o,t,e),f=po(l,u,e),p=po(u,d,e);return po(f,p,e)}const jD=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},VD=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Ll(n,t,e){return n?jD(t,e):VD()}function hS(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function dS(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function fS(n){return n==="angle"?{between:$u,compare:Uk,normalize:Dn}:{between:or,compare:(t,e)=>t-e,normalize:t=>t}}function Lw({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function UD(n,t,e){const{property:i,start:r,end:o}=e,{between:l,normalize:u}=fS(i),d=t.length;let{start:f,end:p,loop:_}=n,v,E;if(_){for(f+=d,p+=d,v=0,E=d;v<E&&l(u(t[f%d][i]),r,o);++v)f--,p--;f%=d,p%=d}return p<f&&(p+=d),{start:f,end:p,loop:_,style:n.style}}function mS(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,l=t.length,{compare:u,between:d,normalize:f}=fS(i),{start:p,end:_,loop:v,style:E}=UD(n,t,e),S=[];let A=!1,C=null,M,L,H;const Y=()=>d(r,H,M)&&u(r,H)!==0,$=()=>u(o,M)===0||d(o,H,M),et=()=>A||Y(),N=()=>!A||$();for(let I=p,D=p;I<=_;++I)L=t[I%l],!L.skip&&(M=f(L[i]),M!==H&&(A=d(M,r,o),C===null&&et()&&(C=u(M,r)===0?I:D),C!==null&&N()&&(S.push(Lw({start:C,end:I,loop:v,count:l,style:E})),C=null),D=I,H=M));return C!==null&&S.push(Lw({start:C,end:_,loop:v,count:l,style:E})),S}function gS(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=mS(i[r],n.points,t);o.length&&e.push(...o)}return e}function zD(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function BD(n,t,e,i){const r=n.length,o=[];let l=t,u=n[t],d;for(d=t+1;d<=e;++d){const f=n[d%r];f.skip||f.stop?u.skip||(i=!1,o.push({start:t%r,end:(d-1)%r,loop:i}),t=l=f.stop?d:null):(l=d,u.skip&&(t=d)),u=f}return l!==null&&o.push({start:t%r,end:l%r,loop:i}),o}function FD(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:l,end:u}=zD(e,r,o,i);if(i===!0)return jw(n,[{start:l,end:u,loop:o}],e,t);const d=u<l?u+r:u,f=!!n._fullLoop&&l===0&&u===r-1;return jw(n,BD(e,l,d,f),e,t)}function jw(n,t,e,i){return!i||!i.setContext||!e?t:HD(n,t,e,i)}function HD(n,t,e,i){const r=n._chart.getContext(),o=Vw(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,d=e.length,f=[];let p=o,_=t[0].start,v=_;function E(S,A,C,M){const L=u?-1:1;if(S!==A){for(S+=d;e[S%d].skip;)S-=L;for(;e[A%d].skip;)A+=L;S%d!==A%d&&(f.push({start:S%d,end:A%d,loop:C,style:M}),p=M,_=A%d)}}for(const S of t){_=u?_:S.start;let A=e[_%d],C;for(v=_+1;v<=S.end;v++){const M=e[v%d];C=Vw(i.setContext(ka(r,{type:"segment",p0:A,p1:M,p0DataIndex:(v-1)%d,p1DataIndex:v%d,datasetIndex:l}))),qD(C,p)&&E(_,v-1,S.loop,p),A=M,p=C}_<v-1&&E(_,v-1,S.loop,p)}return f}function Vw(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function qD(n,t){if(!t)return!1;const e=[],i=function(r,o){return x0(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function nf(n,t,e){return n.options.clip?n[e]:t[e]}function GD(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:nf(e,t,"left"),right:nf(e,t,"right"),top:nf(i,t,"top"),bottom:nf(i,t,"bottom")}:t}function pS(n,t){const e=t._clip;if(e.disabled)return!1;const i=GD(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class YD{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=JT.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,d;for(;l>=0;--l)d=o[l],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var sr=new YD;const Uw="transparent",$D={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Iw(n||Uw),r=i.valid&&Iw(t||Uw);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class WD{constructor(t,e,i,r){const o=e[i];r=vu([t.to,r,o,t.from]);const l=vu([t.from,o,r]);this._active=!0,this._fn=t.fn||$D[t.type||typeof l],this._easing=Mu[t.easing]||Mu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=vu([t.to,e,r,t.from]),this._from=vu([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,u=this._to;let d;if(this._active=o!==u&&(l||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=o;return}d=e/i%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,u,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class yS{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Qt(t))return;const e=Object.keys(Ie.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Qt(o))return;const l={};for(const u of e)l[u]=o[u];(Re(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,r=QD(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&KD(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,e));continue}const p=e[f];let _=o[f];const v=i.get(f);if(_)if(v&&_.active()){_.update(v,p,u);continue}else _.cancel();if(!v||!v.duration){t[f]=p;continue}o[f]=_=new WD(v,t,f,p),r.push(_)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return sr.add(this._chart,i),!0}}function KD(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function QD(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function zw(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function XD(n,t,e){if(e===!1)return!1;const i=zw(n,e),r=zw(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function JD(n){let t,e,i,r;return Qt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function _S(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function Bw(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let l,u,d,f;if(t===null)return;let p=!1;for(l=0,u=r.length;l<u;++l){if(d=+r[l],d===e){if(p=!0,i.all)continue;break}f=n.values[d],Ve(f)&&(o||t===0||Ss(t)===Ss(f))&&(t+=f)}return!p&&!i.all?0:t}function ZD(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let d,f,p;for(d=0,f=l.length;d<f;++d)p=l[d],u[d]={[r]:p,[o]:n[p]};return u}function qp(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function tM(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function eM(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function nM(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Fw(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function Hw(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,d=o.axis,f=l.axis,p=tM(o,l,i),_=t.length;let v;for(let E=0;E<_;++E){const S=t[E],{[d]:A,[f]:C}=S,M=S._stacks||(S._stacks={});v=M[f]=nM(r,p,A),v[u]=C,v._top=Fw(v,l,!0,i.type),v._bottom=Fw(v,l,!1,i.type);const L=v._visualValues||(v._visualValues={});L[u]=C}}function Gp(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function iM(n,t){return ka(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function sM(n,t,e){return ka(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function du(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Yp=n=>n==="reset"||n==="none",qw=(n,t)=>t?n:Object.assign({},n),rM=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:_S(e,!0),values:null};class Da{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=qp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&du(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(_,v,E,S)=>_==="x"?v:_==="r"?S:E,o=e.xAxisID=Ot(i.xAxisID,Gp(t,"x")),l=e.yAxisID=Ot(i.yAxisID,Gp(t,"y")),u=e.rAxisID=Ot(i.rAxisID,Gp(t,"r")),d=e.indexAxis,f=e.iAxisID=r(d,o,l,u),p=e.vAxisID=r(d,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Aw(this._data,this),t._stacked&&du(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Qt(e)){const r=this._cachedMeta;this._data=ZD(e,r)}else if(i!==e){if(i){Aw(i,this);const r=this._cachedMeta;du(r),r._parsed=[]}e&&Object.isExtensible(e)&&Hk(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=qp(e.vScale,e),e.stack!==i.stack&&(r=!0,du(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(Hw(this,e._parsed),e._stacked=qp(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:l}=i,u=o.axis;let d=t===0&&e===r.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,_,v;if(this._parsing===!1)i._parsed=r,i._sorted=!0,v=r;else{Re(r[t])?v=this.parseArrayData(i,r,t,e):Qt(r[t])?v=this.parseObjectData(i,r,t,e):v=this.parsePrimitiveData(i,r,t,e);const E=()=>_[u]===null||f&&_[u]<f[u];for(p=0;p<e;++p)i._parsed[p+t]=_=v[p],d&&(E()&&(d=!1),f=_);i._sorted=d}l&&Hw(this,v)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:l}=t,u=o.axis,d=l.axis,f=o.getLabels(),p=o===l,_=new Array(r);let v,E,S;for(v=0,E=r;v<E;++v)S=v+i,_[v]={[u]:p||o.parse(f[S],S),[d]:l.parse(e[S],S)};return _}parseArrayData(t,e,i,r){const{xScale:o,yScale:l}=t,u=new Array(r);let d,f,p,_;for(d=0,f=r;d<f;++d)p=d+i,_=e[p],u[d]={x:o.parse(_[0],p),y:l.parse(_[1],p)};return u}parseObjectData(t,e,i,r){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=new Array(r);let p,_,v,E;for(p=0,_=r;p<_;++p)v=p+i,E=e[v],f[p]={x:o.parse(xa(E,u),v),y:l.parse(xa(E,d),v)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:_S(r,!0),values:e._stacks[t.axis]._visualValues};return Bw(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let l=o===null?NaN:o;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,l=Bw(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,l=r.length,u=this._getOtherScale(t),d=rM(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:_}=eM(u);let v,E;function S(){E=r[v];const A=E[u.axis];return!Ve(E[t.axis])||p>A||_<A}for(v=0;v<l&&!(!S()&&(this.updateRangeFromParsed(f,t,E,d),o));++v);if(o){for(v=l-1;v>=0;--v)if(!S()){this.updateRangeFromParsed(f,t,E,d);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,l;for(r=0,o=e.length;r<o;++r)l=e[r][t.axis],Ve(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=JD(Ot(this.options.clip,XD(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,o,u,d),p=u;p<u+d;++p){const _=r[p];_.hidden||(_.active&&f?l.push(_):_.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=sM(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=iM(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],d=this.enableOptionSharing&&Yu(i);if(u)return qw(u,d);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),_=r?[`${t}Hover`,"hover",t,""]:[t,""],v=f.getOptionScopes(this.getDataset(),p),E=Object.keys(Ie.elements[t]),S=()=>this.getContext(i,r,e),A=f.resolveNamedOptions(v,E,S,_);return A.$shared&&(A.$shared=d,o[l]=Object.freeze(qw(A,d))),A}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let d;if(r.options.animation!==!1){const p=this.chart.config,_=p.datasetAnimationScopeKeys(this._type,e),v=p.getOptionScopes(this.getDataset(),_);d=p.createResolver(v,this.getContext(t,i,e))}const f=new yS(r,d&&d.animations);return d&&d._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Yp(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,r){Yp(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Yp(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,d,f]of this._syncList)this[u](d,f);this._syncList=[];const r=i.length,o=e.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,l=t+e;let u;const d=f=>{for(f.length+=e,u=f.length-1;u>=l;u--)f[u]=f[u-e]};for(d(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&du(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function aM(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=XT(i.sort((r,o)=>r-o))}return n._cache.$bar}function oM(n){const t=n.iScale,e=aM(t,n.type);let i=t._length,r,o,l,u;const d=()=>{l===32767||l===-32768||(Yu(u)&&(i=Math.min(i,Math.abs(l-u)||i)),u=l)};for(r=0,o=e.length;r<o;++r)l=t.getPixelForValue(e[r]),d();for(u=void 0,r=0,o=t.ticks.length;r<o;++r)l=t.getPixelForTick(r),d();return i}function lM(n,t,e,i){const r=e.barThickness;let o,l;return qt(r)?(o=t.min*e.categoryPercentage,l=e.barPercentage):(o=r*i,l=1),{chunk:o/i,ratio:l,start:t.pixels[n]-o/2}}function cM(n,t,e,i){const r=t.pixels,o=r[n];let l=n>0?r[n-1]:null,u=n<r.length-1?r[n+1]:null;const d=e.categoryPercentage;l===null&&(l=o-(u===null?t.end-t.start:u-o)),u===null&&(u=o+o-l);const f=o-(o-Math.min(l,u))/2*d;return{chunk:Math.abs(u-l)/2*d/i,ratio:e.barPercentage,start:f}}function uM(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),l=Math.min(r,o),u=Math.max(r,o);let d=l,f=u;Math.abs(l)>Math.abs(u)&&(d=u,f=l),t[e.axis]=f,t._custom={barStart:d,barEnd:f,start:r,end:o,min:l,max:u}}function bS(n,t,e,i){return Re(n)?uM(n,t,e,i):t[e.axis]=e.parse(n,i),t}function Gw(n,t,e,i){const r=n.iScale,o=n.vScale,l=r.getLabels(),u=r===o,d=[];let f,p,_,v;for(f=e,p=e+i;f<p;++f)v=t[f],_={},_[r.axis]=u||r.parse(l[f],f),d.push(bS(v,_,o,f));return d}function $p(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function hM(n,t,e){return n!==0?Ss(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function dM(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function fM(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:u,reverse:d,top:f,bottom:p}=dM(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=f:(e._bottom||0)===i?r=p:(o[Yw(p,l,u,d)]=!0,r=f)),o[Yw(r,l,u,d)]=!0,n.borderSkipped=o}function Yw(n,t,e,i){return i?(n=mM(n,t,e),n=$w(n,e,t)):n=$w(n,t,e),n}function mM(n,t,e){return n===t?e:n===e?t:n}function $w(n,t,e){return n==="start"?t:n==="end"?e:n}function gM(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class pM extends Da{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(t,e,i,r){return Gw(t,e,i,r)}parseArrayData(t,e,i,r){return Gw(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:l}=t,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=o.axis==="x"?u:d,p=l.axis==="x"?u:d,_=[];let v,E,S,A;for(v=i,E=i+r;v<E;++v)A=e[v],S={},S[o.axis]=o.parse(xa(A,f),v),_.push(bS(xa(A,p),S,l,v));return _}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),l=o._custom,u=$p(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:u}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:l,_cachedMeta:{vScale:u}}=this,d=u.getBasePixel(),f=u.isHorizontal(),p=this._getRuler(),{sharedOptions:_,includeOptions:v}=this._getSharedOptions(e,r);for(let E=e;E<e+i;E++){const S=this.getParsed(E),A=o||qt(S[u.axis])?{base:d,head:d}:this._calculateBarValuePixels(E),C=this._calculateBarIndexPixels(E,p),M=(S._stacks||{})[u.axis],L={horizontal:f,base:A.base,enableBorderRadius:!M||$p(S._custom)||l===M._top||l===M._bottom,x:f?A.head:C.center,y:f?C.center:A.head,height:f?C.size:Math.abs(A.size),width:f?Math.abs(A.size):C.size};v&&(L.options=_||this.resolveDataElementOptions(E,t[E].active?"active":r));const H=L.options||t[E].options;fM(L,H,M,l),gM(L,H,p.ratio),this.updateElement(t[E],E,L,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),o=i.options.stacked,l=[],u=this._cachedMeta.controller.getParsed(e),d=u&&u[i.axis],f=p=>{const _=p._parsed.find(E=>E[i.axis]===d),v=_&&_[p.vScale.axis];if(qt(v)||isNaN(v))return!0};for(const p of r)if(!(e!==void 0&&f(p))&&((o===!1||l.indexOf(p.stack)===-1||o===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===t))break;return l.length||l.push(void 0),l}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Ot(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,l;for(o=0,l=e.data.length;o<l;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const u=t.barThickness;return{min:u||oM(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:u?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:l}}=this,u=o||0,d=this.getParsed(t),f=d._custom,p=$p(f);let _=d[e.axis],v=0,E=i?this.applyStack(e,d,i):_,S,A;E!==_&&(v=E-_,E=_),p&&(_=f.barStart,E=f.barEnd-f.barStart,_!==0&&Ss(_)!==Ss(f.barEnd)&&(v=0),v+=_);const C=!qt(o)&&!p?o:v;let M=e.getPixelForValue(C);if(this.chart.getDataVisibility(t)?S=e.getPixelForValue(v+E):S=M,A=S-M,Math.abs(A)<l){A=hM(A,e,u)*l,_===u&&(M-=A/2);const L=e.getPixelForDecimal(0),H=e.getPixelForDecimal(1),Y=Math.min(L,H),$=Math.max(L,H);M=Math.max(Math.min(M,$),Y),S=M+A,i&&!p&&(d._stacks[e.axis]._visualValues[r]=e.getValueForPixel(S)-e.getValueForPixel(M))}if(M===e.getPixelForValue(u)){const L=Ss(A)*e.getLineWidthForValue(u)/2;M+=L,A-=L}return{size:A,base:M,head:S,center:S+A/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,l=Ot(r.maxBarThickness,1/0);let u,d;const f=this._getAxisCount();if(e.grouped){const p=o?this._getStackCount(t):e.stackCount,_=r.barThickness==="flex"?cM(t,e,r,p*f):lM(t,e,r,p*f),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,E=this._getAxis().indexOf(Ot(v,this.getFirstScaleIdForIndexAxis())),S=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+E;u=_.start+_.chunk*S+_.chunk/2,d=Math.min(l,_.chunk*_.ratio)}else u=i.getPixelForValue(this.getParsed(t)[i.axis],t),d=Math.min(l,e.min*e.ratio);return{base:u-d/2,head:u+d/2,center:u,size:d}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}class yM extends Da{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,r){const o=super.parsePrimitiveData(t,e,i,r);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+i).radius;return o}parseArrayData(t,e,i,r){const o=super.parseArrayData(t,e,i,r);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Ot(u[2],this.resolveDataElementOptions(l+i).radius)}return o}parseObjectData(t,e,i,r){const o=super.parseObjectData(t,e,i,r);for(let l=0;l<o.length;l++){const u=e[i+l];o[l]._custom=Ot(u&&u.r&&+u.r,this.resolveDataElementOptions(l+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=e,l=this.getParsed(t),u=r.getLabelForValue(l.x),d=o.getLabelForValue(l.y),f=l._custom;return{label:i[t]||"",value:"("+u+", "+d+(f?", "+f:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(e,r),p=l.axis,_=u.axis;for(let v=e;v<e+i;v++){const E=t[v],S=!o&&this.getParsed(v),A={},C=A[p]=o?l.getPixelForDecimal(.5):l.getPixelForValue(S[p]),M=A[_]=o?u.getBasePixel():u.getPixelForValue(S[_]);A.skip=isNaN(C)||isNaN(M),f&&(A.options=d||this.resolveDataElementOptions(v,E.active?"active":r),o&&(A.options.radius=0)),this.updateElement(E,v,A,r)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const o=r.radius;return e!=="active"&&(r.radius=0),r.radius+=Ot(i&&i._custom,o),r}}function _M(n,t,e){let i=1,r=1,o=0,l=0;if(t<Se){const u=n,d=u+t,f=Math.cos(u),p=Math.sin(u),_=Math.cos(d),v=Math.sin(d),E=(H,Y,$)=>$u(H,u,d,!0)?1:Math.max(Y,Y*e,$,$*e),S=(H,Y,$)=>$u(H,u,d,!0)?-1:Math.min(Y,Y*e,$,$*e),A=E(0,f,_),C=E($e,p,v),M=S(se,f,_),L=S(se+$e,p,v);i=(A-M)/2,r=(C-L)/2,o=-(A+M)/2,l=-(C+L)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:l}}class R0 extends Da{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((d,f)=>{const _=t.getDatasetMeta(0).controller.getStyle(f);return{text:d,fillStyle:_.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(f),lineDash:_.borderDash,lineDashOffset:_.borderDashOffset,lineJoin:_.borderJoinStyle,lineWidth:_.borderWidth,strokeStyle:_.borderColor,textAlign:r,pointStyle:i,borderRadius:l&&(u||_.borderRadius),index:f}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}};constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=d=>+i[d];if(Qt(i[t])){const{key:d="value"}=this._parsing;o=f=>+xa(i[f],d)}let l,u;for(l=t,u=t+e;l<u;++l)r._parsed[l]=o(l)}}_getRotation(){return Wi(this.options.rotation-90)}_getCircumference(){return Wi(this.options.circumference)}_getRotationExtents(){let t=Se,e=-Se;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),l=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+l)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,u=Math.max((Math.min(i.width,i.height)-l)/2,0),d=Math.min(Rk(this.options.cutout,u),1),f=this._getRingWeight(this.index),{circumference:p,rotation:_}=this._getRotationExtents(),{ratioX:v,ratioY:E,offsetX:S,offsetY:A}=_M(_,p,d),C=(i.width-l)/v,M=(i.height-l)/E,L=Math.max(Math.min(C,M)/2,0),H=YT(this.options.radius,L),Y=Math.max(H*d,0),$=(H-Y)/this._getVisibleDatasetWeightTotal();this.offsetX=S*H,this.offsetY=A*H,r.total=this.calculateTotal(),this.outerRadius=H-$*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$*f,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/Se)}updateElements(t,e,i,r){const o=r==="reset",l=this.chart,u=l.chartArea,f=l.options.animation,p=(u.left+u.right)/2,_=(u.top+u.bottom)/2,v=o&&f.animateScale,E=v?0:this.innerRadius,S=v?0:this.outerRadius,{sharedOptions:A,includeOptions:C}=this._getSharedOptions(e,r);let M=this._getRotation(),L;for(L=0;L<e;++L)M+=this._circumference(L,o);for(L=e;L<e+i;++L){const H=this._circumference(L,o),Y=t[L],$={x:p+this.offsetX,y:_+this.offsetY,startAngle:M,endAngle:M+H,circumference:H,outerRadius:S,innerRadius:E};C&&($.options=A||this.resolveDataElementOptions(L,Y.active?"active":r)),M+=H,this.updateElement(Y,L,$,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Se*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=gh(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,l,u,d;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){l=i.getDatasetMeta(r),t=l.data,u=l.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)d=u.resolveDataElementOptions(r),d.borderAlign!=="inner"&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Ot(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class bM extends Da{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,l=this.chart._animationsDisabled;let{start:u,count:d}=tS(e,r,l);this._drawStart=u,this._drawCount=d,eS(e)&&(u=0,d=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(r,u,d,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:_}=this._getSharedOptions(e,r),v=l.axis,E=u.axis,{spanGaps:S,segment:A}=this.options,C=ql(S)?S:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||o||r==="none",L=e+i,H=t.length;let Y=e>0&&this.getParsed(e-1);for(let $=0;$<H;++$){const et=t[$],N=M?et:{};if($<e||$>=L){N.skip=!0;continue}const I=this.getParsed($),D=qt(I[E]),j=N[v]=l.getPixelForValue(I[v],$),P=N[E]=o||D?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,I,d):I[E],$);N.skip=isNaN(j)||isNaN(P)||D,N.stop=$>0&&Math.abs(I[v]-Y[v])>C,A&&(N.parsed=I,N.raw=f.data[$]),_&&(N.options=p||this.resolveDataElementOptions($,et.active?"active":r)),M||this.updateElement(et,$,N,r),Y=I}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}class vS extends Da{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,l)=>{const d=t.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:r,lineWidth:d.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(l),index:l}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=gh(e._parsed[t].r,i.options.locale);return{label:r[t]||"",value:o}}parseObjectData(t,e,i,r){return cS.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,r)=>{const o=this.getParsed(r).r;!isNaN(o)&&this.chart.getDataVisibility(r)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(r/2,0),l=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),u=(o-l)/t.getVisibleDatasetCount();this.outerRadius=o-u*this.index,this.innerRadius=this.outerRadius-u}updateElements(t,e,i,r){const o=r==="reset",l=this.chart,d=l.options.animation,f=this._cachedMeta.rScale,p=f.xCenter,_=f.yCenter,v=f.getIndexAngle(0)-.5*se;let E=v,S;const A=360/this.countVisibleElements();for(S=0;S<e;++S)E+=this._computeAngle(S,r,A);for(S=e;S<e+i;S++){const C=t[S];let M=E,L=E+this._computeAngle(S,r,A),H=l.getDataVisibility(S)?f.getDistanceFromCenterForValue(this.getParsed(S).r):0;E=L,o&&(d.animateScale&&(H=0),d.animateRotate&&(M=L=v));const Y={x:p,y:_,innerRadius:0,outerRadius:H,startAngle:M,endAngle:L,options:this.resolveDataElementOptions(S,C.active?"active":r)};this.updateElement(C,S,Y,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?Wi(this.resolveDataElementOptions(t,e).angle||i):0}}class vM extends R0{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class xM extends Da{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,r){return cS.bind(this)(t,e,i,r)}update(t){const e=this._cachedMeta,i=e.dataset,r=e.data||[],o=e.iScale.getLabels();if(i.points=r,t!=="resize"){const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0);const u={_loop:!0,_fullLoop:o.length===r.length,options:l};this.updateElement(i,void 0,u,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,i,r){const o=this._cachedMeta.rScale,l=r==="reset";for(let u=e;u<e+i;u++){const d=t[u],f=this.resolveDataElementOptions(u,d.active?"active":r),p=o.getPointPositionForValue(u,this.getParsed(u).r),_=l?o.xCenter:p.x,v=l?o.yCenter:p.y,E={x:_,y:v,angle:p.angle,skip:isNaN(_)||isNaN(v),options:f};this.updateElement(d,u,E,r)}}}class wM extends Da{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:r,yScale:o}=e,l=this.getParsed(t),u=r.getLabelForValue(l.x),d=o.getLabelForValue(l.y);return{label:i[t]||"",value:"("+u+", "+d+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,r=this.chart._animationsDisabled;let{start:o,count:l}=tS(e,i,r);if(this._drawStart=o,this._drawCount=l,eS(e)&&(o=0,l=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:u,_dataset:d}=e;u._chart=this.chart,u._datasetIndex=this.index,u._decimated=!!d._decimated,u.points=i;const f=this.resolveDatasetElementOptions(t);f.segment=this.options.segment,this.updateElement(u,void 0,{animated:!r,options:f},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,o,l,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,p=this.resolveDataElementOptions(e,r),_=this.getSharedOptions(p),v=this.includeOptions(r,_),E=l.axis,S=u.axis,{spanGaps:A,segment:C}=this.options,M=ql(A)?A:Number.POSITIVE_INFINITY,L=this.chart._animationsDisabled||o||r==="none";let H=e>0&&this.getParsed(e-1);for(let Y=e;Y<e+i;++Y){const $=t[Y],et=this.getParsed(Y),N=L?$:{},I=qt(et[S]),D=N[E]=l.getPixelForValue(et[E],Y),j=N[S]=o||I?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,et,d):et[S],Y);N.skip=isNaN(D)||isNaN(j)||I,N.stop=Y>0&&Math.abs(et[E]-H[E])>M,C&&(N.parsed=et,N.raw=f.data[Y]),v&&(N.options=_||this.resolveDataElementOptions(Y,$.active?"active":r)),L||this.updateElement($,Y,N,r),H=et}this.updateSharedOptions(_,r,p)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let u=0;for(let d=e.length-1;d>=0;--d)u=Math.max(u,e[d].size(this.resolveDataElementOptions(d))/2);return u>0&&u}const i=t.dataset,r=i.options&&i.options.borderWidth||0;if(!e.length)return r;const o=e[0].size(this.resolveDataElementOptions(0)),l=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,o,l)/2}}var EM=Object.freeze({__proto__:null,BarController:pM,BubbleController:yM,DoughnutController:R0,LineController:bM,PieController:vM,PolarAreaController:vS,RadarController:xM,ScatterController:wM});function fo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class I0{static override(t){Object.assign(I0.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return fo()}parse(){return fo()}format(){return fo()}add(){return fo()}diff(){return fo()}startOf(){return fo()}endOf(){return fo()}}var TM={_date:I0};function SM(n,t,e,i){const{controller:r,data:o,_sorted:l}=n,u=r._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const f=u._reversePixels?Bk:lr;if(i){if(r._sharedOptions){const p=o[0],_=typeof p.getRange=="function"&&p.getRange(t);if(_){const v=f(o,t,e-_),E=f(o,t,e+_);return{lo:v.lo,hi:E.hi}}}}else{const p=f(o,t,e);if(d){const{vScale:_}=r._cachedMeta,{_parsed:v}=n,E=v.slice(0,p.lo+1).reverse().findIndex(A=>!qt(A[_.axis]));p.lo-=Math.max(0,E);const S=v.slice(p.hi).findIndex(A=>!qt(A[_.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:o.length-1}}function dm(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,d=o.length;u<d;++u){const{index:f,data:p}=o[u],{lo:_,hi:v}=SM(o[u],t,l,r);for(let E=_;E<=v;++E){const S=p[E];S.skip||i(S,f,E)}}}function AM(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Wp(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||dm(n,e,t,function(u,d,f){!r&&!cr(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:d,index:f})},!0),o}function CM(n,t,e,i){let r=[];function o(l,u,d){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:_}=KT(l,{x:t.x,y:t.y});$u(_,f,p)&&r.push({element:l,datasetIndex:u,index:d})}return dm(n,e,t,o),r}function RM(n,t,e,i,r,o){let l=[];const u=AM(e);let d=Number.POSITIVE_INFINITY;function f(p,_,v){const E=p.inRange(t.x,t.y,r);if(i&&!E)return;const S=p.getCenterPoint(r);if(!(!!o||n.isPointInArea(S))&&!E)return;const C=u(t,S);C<d?(l=[{element:p,datasetIndex:_,index:v}],d=C):C===d&&l.push({element:p,datasetIndex:_,index:v})}return dm(n,e,t,f),l}function Kp(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?CM(n,t,e,r):RM(n,t,e,i,r,o)}function Ww(n,t,e,i,r){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return dm(n,e,t,(d,f,p)=>{d[l]&&d[l](t[e],r)&&(o.push({element:d,datasetIndex:f,index:p}),u=u||d.inRange(t.x,t.y,r))}),i&&!u?[]:o}var IM={modes:{index(n,t,e,i){const r=go(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?Wp(n,r,o,i,l):Kp(n,r,o,!1,i,l),d=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,_=f.data[p];_&&!_.skip&&d.push({element:_,datasetIndex:f.index,index:p})}),d):[]},dataset(n,t,e,i){const r=go(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?Wp(n,r,o,i,l):Kp(n,r,o,!1,i,l);if(u.length>0){const d=u[0].datasetIndex,f=n.getDatasetMeta(d).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:d,index:p})}return u},point(n,t,e,i){const r=go(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Wp(n,r,o,i,l)},nearest(n,t,e,i){const r=go(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Kp(n,r,o,e.intersect,i,l)},x(n,t,e,i){const r=go(t,n);return Ww(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=go(t,n);return Ww(n,r,"y",e.intersect,i)}}};const xS=["left","top","right","bottom"];function fu(n,t){return n.filter(e=>e.pos===t)}function Kw(n,t){return n.filter(e=>xS.indexOf(e.pos)===-1&&e.box.axis===t)}function mu(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function NM(n){const t=[];let e,i,r,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:u});return t}function kM(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!xS.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function DM(n,t){const e=kM(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:d}=u.box,f=e[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:d&&t.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:d&&t.availableHeight)}return e}function MM(n){const t=NM(n),e=mu(t.filter(f=>f.box.fullSize),!0),i=mu(fu(t,"left"),!0),r=mu(fu(t,"right")),o=mu(fu(t,"top"),!0),l=mu(fu(t,"bottom")),u=Kw(t,"x"),d=Kw(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(d).concat(l).concat(u),chartArea:fu(t,"chartArea"),vertical:i.concat(r).concat(d),horizontal:o.concat(l).concat(u)}}function Qw(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function wS(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function OM(n,t,e,i){const{pos:r,box:o}=e,l=n.maxPadding;if(!Qt(r)){e.size&&(n[r]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[r]+=e.size}o.getPadding&&wS(l,o.getPadding());const u=Math.max(0,t.outerWidth-Qw(l,n,"left","right")),d=Math.max(0,t.outerHeight-Qw(l,n,"top","bottom")),f=u!==n.w,p=d!==n.h;return n.w=u,n.h=d,e.horizontal?{same:f,other:p}:{same:p,other:f}}function PM(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function LM(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function xu(n,t,e,i){const r=[];let o,l,u,d,f,p;for(o=0,l=n.length,f=0;o<l;++o){u=n[o],d=u.box,d.update(u.width||t.w,u.height||t.h,LM(u.horizontal,t));const{same:_,other:v}=OM(t,e,u,i);f|=_&&r.length,p=p||v,d.fullSize||r.push(u)}return f&&xu(r,t,e,i)||p}function sf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Xw(n,t,e,i){const r=e.padding;let{x:o,y:l}=t;for(const u of n){const d=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const _=t.w*p,v=f.size||d.height;Yu(f.start)&&(l=f.start),d.fullSize?sf(d,r.left,l,e.outerWidth-r.right-r.left,v):sf(d,t.left+f.placed,l,_,v),f.start=l,f.placed+=_,l=d.bottom}else{const _=t.h*p,v=f.size||d.width;Yu(f.start)&&(o=f.start),d.fullSize?sf(d,o,r.top,v,e.outerHeight-r.bottom-r.top):sf(d,o,t.top+f.placed,v,_),f.start=o,f.placed+=_,o=d.right}}t.x=o,t.y=l}var On={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Pn(n.options.layout.padding),o=Math.max(t-r.width,0),l=Math.max(e-r.height,0),u=MM(n.boxes),d=u.vertical,f=u.horizontal;me(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const p=d.reduce((A,C)=>C.box.options&&C.box.options.display===!1?A:A+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),v=Object.assign({},r);wS(v,Pn(i));const E=Object.assign({maxPadding:v,w:o,h:l,x:r.left,y:r.top},r),S=DM(d.concat(f),_);xu(u.fullSize,E,_,S),xu(d,E,_,S),xu(f,E,_,S)&&xu(d,E,_,S),PM(E),Xw(u.leftAndTop,E,_,S),E.x+=E.w,E.y+=E.h,Xw(u.rightAndBottom,E,_,S),n.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},me(u.chartArea,A=>{const C=A.box;Object.assign(C,n.chartArea),C.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class ES{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class jM extends ES{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const wf="$chartjs",VM={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Jw=n=>n===null||n==="";function UM(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[wf]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Jw(r)){const o=Pw(n,"width");o!==void 0&&(n.width=o)}if(Jw(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=Pw(n,"height");o!==void 0&&(n.height=o)}return n}const TS=OD?{passive:!0}:!1;function zM(n,t,e){n&&n.addEventListener(t,e,TS)}function BM(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,TS)}function FM(n,t){const e=VM[n.type]||n.type,{x:i,y:r}=go(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function zf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function HM(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||zf(u.addedNodes,i),l=l&&!zf(u.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function qM(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||zf(u.removedNodes,i),l=l&&!zf(u.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Ku=new Map;let Zw=0;function SS(){const n=window.devicePixelRatio;n!==Zw&&(Zw=n,Ku.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function GM(n,t){Ku.size||window.addEventListener("resize",SS),Ku.set(n,t)}function YM(n){Ku.delete(n),Ku.size||window.removeEventListener("resize",SS)}function $M(n,t,e){const i=n.canvas,r=i&&C0(i);if(!r)return;const o=ZT((u,d)=>{const f=r.clientWidth;e(u,d),f<r.clientWidth&&e()},window),l=new ResizeObserver(u=>{const d=u[0],f=d.contentRect.width,p=d.contentRect.height;f===0&&p===0||o(f,p)});return l.observe(r),GM(n,o),l}function Qp(n,t,e){e&&e.disconnect(),t==="resize"&&YM(n)}function WM(n,t,e){const i=n.canvas,r=ZT(o=>{n.ctx!==null&&e(FM(o,n))},n);return zM(i,t,r),r}class KM extends ES{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(UM(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[wf])return!1;const i=e[wf].initial;["height","width"].forEach(o=>{const l=i[o];qt(l)?e.removeAttribute(o):e.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[wf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),l={attach:HM,detach:qM,resize:$M}[e]||WM;r[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Qp,detach:Qp,resize:Qp}[e]||BM)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return MD(t,e,i,r)}isAttached(t){const e=t&&C0(t);return!!(e&&e.isConnected)}}function QM(n){return!A0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?jM:KM}class vr{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return ql(this.x)&&ql(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}}function XM(n,t){const e=n.options.ticks,i=JM(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?tO(t):[],l=o.length,u=o[0],d=o[l-1],f=[];if(l>r)return eO(t,f,o,l/r),f;const p=ZM(o,t,r);if(l>0){let _,v;const E=l>1?Math.round((d-u)/(l-1)):null;for(rf(t,f,p,qt(E)?0:u-E,u),_=0,v=l-1;_<v;_++)rf(t,f,p,o[_],o[_+1]);return rf(t,f,p,d,qt(E)?t.length:d+E),f}return rf(t,f,p),f}function JM(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function ZM(n,t,e){const i=nO(n),r=t.length/e;if(!i)return Math.max(r,1);const o=Lk(i);for(let l=0,u=o.length-1;l<u;l++){const d=o[l];if(d>r)return d}return Math.max(r,1)}function tO(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function eO(n,t,e,i){let r=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),r++,o=e[r*i])}function rf(n,t,e,i,r){const o=Ot(i,0),l=Math.min(Ot(r,n.length),n.length);let u=0,d,f,p;for(e=Math.ceil(e),r&&(d=r-i,e=d/Math.floor(d/e)),p=o;p<0;)u++,p=Math.round(o+u*e);for(f=Math.max(o,0);f<l;f++)f===p&&(t.push(n[f]),u++,p=Math.round(o+u*e))}function nO(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const iO=n=>n==="left"?"right":n==="right"?"left":n,tE=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,eE=(n,t)=>Math.min(t||n,n);function nE(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function sO(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let d=n.getPixelForTick(r),f;if(!(e&&(i===1?f=Math.max(d-o,l-d):t===0?f=(n.getPixelForTick(1)-d)/2:f=(d-n.getPixelForTick(r-1))/2,d+=r<t?f:-f,d<o-u||d>l+u)))return d}function rO(n,t){me(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function gu(n){return n.drawTicks?n.tickLength:0}function iE(n,t){if(!n.display)return 0;const e=un(n.font,t),i=Pn(n.padding);return(Re(n.text)?n.text.length:1)*e.lineHeight+i.height}function aO(n,t){return ka(n,{scale:t,type:"scale"})}function oO(n,t,e){return ka(n,{tick:e,index:t,type:"tick"})}function lO(n,t,e){let i=v0(n);return(e&&t!=="right"||!e&&t==="right")&&(i=iO(i)),i}function cO(n,t,e,i){const{top:r,left:o,bottom:l,right:u,chart:d}=n,{chartArea:f,scales:p}=d;let _=0,v,E,S;const A=l-r,C=u-o;if(n.isHorizontal()){if(E=Nn(i,o,u),Qt(e)){const M=Object.keys(e)[0],L=e[M];S=p[M].getPixelForValue(L)+A-t}else e==="center"?S=(f.bottom+f.top)/2+A-t:S=tE(n,e,t);v=u-o}else{if(Qt(e)){const M=Object.keys(e)[0],L=e[M];E=p[M].getPixelForValue(L)-C+t}else e==="center"?E=(f.left+f.right)/2-C+t:E=tE(n,e,t);S=Nn(i,l,r),_=e==="left"?-$e:$e}return{titleX:E,titleY:S,maxWidth:v,rotation:_}}class Do extends vr{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=di(t,Number.POSITIVE_INFINITY),e=di(e,Number.NEGATIVE_INFINITY),i=di(i,Number.POSITIVE_INFINITY),r=di(r,Number.NEGATIVE_INFINITY),{min:di(t,i),max:di(e,r),minDefined:Ve(t),maxDefined:Ve(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let d=0,f=u.length;d<f;++d)l=u[d].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:di(e,di(i,e)),max:di(i,di(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ve(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=hD(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?nE(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=XM(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ve(this.options.afterUpdate,[this])}beforeSetDimensions(){ve(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ve(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ve(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ve(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ve(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ve(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ve(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=eE(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let l=r,u,d,f;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),_=p.widest.width,v=p.highest.height,E=yn(this.chart.width-_,0,this.maxWidth);u=t.offset?this.maxWidth/i:E/(i-1),_+6>u&&(u=E/(i-(t.offset?.5:1)),d=this.maxHeight-gu(t.grid)-e.padding-iE(t.title,this.chart.options.font),f=Math.sqrt(_*_+v*v),l=_0(Math.min(Math.asin(yn((p.highest.height+6)/u,-1,1)),Math.asin(yn(d/f,-1,1))-Math.asin(yn(v/f,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){ve(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ve(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=iE(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=gu(o)+d):(t.height=this.maxHeight,t.width=gu(o)+d),i.display&&this.ticks.length){const{first:f,last:p,widest:_,highest:v}=this._getLabelSizes(),E=i.padding*2,S=Wi(this.labelRotation),A=Math.cos(S),C=Math.sin(S);if(u){const M=i.mirror?0:C*_.width+A*v.height;t.height=Math.min(this.maxHeight,t.height+M+E)}else{const M=i.mirror?0:A*_.width+C*v.height;t.width=Math.min(this.maxWidth,t.width+M+E)}this._calculatePadding(f,p,C,A)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:l},position:u}=this.options,d=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,E=0;d?f?(v=r*t.width,E=i*e.height):(v=i*t.height,E=r*e.width):o==="start"?E=e.width:o==="end"?v=t.width:o!=="inner"&&(v=t.width/2,E=e.width/2),this.paddingLeft=Math.max((v-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((E-_+l)*this.width/(this.width-_),0)}else{let p=e.height/2,_=t.height/2;o==="start"?(p=0,_=t.height):o==="end"&&(p=e.height,_=0),this.paddingTop=p+l,this.paddingBottom=_+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ve(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)qt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=nE(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,l=[],u=[],d=Math.floor(e/eE(e,i));let f=0,p=0,_,v,E,S,A,C,M,L,H,Y,$;for(_=0;_<e;_+=d){if(S=t[_].label,A=this._resolveTickFontOptions(_),r.font=C=A.string,M=o[C]=o[C]||{data:{},gc:[]},L=A.lineHeight,H=Y=0,!qt(S)&&!Re(S))H=Vf(r,M.data,M.gc,H,S),Y=L;else if(Re(S))for(v=0,E=S.length;v<E;++v)$=S[v],!qt($)&&!Re($)&&(H=Vf(r,M.data,M.gc,H,$),Y+=L);l.push(H),u.push(Y),f=Math.max(H,f),p=Math.max(Y,p)}rO(o,e);const et=l.indexOf(f),N=u.indexOf(p),I=D=>({width:l[D]||0,height:u[D]||0});return{first:I(0),last:I(e-1),widest:I(et),highest:I(N),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return zk(this._alignToPixels?ho(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=oO(this.getContext(),t,i))}return this.$context||(this.$context=aO(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Wi(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,d=o?o.highest.height+l:0;return this.isHorizontal()?d*i>u*r?u/i:d/r:d*r<u*i?d/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:u}=r,d=o.offset,f=this.isHorizontal(),_=this.ticks.length+(d?1:0),v=gu(o),E=[],S=u.setContext(this.getContext()),A=S.display?S.width:0,C=A/2,M=function(Q){return ho(i,Q,A)};let L,H,Y,$,et,N,I,D,j,P,U,O;if(l==="top")L=M(this.bottom),N=this.bottom-v,D=L-C,P=M(t.top)+C,O=t.bottom;else if(l==="bottom")L=M(this.top),P=t.top,O=M(t.bottom)-C,N=L+C,D=this.top+v;else if(l==="left")L=M(this.right),et=this.right-v,I=L-C,j=M(t.left)+C,U=t.right;else if(l==="right")L=M(this.left),j=t.left,U=M(t.right)-C,et=L+C,I=this.left+v;else if(e==="x"){if(l==="center")L=M((t.top+t.bottom)/2+.5);else if(Qt(l)){const Q=Object.keys(l)[0],lt=l[Q];L=M(this.chart.scales[Q].getPixelForValue(lt))}P=t.top,O=t.bottom,N=L+C,D=N+v}else if(e==="y"){if(l==="center")L=M((t.left+t.right)/2);else if(Qt(l)){const Q=Object.keys(l)[0],lt=l[Q];L=M(this.chart.scales[Q].getPixelForValue(lt))}et=L-C,I=et-v,j=t.left,U=t.right}const Nt=Ot(r.ticks.maxTicksLimit,_),bt=Math.max(1,Math.ceil(_/Nt));for(H=0;H<_;H+=bt){const Q=this.getContext(H),lt=o.setContext(Q),ft=u.setContext(Q),yt=lt.lineWidth,St=lt.color,z=ft.dash||[],nt=ft.dashOffset,ut=lt.tickWidth,dt=lt.tickColor,xt=lt.tickBorderDash||[],Tt=lt.tickBorderDashOffset;Y=sO(this,H,d),Y!==void 0&&($=ho(i,Y,yt),f?et=I=j=U=$:N=D=P=O=$,E.push({tx1:et,ty1:N,tx2:I,ty2:D,x1:j,y1:P,x2:U,y2:O,width:yt,color:St,borderDash:z,borderDashOffset:nt,tickWidth:ut,tickColor:dt,tickBorderDash:xt,tickBorderDashOffset:Tt}))}return this._ticksLength=_,this._borderValue=L,E}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:f,padding:p,mirror:_}=o,v=gu(i.grid),E=v+p,S=_?-p:E,A=-Wi(this.labelRotation),C=[];let M,L,H,Y,$,et,N,I,D,j,P,U,O="middle";if(r==="top")et=this.bottom-S,N=this._getXAxisLabelAlignment();else if(r==="bottom")et=this.top+S,N=this._getXAxisLabelAlignment();else if(r==="left"){const bt=this._getYAxisLabelAlignment(v);N=bt.textAlign,$=bt.x}else if(r==="right"){const bt=this._getYAxisLabelAlignment(v);N=bt.textAlign,$=bt.x}else if(e==="x"){if(r==="center")et=(t.top+t.bottom)/2+E;else if(Qt(r)){const bt=Object.keys(r)[0],Q=r[bt];et=this.chart.scales[bt].getPixelForValue(Q)+E}N=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")$=(t.left+t.right)/2-E;else if(Qt(r)){const bt=Object.keys(r)[0],Q=r[bt];$=this.chart.scales[bt].getPixelForValue(Q)}N=this._getYAxisLabelAlignment(v).textAlign}e==="y"&&(d==="start"?O="top":d==="end"&&(O="bottom"));const Nt=this._getLabelSizes();for(M=0,L=u.length;M<L;++M){H=u[M],Y=H.label;const bt=o.setContext(this.getContext(M));I=this.getPixelForTick(M)+o.labelOffset,D=this._resolveTickFontOptions(M),j=D.lineHeight,P=Re(Y)?Y.length:1;const Q=P/2,lt=bt.color,ft=bt.textStrokeColor,yt=bt.textStrokeWidth;let St=N;l?($=I,N==="inner"&&(M===L-1?St=this.options.reverse?"left":"right":M===0?St=this.options.reverse?"right":"left":St="center"),r==="top"?f==="near"||A!==0?U=-P*j+j/2:f==="center"?U=-Nt.highest.height/2-Q*j+j:U=-Nt.highest.height+j/2:f==="near"||A!==0?U=j/2:f==="center"?U=Nt.highest.height/2-Q*j:U=Nt.highest.height-P*j,_&&(U*=-1),A!==0&&!bt.showLabelBackdrop&&($+=j/2*Math.sin(A))):(et=I,U=(1-P)*j/2);let z;if(bt.showLabelBackdrop){const nt=Pn(bt.backdropPadding),ut=Nt.heights[M],dt=Nt.widths[M];let xt=U-nt.top,Tt=0-nt.left;switch(O){case"middle":xt-=ut/2;break;case"bottom":xt-=ut;break}switch(N){case"center":Tt-=dt/2;break;case"right":Tt-=dt;break;case"inner":M===L-1?Tt-=dt:M>0&&(Tt-=dt/2);break}z={left:Tt,top:xt,width:dt+nt.width,height:ut+nt.height,color:bt.backdropColor}}C.push({label:Y,font:D,textOffset:U,options:{rotation:A,color:lt,strokeColor:ft,strokeWidth:yt,textAlign:St,textBaseline:O,translation:[$,et],backdrop:z}})}return C}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Wi(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,d=l.widest.width;let f,p;return e==="left"?r?(p=this.right+o,i==="near"?f="left":i==="center"?(f="center",p+=d/2):(f="right",p+=d)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=d/2):(f="left",p=this.left)):e==="right"?r?(p=this.left+o,i==="near"?f="right":i==="center"?(f="center",p-=d/2):(f="left",p-=d)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=d/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(d,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=r.length;o<l;++o){const d=r[o];e.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,p,_,v;this.isHorizontal()?(f=ho(t,this.left,l)-l/2,p=ho(t,this.right,u)+u/2,_=v=d):(_=ho(t,this.top,l)-l/2,v=ho(t,this.bottom,u)+u/2,f=p=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(f,_),e.lineTo(p,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&cm(i,r);const o=this.getLabelItems(t);for(const l of o){const u=l.options,d=l.font,f=l.label,p=l.textOffset;To(i,f,0,p,d,u)}r&&um(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=un(i.font),l=Pn(i.padding),u=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||Qt(e)?(d+=l.bottom,Re(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=l.top;const{titleX:f,titleY:p,maxWidth:_,rotation:v}=cO(this,d,e,u);To(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:v,textAlign:lO(u,e,r),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ot(t.grid&&t.grid.z,-1),r=Ot(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Do.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return un(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class af{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;dO(e)&&(i=this.register(e));const r=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,uO(t,l,i),this.override&&Ie.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Ie[r]&&(delete Ie[r][i],this.override&&delete Eo[i])}}function uO(n,t,e){const i=Gu(Object.create(null),[e?Ie.get(e):{},Ie.get(t),n.defaults]);Ie.set(t,i),n.defaultRoutes&&hO(t,n.defaultRoutes),n.descriptors&&Ie.describe(t,n.descriptors)}function hO(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),d=l.join(".");Ie.route(o,r,d,u)})}function dO(n){return"id"in n&&"defaults"in n}class fO{constructor(){this.controllers=new af(Da,"datasets",!0),this.elements=new af(vr,"elements"),this.plugins=new af(Object,"plugins"),this.scales=new af(Do,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):me(r,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const r=y0(t);ve(i["before"+r],[],i),e[t](i),ve(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var xs=new fO;class mO{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,i,r){r=r||{};for(const o of t){const l=o.plugin,u=l[i],d=[e,r,o.options];if(ve(u,d,l)===!1&&r.cancelable)return!1}return!0}invalidate(){qt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Ot(i.options&&i.options.plugins,{}),o=gO(i);return r===!1&&!e?[]:yO(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function gO(n){const t={},e=[],i=Object.keys(xs.plugins.items);for(let o=0;o<i.length;o++)e.push(xs.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function pO(n,t){return!t&&n===!1?null:n===!0?{}:n}function yO(n,{plugins:t,localIds:e},i,r){const o=[],l=n.getContext();for(const u of t){const d=u.id,f=pO(i[d],r);f!==null&&o.push({plugin:u,options:_O(n.config,{plugin:u,local:e[d]},f,l)})}return o}function _O(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Sy(n,t){const e=Ie.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function bO(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function vO(n,t){return n===t?"_index_":"_value_"}function sE(n){if(n==="x"||n==="y"||n==="r")return n}function xO(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Ay(n,...t){if(sE(n))return n;for(const e of t){const i=e.axis||xO(e.position)||n.length>1&&sE(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function rE(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function wO(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return rE(n,"x",e[0])||rE(n,"y",e[0])}return{}}function EO(n,t){const e=Eo[n.type]||{scales:{}},i=t.scales||{},r=Sy(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Qt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=Ay(l,u,wO(l,n),Ie.scales[u.type]),f=vO(d,r),p=e.scales||{};o[l]=ku(Object.create(null),[{axis:d},u,p[d],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,d=l.indexAxis||Sy(u,t),p=(Eo[u]||{}).scales||{};Object.keys(p).forEach(_=>{const v=bO(_,d),E=l[v+"AxisID"]||v;o[E]=o[E]||Object.create(null),ku(o[E],[{axis:v},i[E],p[_]])})}),Object.keys(o).forEach(l=>{const u=o[l];ku(u,[Ie.scales[u.type],Ie.scale])}),o}function AS(n){const t=n.options||(n.options={});t.plugins=Ot(t.plugins,{}),t.scales=EO(n,t)}function CS(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function TO(n){return n=n||{},n.data=CS(n.data),AS(n),n}const aE=new Map,RS=new Set;function of(n,t){let e=aE.get(n);return e||(e=t(),aE.set(n,e),RS.add(e)),e}const pu=(n,t,e)=>{const i=xa(t,e);i!==void 0&&n.add(i)};class SO{constructor(t){this._config=TO(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=CS(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),AS(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return of(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return of(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return of(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return of(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const d=new Set;e.forEach(p=>{t&&(d.add(t),p.forEach(_=>pu(d,t,_))),p.forEach(_=>pu(d,r,_)),p.forEach(_=>pu(d,Eo[o]||{},_)),p.forEach(_=>pu(d,Ie,_)),p.forEach(_=>pu(d,Ey,_))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),RS.has(e)&&l.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,Eo[e]||{},Ie.datasets[e]||{},{type:e},Ie,Ey]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=oE(this._resolverCache,t,r);let d=l;if(CO(l,e)){o.$shared=!1,i=wa(i)?i():i;const f=this.createResolver(t,i,u);d=Gl(l,i,f)}for(const f of e)o[f]=d[f];return o}createResolver(t,e,i=[""],r){const{resolver:o}=oE(this._resolverCache,t,i);return Qt(e)?Gl(o,e,void 0,r):o}}function oE(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:E0(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const AO=n=>Qt(n)&&Object.getOwnPropertyNames(n).some(t=>wa(n[t]));function CO(n,t){const{isScriptable:e,isIndexable:i}=rS(n);for(const r of t){const o=e(r),l=i(r),u=(l||o)&&n[r];if(o&&(wa(u)||AO(u))||l&&Re(u))return!0}return!1}var RO="4.5.1";const IO=["top","bottom","left","right","chartArea"];function lE(n,t){return n==="top"||n==="bottom"||IO.indexOf(n)===-1&&t==="x"}function cE(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function uE(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ve(e&&e.onComplete,[n],t)}function NO(n){const t=n.chart,e=t.options.animation;ve(e&&e.onProgress,[n],t)}function IS(n){return A0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Ef={},hE=n=>{const t=IS(n);return Object.values(Ef).filter(e=>e.canvas===t).pop()};function kO(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const l=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=l)}}}function DO(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}class N0{static defaults=Ie;static instances=Ef;static overrides=Eo;static registry=xs;static version=RO;static getChart=hE;static register(...t){xs.add(...t),dE()}static unregister(...t){xs.remove(...t),dE()}constructor(t,e){const i=this.config=new SO(e),r=IS(t),o=hE(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||QM(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),d=u&&u.canvas,f=d&&d.height,p=d&&d.width;if(this.id=Ck(),this.ctx=u,this.canvas=d,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mO,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=qk(_=>this.update(_),l.resizeDelay||0),this._dataChanges=[],Ef[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}sr.listen(this,"complete",uE),sr.listen(this,"progress",NO),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return qt(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return xs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ow(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kw(this.canvas,this.ctx),this}stop(){return sr.stop(this),this}resize(t,e){sr.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Ow(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),ve(i.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};me(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],d=Ay(l,u),f=d==="r",p=d==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),me(o,l=>{const u=l.options,d=u.id,f=Ay(d,u),p=Ot(u.type,l.dtype);(u.position===void 0||lE(u.position,f)!==lE(l.dposition))&&(u.position=l.dposition),r[d]=!0;let _=null;if(d in i&&i[d].type===p)_=i[d];else{const v=xs.getScale(p);_=new v({id:d,type:p,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(u,t)}),me(r,(l,u)=>{l||delete i[u]}),me(i,l=>{On.configure(this,l,l.options),On.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(cE("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||Sy(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const d=xs.getController(u),{datasetElementType:f,dataElementType:p}=Ie.datasets[u];Object.assign(d,{dataElementType:xs.getElement(p),datasetElementType:f&&xs.getElement(f)}),l.controller=new d(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){me(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:_}=this.getDatasetMeta(f),v=!r&&o.indexOf(_)===-1;_.buildOrUpdateElements(v),l=Math.max(+_.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||me(o,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(cE("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){me(this.scales,t=>{On.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!ww(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const l=i==="_removeElements"?-o:o;kO(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!ww(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;On.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],me(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,wa(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(sr.has(this)?this.attached&&!sr.running(this)&&sr.start(this):(this.draw(),uE({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=pS(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&cm(e,r),t.controller.draw(),r&&um(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return cr(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=IM.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=ka(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,r);Yu(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),sr.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),kw(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Ef[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},r=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};me(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,f)=>{e.addEventListener(this,d,f),t[d]=f},r=(d,f)=>{t[d]&&(e.removeEventListener(this,d,f),delete t[d])},o=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){me(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},me(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,l,u,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,d=t.length;u<d;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!Pf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(d,f)=>d.filter(p=>!f.some(_=>p.datasetIndex===_.datasetIndex&&p.index===_.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,l=e,u=this._getActiveElements(t,r,i,l),d=Mk(t),f=DO(t,this._lastEvent,i,d);i&&(this._lastEvent=null,ve(o.onHover,[t,u,this],this),d&&ve(o.onClick,[t,u,this],this));const p=!Pf(u,r);return(p||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=f,p}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}}function dE(){return me(N0.instances,n=>n._plugins.invalidate())}function MO(n,t,e){const{startAngle:i,x:r,y:o,outerRadius:l,innerRadius:u,options:d}=t,{borderWidth:f,borderJoinStyle:p}=d,_=Math.min(f/l,Dn(i-e));if(n.beginPath(),n.arc(r,o,l-f/2,i+_/2,e-_/2),u>0){const v=Math.min(f/u,Dn(i-e));n.arc(r,o,u+f/2,e-v/2,i+v/2,!0)}else{const v=Math.min(f/2,l*Dn(i-e));if(p==="round")n.arc(r,o,v,e-se/2,i+se/2,!0);else if(p==="bevel"){const E=2*v*v,S=-E*Math.cos(e+se/2)+r,A=-E*Math.sin(e+se/2)+o,C=E*Math.cos(i+se/2)+r,M=E*Math.sin(i+se/2)+o;n.lineTo(S,A),n.lineTo(C,M)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function OO(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:l,outerRadius:u,innerRadius:d}=t;let f=r/u;n.beginPath(),n.arc(o,l,u,i-f,e+f),d>r?(f=r/d,n.arc(o,l,d,e+f,i-f,!0)):n.arc(o,l,r,e+$e,i-$e),n.closePath(),n.clip()}function PO(n){return w0(n,["outerStart","outerEnd","innerStart","innerEnd"])}function LO(n,t,e,i){const r=PO(n.options.borderRadius),o=(e-t)/2,l=Math.min(o,i*t/2),u=d=>{const f=(e-Math.min(o,d))*i/2;return yn(d,0,Math.min(o,f))};return{outerStart:u(r.outerStart),outerEnd:u(r.outerEnd),innerStart:yn(r.innerStart,0,l),innerEnd:yn(r.innerEnd,0,l)}}function Cl(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Bf(n,t,e,i,r,o){const{x:l,y:u,startAngle:d,pixelMargin:f,innerRadius:p}=t,_=Math.max(t.outerRadius+i+e-f,0),v=p>0?p+i+e+f:0;let E=0;const S=r-d;if(i){const bt=p>0?p-i:0,Q=_>0?_-i:0,lt=(bt+Q)/2,ft=lt!==0?S*lt/(lt+i):S;E=(S-ft)/2}const A=Math.max(.001,S*_-e/se)/_,C=(S-A)/2,M=d+C+E,L=r-C-E,{outerStart:H,outerEnd:Y,innerStart:$,innerEnd:et}=LO(t,v,_,L-M),N=_-H,I=_-Y,D=M+H/N,j=L-Y/I,P=v+$,U=v+et,O=M+$/P,Nt=L-et/U;if(n.beginPath(),o){const bt=(D+j)/2;if(n.arc(l,u,_,D,bt),n.arc(l,u,_,bt,j),Y>0){const yt=Cl(I,j,l,u);n.arc(yt.x,yt.y,Y,j,L+$e)}const Q=Cl(U,L,l,u);if(n.lineTo(Q.x,Q.y),et>0){const yt=Cl(U,Nt,l,u);n.arc(yt.x,yt.y,et,L+$e,Nt+Math.PI)}const lt=(L-et/v+(M+$/v))/2;if(n.arc(l,u,v,L-et/v,lt,!0),n.arc(l,u,v,lt,M+$/v,!0),$>0){const yt=Cl(P,O,l,u);n.arc(yt.x,yt.y,$,O+Math.PI,M-$e)}const ft=Cl(N,M,l,u);if(n.lineTo(ft.x,ft.y),H>0){const yt=Cl(N,D,l,u);n.arc(yt.x,yt.y,H,M-$e,D)}}else{n.moveTo(l,u);const bt=Math.cos(D)*_+l,Q=Math.sin(D)*_+u;n.lineTo(bt,Q);const lt=Math.cos(j)*_+l,ft=Math.sin(j)*_+u;n.lineTo(lt,ft)}n.closePath()}function jO(n,t,e,i,r){const{fullCircles:o,startAngle:l,circumference:u}=t;let d=t.endAngle;if(o){Bf(n,t,e,i,d,r);for(let f=0;f<o;++f)n.fill();isNaN(u)||(d=l+(u%Se||Se))}return Bf(n,t,e,i,d,r),n.fill(),d}function VO(n,t,e,i,r){const{fullCircles:o,startAngle:l,circumference:u,options:d}=t,{borderWidth:f,borderJoinStyle:p,borderDash:_,borderDashOffset:v,borderRadius:E}=d,S=d.borderAlign==="inner";if(!f)return;n.setLineDash(_||[]),n.lineDashOffset=v,S?(n.lineWidth=f*2,n.lineJoin=p||"round"):(n.lineWidth=f,n.lineJoin=p||"bevel");let A=t.endAngle;if(o){Bf(n,t,e,i,A,r);for(let C=0;C<o;++C)n.stroke();isNaN(u)||(A=l+(u%Se||Se))}S&&OO(n,t,A),d.selfJoin&&A-l>=se&&E===0&&p!=="miter"&&MO(n,t,A),o||(Bf(n,t,e,i,A,r),n.stroke())}class UO extends vr{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.getProps(["x","y"],i),{angle:o,distance:l}=KT(r,{x:t,y:e}),{startAngle:u,endAngle:d,innerRadius:f,outerRadius:p,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),v=(this.options.spacing+this.options.borderWidth)/2,E=Ot(_,d-u),S=$u(o,u,d)&&u!==d,A=E>=Se||S,C=or(l,f+v,p+v);return A&&C}getCenterPoint(t){const{x:e,y:i,startAngle:r,endAngle:o,innerRadius:l,outerRadius:u}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:d,spacing:f}=this.options,p=(r+o)/2,_=(l+u+f+d)/2;return{x:e+Math.cos(p)*_,y:i+Math.sin(p)*_}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:i}=this,r=(e.offset||0)/4,o=(e.spacing||0)/2,l=e.circular;if(this.pixelMargin=e.borderAlign==="inner"?.33:0,this.fullCircles=i>Se?Math.floor(i/Se):0,i===0||this.innerRadius<0||this.outerRadius<0)return;t.save();const u=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(u)*r,Math.sin(u)*r);const d=1-Math.sin(Math.min(se,i||0)),f=r*d;t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,jO(t,this,f,o,l),VO(t,this,f,o,l),t.restore()}}function NS(n,t,e=t){n.lineCap=Ot(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ot(e.borderDash,t.borderDash)),n.lineDashOffset=Ot(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ot(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ot(e.borderWidth,t.borderWidth),n.strokeStyle=Ot(e.borderColor,t.borderColor)}function zO(n,t,e){n.lineTo(e.x,e.y)}function BO(n){return n.stepped?nD:n.tension||n.cubicInterpolationMode==="monotone"?iD:zO}function kS(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:l,end:u}=t,d=Math.max(r,l),f=Math.min(o,u),p=r<l&&o<l||r>u&&o>u;return{count:i,start:d,loop:t.loop,ilen:f<d&&!p?i+f-d:f-d}}function FO(n,t,e,i){const{points:r,options:o}=t,{count:l,start:u,loop:d,ilen:f}=kS(r,e,i),p=BO(o);let{move:_=!0,reverse:v}=i||{},E,S,A;for(E=0;E<=f;++E)S=r[(u+(v?f-E:E))%l],!S.skip&&(_?(n.moveTo(S.x,S.y),_=!1):p(n,A,S,v,o.stepped),A=S);return d&&(S=r[(u+(v?f:0))%l],p(n,A,S,v,o.stepped)),!!d}function HO(n,t,e,i){const r=t.points,{count:o,start:l,ilen:u}=kS(r,e,i),{move:d=!0,reverse:f}=i||{};let p=0,_=0,v,E,S,A,C,M;const L=Y=>(l+(f?u-Y:Y))%o,H=()=>{A!==C&&(n.lineTo(p,C),n.lineTo(p,A),n.lineTo(p,M))};for(d&&(E=r[L(0)],n.moveTo(E.x,E.y)),v=0;v<=u;++v){if(E=r[L(v)],E.skip)continue;const Y=E.x,$=E.y,et=Y|0;et===S?($<A?A=$:$>C&&(C=$),p=(_*p+Y)/++_):(H(),n.lineTo(Y,$),S=et,_=0,A=C=$),M=$}H()}function Cy(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?HO:FO}function qO(n){return n.stepped?PD:n.tension||n.cubicInterpolationMode==="monotone"?LD:po}function GO(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),NS(n,t.options),n.stroke(r)}function YO(n,t,e,i){const{segments:r,options:o}=t,l=Cy(t);for(const u of r)NS(n,o,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const $O=typeof Path2D=="function";function WO(n,t,e,i){$O&&!t.options.segment?GO(n,t,e,i):YO(n,t,e,i)}class fm extends vr{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;CD(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=FD(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,l=gS(this,{property:e,start:r,end:r});if(!l.length)return;const u=[],d=qO(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:_,end:v}=l[f],E=o[_],S=o[v];if(E===S){u.push(E);continue}const A=Math.abs((r-E[e])/(S[e]-E[e])),C=d(E,S,A,i.stepped);C[e]=t[e],u.push(C)}return u.length===1?u[0]:u}pathSegment(t,e,i){return Cy(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=Cy(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)l&=o(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),WO(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function fE(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class KO extends vr{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return fE(this,t,"x",e)}inYRange(t,e){return fE(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!cr(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Ty(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function DS(n,t){const{x:e,y:i,base:r,width:o,height:l}=n.getProps(["x","y","base","width","height"],t);let u,d,f,p,_;return n.horizontal?(_=l/2,u=Math.min(e,r),d=Math.max(e,r),f=i-_,p=i+_):(_=o/2,u=e-_,d=e+_,f=Math.min(i,r),p=Math.max(i,r)),{left:u,top:f,right:d,bottom:p}}function fa(n,t,e,i){return n?0:yn(t,e,i)}function QO(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=sS(i);return{t:fa(r.top,o.top,0,e),r:fa(r.right,o.right,0,t),b:fa(r.bottom,o.bottom,0,e),l:fa(r.left,o.left,0,t)}}function XO(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=bo(r),l=Math.min(t,e),u=n.borderSkipped,d=i||Qt(r);return{topLeft:fa(!d||u.top||u.left,o.topLeft,0,l),topRight:fa(!d||u.top||u.right,o.topRight,0,l),bottomLeft:fa(!d||u.bottom||u.left,o.bottomLeft,0,l),bottomRight:fa(!d||u.bottom||u.right,o.bottomRight,0,l)}}function JO(n){const t=DS(n),e=t.right-t.left,i=t.bottom-t.top,r=QO(n,e/2,i/2),o=XO(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Xp(n,t,e,i){const r=t===null,o=e===null,u=n&&!(r&&o)&&DS(n,i);return u&&(r||or(t,u.left,u.right))&&(o||or(e,u.top,u.bottom))}function ZO(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function tP(n,t){n.rect(t.x,t.y,t.w,t.h)}function Jp(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,l=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+l,radius:n.radius}}class eP extends vr{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:l}=JO(this),u=ZO(l.radius)?Wu:tP;t.save(),(l.w!==o.w||l.h!==o.h)&&(t.beginPath(),u(t,Jp(l,e,o)),t.clip(),u(t,Jp(o,-e,l)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),u(t,Jp(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return Xp(this,t,e,i)}inXRange(t,e){return Xp(this,t,null,e)}inYRange(t,e){return Xp(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}var nP=Object.freeze({__proto__:null,ArcElement:UO,BarElement:eP,LineElement:fm,PointElement:KO});const Ry=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],mE=Ry.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function MS(n){return Ry[n%Ry.length]}function OS(n){return mE[n%mE.length]}function iP(n,t){return n.borderColor=MS(t),n.backgroundColor=OS(t),++t}function sP(n,t){return n.backgroundColor=n.data.map(()=>MS(t++)),t}function rP(n,t){return n.backgroundColor=n.data.map(()=>OS(t++)),t}function aP(n){let t=0;return(e,i)=>{const r=n.getDatasetMeta(i).controller;r instanceof R0?t=sP(e,t):r instanceof vS?t=rP(e,t):r&&(t=iP(e,t))}}function gE(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function oP(n){return n&&(n.borderColor||n.backgroundColor)}function lP(){return Ie.borderColor!=="rgba(0,0,0,0.1)"||Ie.backgroundColor!=="rgba(0,0,0,0.1)"}var cP={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:r}=n.config,{elements:o}=r,l=gE(i)||oP(r)||o&&gE(o)||lP();if(!e.forceOverride&&l)return;const u=aP(n);i.forEach(u)}};function uP(n,t,e,i,r){const o=r.samples||i;if(o>=e)return n.slice(t,t+e);const l=[],u=(e-2)/(o-2);let d=0;const f=t+e-1;let p=t,_,v,E,S,A;for(l[d++]=n[p],_=0;_<o-2;_++){let C=0,M=0,L;const H=Math.floor((_+1)*u)+1+t,Y=Math.min(Math.floor((_+2)*u)+1,e)+t,$=Y-H;for(L=H;L<Y;L++)C+=n[L].x,M+=n[L].y;C/=$,M/=$;const et=Math.floor(_*u)+1+t,N=Math.min(Math.floor((_+1)*u)+1,e)+t,{x:I,y:D}=n[p];for(E=S=-1,L=et;L<N;L++)S=.5*Math.abs((I-C)*(n[L].y-D)-(I-n[L].x)*(M-D)),S>E&&(E=S,v=n[L],A=L);l[d++]=v,p=A}return l[d++]=n[f],l}function hP(n,t,e,i){let r=0,o=0,l,u,d,f,p,_,v,E,S,A;const C=[],M=t+e-1,L=n[t].x,Y=n[M].x-L;for(l=t;l<t+e;++l){u=n[l],d=(u.x-L)/Y*i,f=u.y;const $=d|0;if($===p)f<S?(S=f,_=l):f>A&&(A=f,v=l),r=(o*r+u.x)/++o;else{const et=l-1;if(!qt(_)&&!qt(v)){const N=Math.min(_,v),I=Math.max(_,v);N!==E&&N!==et&&C.push({...n[N],x:r}),I!==E&&I!==et&&C.push({...n[I],x:r})}l>0&&et!==E&&C.push(n[et]),C.push(u),p=$,o=0,S=A=f,_=v=E=l}}return C}function PS(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function pE(n){n.data.datasets.forEach(t=>{PS(t)})}function dP(n,t){const e=t.length;let i=0,r;const{iScale:o}=n,{min:l,max:u,minDefined:d,maxDefined:f}=o.getUserBounds();return d&&(i=yn(lr(t,o.axis,l).lo,0,e-1)),f?r=yn(lr(t,o.axis,u).hi+1,i,e)-i:r=e-i,{start:i,count:r}}var fP={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){pE(n);return}const i=n.width;n.data.datasets.forEach((r,o)=>{const{_data:l,indexAxis:u}=r,d=n.getDatasetMeta(o),f=l||r.data;if(vu([u,n.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;const p=n.scales[d.xAxisID];if(p.type!=="linear"&&p.type!=="time"||n.options.parsing)return;let{start:_,count:v}=dP(d,f);const E=e.threshold||4*i;if(v<=E){PS(r);return}qt(l)&&(r._data=f,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(A){this._data=A}}));let S;switch(e.algorithm){case"lttb":S=uP(f,_,v,i,e);break;case"min-max":S=hP(f,_,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=S})},destroy(n){pE(n)}};function mP(n,t,e){const i=n.segments,r=n.points,o=t.points,l=[];for(const u of i){let{start:d,end:f}=u;f=mm(d,f,r);const p=Iy(e,r[d],r[f],u.loop);if(!t.segments){l.push({source:u,target:p,start:r[d],end:r[f]});continue}const _=gS(t,p);for(const v of _){const E=Iy(e,o[v.start],o[v.end],v.loop),S=mS(u,r,E);for(const A of S)l.push({source:A,target:v,start:{[e]:yE(p,E,"start",Math.max)},end:{[e]:yE(p,E,"end",Math.min)}})}}return l}function Iy(n,t,e,i){if(i)return;let r=t[n],o=e[n];return n==="angle"&&(r=Dn(r),o=Dn(o)),{property:n,start:r,end:o}}function gP(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:l,end:u})=>{u=mm(l,u,r);const d=r[l],f=r[u];i!==null?(o.push({x:d.x,y:i}),o.push({x:f.x,y:i})):e!==null&&(o.push({x:e,y:d.y}),o.push({x:e,y:f.y}))}),o}function mm(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function yE(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function LS(n,t){let e=[],i=!1;return Re(n)?(i=!0,e=n):e=gP(n,t),e.length?new fm({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function _E(n){return n&&n.fill!==!1}function pP(n,t,e){let r=n[t].fill;const o=[t];let l;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!Ve(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function yP(n,t,e){const i=xP(n);if(Qt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Ve(r)&&Math.floor(r)===r?_P(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function _P(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function bP(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Qt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function vP(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Qt(n)?i=n.value:i=t.getBaseValue(),i}function xP(n){const t=n.options,e=t.fill;let i=Ot(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function wP(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,l=i.points,u=EP(t,e);u.push(LS({x:null,y:t.bottom},i));for(let d=0;d<o.length;d++){const f=o[d];for(let p=f.start;p<=f.end;p++)TP(r,l[p],u)}return new fm({points:r,options:{}})}function EP(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function TP(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:l,last:u,point:d}=SP(o,t,"x");if(!(!d||l&&u)){if(l)i.unshift(d);else if(n.push(d),!u)break}}n.push(...i)}function SP(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,l=n.points;let u=!1,d=!1;for(let f=0;f<o.length;f++){const p=o[f],_=l[p.start][e],v=l[p.end][e];if(or(r,_,v)){u=r===_,d=r===v;break}}return{first:u,last:d,point:i}}class jS{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:l}=this;return e=e||{start:0,end:Se},t.arc(r,o,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function AP(n){const{chart:t,fill:e,line:i}=n;if(Ve(e))return CP(t,e);if(e==="stack")return wP(n);if(e==="shape")return!0;const r=RP(n);return r instanceof jS?r:LS(r,i)}function CP(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function RP(n){return(n.scale||{}).getPointPositionForValue?NP(n):IP(n)}function IP(n){const{scale:t={},fill:e}=n,i=bP(e,t);if(Ve(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function NP(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,l=vP(e,t,o),u=[];if(i.grid.circular){const d=t.getPointPositionForValue(0,o);return new jS({x:d.x,y:d.y,radius:t.getDistanceFromCenterForValue(l)})}for(let d=0;d<r;++d)u.push(t.getPointPositionForValue(d,l));return u}function Zp(n,t,e){const i=AP(t),{chart:r,index:o,line:l,scale:u,axis:d}=t,f=l.options,p=f.fill,_=f.backgroundColor,{above:v=_,below:E=_}=p||{},S=r.getDatasetMeta(o),A=pS(r,S);i&&l.points.length&&(cm(n,e),kP(n,{line:l,target:i,above:v,below:E,area:e,scale:u,axis:d,clip:A}),um(n))}function kP(n,t){const{line:e,target:i,above:r,below:o,area:l,scale:u,clip:d}=t,f=e._loop?"angle":t.axis;n.save();let p=o;o!==r&&(f==="x"?(bE(n,i,l.top),ty(n,{line:e,target:i,color:r,scale:u,property:f,clip:d}),n.restore(),n.save(),bE(n,i,l.bottom)):f==="y"&&(vE(n,i,l.left),ty(n,{line:e,target:i,color:o,scale:u,property:f,clip:d}),n.restore(),n.save(),vE(n,i,l.right),p=r)),ty(n,{line:e,target:i,color:p,scale:u,property:f,clip:d}),n.restore()}function bE(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:d,end:f}=u,p=r[d],_=r[mm(d,f,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(_.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function vE(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:d,end:f}=u,p=r[d],_=r[mm(d,f,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(e,p.y),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,_.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function ty(n,t){const{line:e,target:i,property:r,color:o,scale:l,clip:u}=t,d=mP(e,i,r);for(const{source:f,target:p,start:_,end:v}of d){const{style:{backgroundColor:E=o}={}}=f,S=i!==!0;n.save(),n.fillStyle=E,DP(n,l,u,S&&Iy(r,_,v)),n.beginPath();const A=!!e.pathSegment(n,f);let C;if(S){A?n.closePath():xE(n,i,v,r);const M=!!i.pathSegment(n,p,{move:A,reverse:!0});C=A&&M,C||xE(n,i,_,r)}n.closePath(),n.fill(C?"evenodd":"nonzero"),n.restore()}}function DP(n,t,e,i){const r=t.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let d,f,p,_;o==="x"?(d=l,f=r.top,p=u,_=r.bottom):(d=r.left,f=l,p=r.right,_=u),n.beginPath(),e&&(d=Math.max(d,e.left),p=Math.min(p,e.right),f=Math.max(f,e.top),_=Math.min(_,e.bottom)),n.rect(d,f,p-d,_-f),n.clip()}}function xE(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var MP={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,l,u,d;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,d=null,u&&u.options&&u instanceof fm&&(d={visible:n.isDatasetVisible(l),index:l,fill:yP(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=d,r.push(d);for(l=0;l<i;++l)d=r[l],!(!d||d.fill===!1)&&(d.fill=pP(r,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=r.length-1;l>=0;--l){const u=r[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&Zp(n.ctx,u,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;_E(o)&&Zp(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!_E(i)||e.drawTime!=="beforeDatasetDraw"||Zp(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const wE=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},OP=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class EE extends vr{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ve(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=un(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=wE(i,o);let f,p;e.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,o,u,d)+10):(p=this.maxHeight,f=this._fitCols(l,r,u,d)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+u;let _=t;o.textAlign="left",o.textBaseline="middle";let v=-1,E=-p;return this.legendItems.forEach((S,A)=>{const C=i+e/2+o.measureText(S.text).width;(A===0||f[f.length-1]+C+2*u>l)&&(_+=p,f[f.length-(A>0?0:1)]=0,E+=p,v++),d[A]={left:0,top:E,row:v,width:C,height:r},f[f.length-1]+=C+u}),_}_fitCols(t,e,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let _=u,v=0,E=0,S=0,A=0;return this.legendItems.forEach((C,M)=>{const{itemWidth:L,itemHeight:H}=PP(i,e,o,C,r);M>0&&E+H+2*u>p&&(_+=v+u,f.push({width:v,height:E}),S+=v+u,A++,v=E=0),d[M]={left:S,top:E,col:A,width:L,height:H},v=Math.max(v,L),E+=H+u}),_+=v,f.push({width:v,height:E}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,l=Ll(o,this.left,this.width);if(this.isHorizontal()){let u=0,d=Nn(i,this.left+r,this.right-this.lineWidths[u]);for(const f of e)u!==f.row&&(u=f.row,d=Nn(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+t+r,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+r}else{let u=0,d=Nn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const f of e)f.col!==u&&(u=f.col,d=Nn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),f.top=d,f.left+=this.left+r,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;cm(t,this),this._draw(),um(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:l}=t,u=Ie.color,d=Ll(t.rtl,this.left,this.width),f=un(l.font),{padding:p}=l,_=f.size,v=_/2;let E;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:S,boxHeight:A,itemHeight:C}=wE(l,_),M=function(et,N,I){if(isNaN(S)||S<=0||isNaN(A)||A<0)return;r.save();const D=Ot(I.lineWidth,1);if(r.fillStyle=Ot(I.fillStyle,u),r.lineCap=Ot(I.lineCap,"butt"),r.lineDashOffset=Ot(I.lineDashOffset,0),r.lineJoin=Ot(I.lineJoin,"miter"),r.lineWidth=D,r.strokeStyle=Ot(I.strokeStyle,u),r.setLineDash(Ot(I.lineDash,[])),l.usePointStyle){const j={radius:A*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:D},P=d.xPlus(et,S/2),U=N+v;iS(r,j,P,U,l.pointStyleWidth&&S)}else{const j=N+Math.max((_-A)/2,0),P=d.leftForLtr(et,S),U=bo(I.borderRadius);r.beginPath(),Object.values(U).some(O=>O!==0)?Wu(r,{x:P,y:j,w:S,h:A,radius:U}):r.rect(P,j,S,A),r.fill(),D!==0&&r.stroke()}r.restore()},L=function(et,N,I){To(r,I.text,et,N+C/2,f,{strikethrough:I.hidden,textAlign:d.textAlign(I.textAlign)})},H=this.isHorizontal(),Y=this._computeTitleHeight();H?E={x:Nn(o,this.left+p,this.right-i[0]),y:this.top+p+Y,line:0}:E={x:this.left+p,y:Nn(o,this.top+Y+p,this.bottom-e[0].height),line:0},hS(this.ctx,t.textDirection);const $=C+p;this.legendItems.forEach((et,N)=>{r.strokeStyle=et.fontColor,r.fillStyle=et.fontColor;const I=r.measureText(et.text).width,D=d.textAlign(et.textAlign||(et.textAlign=l.textAlign)),j=S+v+I;let P=E.x,U=E.y;d.setWidth(this.width),H?N>0&&P+j+p>this.right&&(U=E.y+=$,E.line++,P=E.x=Nn(o,this.left+p,this.right-i[E.line])):N>0&&U+$>this.bottom&&(P=E.x=P+e[E.line].width+p,E.line++,U=E.y=Nn(o,this.top+Y+p,this.bottom-e[E.line].height));const O=d.x(P);if(M(O,U,et),P=Gk(D,P+S+v,H?P+j:this.right,t.rtl),L(d.x(P),U,et),H)E.x+=j+p;else if(typeof et.text!="string"){const Nt=f.lineHeight;E.y+=VS(et,Nt)+p}else E.y+=$}),dS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=un(e.font),r=Pn(e.padding);if(!e.display)return;const o=Ll(t.rtl,this.left,this.width),l=this.ctx,u=e.position,d=i.size/2,f=r.top+d;let p,_=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),p=this.top+f,_=Nn(t.align,_,this.right-v);else{const S=this.columnSizes.reduce((A,C)=>Math.max(A,C.height),0);p=f+Nn(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const E=Nn(u,_,_+v);l.textAlign=o.textAlign(v0(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,To(l,e.text,E,p,i)}_computeTitleHeight(){const t=this.options.title,e=un(t.font),i=Pn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(or(t,this.left,this.right)&&or(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],or(t,r.left,r.left+r.width)&&or(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!VP(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=OP(r,i);r&&!o&&ve(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ve(e.onHover,[t,i,this],this)}else i&&ve(e.onClick,[t,i,this],this)}}function PP(n,t,e,i,r){const o=LP(i,n,t,e),l=jP(r,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function LP(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(r).width}function jP(n,t,e){let i=n;return typeof t.text!="string"&&(i=VS(t,e)),i}function VS(n,t){const e=n.text?n.text.length:0;return t*e}function VP(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var UP={id:"legend",_element:EE,start(n,t,e){const i=n.legend=new EE({ctx:n.ctx,options:e,chart:n});On.configure(n,i,e),On.addBox(n,i)},stop(n){On.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;On.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(e?0:void 0),p=Pn(f.borderWidth);return{text:t[d.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class k0 extends vr{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Re(i.text)?i.text.length:1;this._padding=Pn(i.padding);const o=r*un(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:l}=this,u=l.align;let d=0,f,p,_;return this.isHorizontal()?(p=Nn(u,i,o),_=e+t,f=o-i):(l.position==="left"?(p=i+t,_=Nn(u,r,e),d=se*-.5):(p=o-t,_=Nn(u,e,r),d=se*.5),f=r-e),{titleX:p,titleY:_,maxWidth:f,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=un(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:d,rotation:f}=this._drawArgs(o);To(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:f,textAlign:v0(e.align),textBaseline:"middle",translation:[l,u]})}}function zP(n,t){const e=new k0({ctx:n.ctx,options:t,chart:n});On.configure(n,e,t),On.addBox(n,e),n.titleBlock=e}var BP={id:"title",_element:k0,start(n,t,e){zP(n,e)},stop(n){const t=n.titleBlock;On.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;On.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lf=new WeakMap;var FP={id:"subtitle",start(n,t,e){const i=new k0({ctx:n.ctx,options:e,chart:n});On.configure(n,i,e),On.addBox(n,i),lf.set(n,i)},stop(n){On.removeBox(n,lf.get(n)),lf.delete(n)},beforeUpdate(n,t,e){const i=lf.get(n);On.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const wu={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const d=u.tooltipPosition();i.add(d.x),r+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,d)=>u+d)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const d=n[o].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),p=wy(t,f);p<r&&(r=p,u=d)}}if(u){const d=u.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function vs(n,t){return t&&(Re(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function rr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function HP(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function TE(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:u}=t,d=un(t.bodyFont),f=un(t.titleFont),p=un(t.footerFont),_=o.length,v=r.length,E=i.length,S=Pn(t.padding);let A=S.height,C=0,M=i.reduce((Y,$)=>Y+$.before.length+$.lines.length+$.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,_&&(A+=_*f.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),M){const Y=t.displayColors?Math.max(u,d.lineHeight):d.lineHeight;A+=E*Y+(M-E)*d.lineHeight+(M-1)*t.bodySpacing}v&&(A+=t.footerMarginTop+v*p.lineHeight+(v-1)*t.footerSpacing);let L=0;const H=function(Y){C=Math.max(C,e.measureText(Y).width+L)};return e.save(),e.font=f.string,me(n.title,H),e.font=d.string,me(n.beforeBody.concat(n.afterBody),H),L=t.displayColors?l+2+t.boxPadding:0,me(i,Y=>{me(Y.before,H),me(Y.lines,H),me(Y.after,H)}),L=0,e.font=p.string,me(n.footer,H),e.restore(),C+=S.width,{width:C,height:A}}function qP(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function GP(n,t,e,i){const{x:r,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&r+o+l>t.width||n==="right"&&r-o-l<0)return!0}function YP(n,t,e,i){const{x:r,width:o}=e,{width:l,chartArea:{left:u,right:d}}=n;let f="center";return i==="center"?f=r<=(u+d)/2?"left":"right":r<=o/2?f="left":r>=l-o/2&&(f="right"),GP(f,n,t,e)&&(f="center"),f}function SE(n,t,e){const i=e.yAlign||t.yAlign||qP(n,e);return{xAlign:e.xAlign||t.xAlign||YP(n,t,e,i),yAlign:i}}function $P(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function WP(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function AE(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:d}=e,f=r+o,{topLeft:p,topRight:_,bottomLeft:v,bottomRight:E}=bo(l);let S=$P(t,u);const A=WP(t,d,f);return d==="center"?u==="left"?S+=f:u==="right"&&(S-=f):u==="left"?S-=Math.max(p,v)+r:u==="right"&&(S+=Math.max(_,E)+r),{x:yn(S,0,i.width-t.width),y:yn(A,0,i.height-t.height)}}function cf(n,t,e){const i=Pn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function CE(n){return vs([],rr(n))}function KP(n,t,e){return ka(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function RE(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const US={beforeTitle:nr,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:nr,beforeBody:nr,beforeLabel:nr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return qt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:nr,afterBody:nr,beforeFooter:nr,footer:nr,afterFooter:nr};function Wn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?US[t].call(e,i):r}class IE extends vr{static positioners=wu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new yS(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=KP(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Wn(i,"beforeTitle",this,t),o=Wn(i,"title",this,t),l=Wn(i,"afterTitle",this,t);let u=[];return u=vs(u,rr(r)),u=vs(u,rr(o)),u=vs(u,rr(l)),u}getBeforeBody(t,e){return CE(Wn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return me(t,o=>{const l={before:[],lines:[],after:[]},u=RE(i,o);vs(l.before,rr(Wn(u,"beforeLabel",this,o))),vs(l.lines,Wn(u,"label",this,o)),vs(l.after,rr(Wn(u,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(t,e){return CE(Wn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Wn(i,"beforeFooter",this,t),o=Wn(i,"footer",this,t),l=Wn(i,"afterFooter",this,t);let u=[];return u=vs(u,rr(r)),u=vs(u,rr(o)),u=vs(u,rr(l)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],l=[];let u=[],d,f;for(d=0,f=e.length;d<f;++d)u.push(HP(this.chart,e[d]));return t.filter&&(u=u.filter((p,_,v)=>t.filter(p,_,v,i))),t.itemSort&&(u=u.sort((p,_)=>t.itemSort(p,_,i))),me(u,p=>{const _=RE(t.callbacks,p);r.push(Wn(_,"labelColor",this,p)),o.push(Wn(_,"labelPointStyle",this,p)),l.push(Wn(_,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=wu[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const d=this._size=TE(this,i),f=Object.assign({},u,d),p=SE(this.chart,i,f),_=AE(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:_.x,y:_.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:_}=bo(u),{x:v,y:E}=t,{width:S,height:A}=e;let C,M,L,H,Y,$;return o==="center"?(Y=E+A/2,r==="left"?(C=v,M=C-l,H=Y+l,$=Y-l):(C=v+S,M=C+l,H=Y-l,$=Y+l),L=C):(r==="left"?M=v+Math.max(d,p)+l:r==="right"?M=v+S-Math.max(f,_)-l:M=this.caretX,o==="top"?(H=E,Y=H-l,C=M-l,L=M+l):(H=E+A,Y=H+l,C=M+l,L=M-l),$=H),{x1:C,x2:M,x3:L,y1:H,y2:Y,y3:$}}drawTitle(t,e,i){const r=this.title,o=r.length;let l,u,d;if(o){const f=Ll(i.rtl,this.x,this.width);for(t.x=cf(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",l=un(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,d=0;d<o;++d)e.fillText(r[d],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,d+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:d,boxWidth:f}=o,p=un(o.bodyFont),_=cf(this,"left",o),v=r.x(_),E=d<p.lineHeight?(p.lineHeight-d)/2:0,S=e.y+E;if(o.usePointStyle){const A={radius:Math.min(f,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},C=r.leftForLtr(v,f)+f/2,M=S+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Ty(t,A,C,M),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,Ty(t,A,C,M)}else{t.lineWidth=Qt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const A=r.leftForLtr(v,f),C=r.leftForLtr(r.xPlus(v,1),f-2),M=bo(l.borderRadius);Object.values(M).some(L=>L!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Wu(t,{x:A,y:S,w:f,h:d,radius:M}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),Wu(t,{x:C,y:S+1,w:f-2,h:d-2,radius:M}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(A,S,f,d),t.strokeRect(A,S,f,d),t.fillStyle=l.backgroundColor,t.fillRect(C,S+1,f-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:f,boxPadding:p}=i,_=un(i.bodyFont);let v=_.lineHeight,E=0;const S=Ll(i.rtl,this.x,this.width),A=function(I){e.fillText(I,S.x(t.x+E),t.y+v/2),t.y+=v+o},C=S.textAlign(l);let M,L,H,Y,$,et,N;for(e.textAlign=l,e.textBaseline="middle",e.font=_.string,t.x=cf(this,C,i),e.fillStyle=i.bodyColor,me(this.beforeBody,A),E=u&&C!=="right"?l==="center"?f/2+p:f+2+p:0,Y=0,et=r.length;Y<et;++Y){for(M=r[Y],L=this.labelTextColors[Y],e.fillStyle=L,me(M.before,A),H=M.lines,u&&H.length&&(this._drawColorBox(e,t,Y,S,i),v=Math.max(_.lineHeight,d)),$=0,N=H.length;$<N;++$)A(H[$]),v=_.lineHeight;me(M.after,A)}E=0,v=_.lineHeight,me(this.afterBody,A),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let l,u;if(o){const d=Ll(i.rtl,this.x,this.width);for(t.x=cf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",l=un(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(r[u],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:l}=this,{x:u,y:d}=t,{width:f,height:p}=i,{topLeft:_,topRight:v,bottomLeft:E,bottomRight:S}=bo(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+_,d),l==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+f-v,d),e.quadraticCurveTo(u+f,d,u+f,d+v),l==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+f,d+p-S),e.quadraticCurveTo(u+f,d+p,u+f-S,d+p),l==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+E,d+p),e.quadraticCurveTo(u,d+p,u,d+p-E),l==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,d+_),e.quadraticCurveTo(u,d,u+_,d),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const l=wu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=TE(this,t),d=Object.assign({},l,this._size),f=SE(e,t,d),p=AE(t,d,f,e);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Pn(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),hS(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),dS(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:d})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[d],index:d}}),o=!Pf(i,r),l=this._positionChanged(r,e);(o||l)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),d=e||!Pf(l,o)||u;return d&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,l=wu[o.position].call(this,t,e);return l!==!1&&(i!==l.x||r!==l.y)}}var QP={id:"tooltip",_element:IE,positioners:wu,afterInit(n,t,e){e&&(n.tooltip=new IE({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:US},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},XP=Object.freeze({__proto__:null,Colors:cP,Decimation:fP,Filler:MP,Legend:UP,SubTitle:FP,Title:BP,Tooltip:QP});const JP=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function ZP(n,t,e,i){const r=n.indexOf(t);if(r===-1)return JP(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const t4=(n,t)=>n===null?null:yn(Math.round(n),0,t);function NE(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class e4 extends Do{static id="category";static defaults={ticks:{callback:NE}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(qt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:ZP(i,t,Ot(e,t),this._addedLabels),t4(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){return NE.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function n4(n,t){const e=[],{bounds:r,step:o,min:l,max:u,precision:d,count:f,maxTicks:p,maxDigits:_,includeBounds:v}=n,E=o||1,S=p-1,{min:A,max:C}=t,M=!qt(l),L=!qt(u),H=!qt(f),Y=(C-A)/(_+1);let $=Tw((C-A)/S/E)*E,et,N,I,D;if($<1e-14&&!M&&!L)return[{value:A},{value:C}];D=Math.ceil(C/$)-Math.floor(A/$),D>S&&($=Tw(D*$/S/E)*E),qt(d)||(et=Math.pow(10,d),$=Math.ceil($*et)/et),r==="ticks"?(N=Math.floor(A/$)*$,I=Math.ceil(C/$)*$):(N=A,I=C),M&&L&&o&&Vk((u-l)/o,$/1e3)?(D=Math.round(Math.min((u-l)/$,p)),$=(u-l)/D,N=l,I=u):H?(N=M?l:N,I=L?u:I,D=f-1,$=(I-N)/D):(D=(I-N)/$,Du(D,Math.round(D),$/1e3)?D=Math.round(D):D=Math.ceil(D));const j=Math.max(Sw($),Sw(N));et=Math.pow(10,qt(d)?j:d),N=Math.round(N*et)/et,I=Math.round(I*et)/et;let P=0;for(M&&(v&&N!==l?(e.push({value:l}),N<l&&P++,Du(Math.round((N+P*$)*et)/et,l,kE(l,Y,n))&&P++):N<l&&P++);P<D;++P){const U=Math.round((N+P*$)*et)/et;if(L&&U>u)break;e.push({value:U})}return L&&v&&I!==u?e.length&&Du(e[e.length-1].value,u,kE(u,Y,n))?e[e.length-1].value=u:e.push({value:u}):(!L||I===u)&&e.push({value:I}),e}function kE(n,t,{horizontal:e,minRotation:i}){const r=Wi(i),o=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class Ff extends Do{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return qt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=d=>r=e?r:d,u=d=>o=i?o:d;if(t){const d=Ss(r),f=Ss(o);d<0&&f<0?u(0):d>0&&f>0&&l(0)}if(r===o){let d=o===0?1:Math.abs(o*.05);u(o+d),t||l(r-d)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=n4(r,o);return t.bounds==="ticks"&&WT(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return gh(t,this.chart.options.locale,this.options.ticks.format)}}class i4 extends Ff{static id="linear";static defaults={ticks:{callback:lm.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ve(t)?t:0,this.max=Ve(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Wi(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Qu=n=>Math.floor(ha(n)),mo=(n,t)=>Math.pow(10,Qu(n)+t);function DE(n){return n/Math.pow(10,Qu(n))===1}function ME(n,t,e){const i=Math.pow(10,e),r=Math.floor(n/i);return Math.ceil(t/i)-r}function s4(n,t){const e=t-n;let i=Qu(e);for(;ME(n,t,i)>10;)i++;for(;ME(n,t,i)<10;)i--;return Math.min(i,Qu(n))}function r4(n,{min:t,max:e}){t=di(n.min,t);const i=[],r=Qu(t);let o=s4(t,e),l=o<0?Math.pow(10,Math.abs(o)):1;const u=Math.pow(10,o),d=r>o?Math.pow(10,r):0,f=Math.round((t-d)*l)/l,p=Math.floor((t-d)/u/10)*u*10;let _=Math.floor((f-p)/Math.pow(10,o)),v=di(n.min,Math.round((d+p+_*Math.pow(10,o))*l)/l);for(;v<e;)i.push({value:v,major:DE(v),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(o++,_=2,l=o>=0?1:l),v=Math.round((d+p+_*Math.pow(10,o))*l)/l;const E=di(n.max,v);return i.push({value:E,major:DE(E),significand:_}),i}class a4 extends Do{static id="logarithmic";static defaults={ticks:{callback:lm.formatters.logarithmic,major:{enabled:!0}}};constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Ff.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Ve(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ve(t)?Math.max(0,t):null,this.max=Ve(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ve(this._userMin)&&(this.min=t===mo(this.min,0)?mo(this.min,-1):mo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,r=this.max;const o=u=>i=t?i:u,l=u=>r=e?r:u;i===r&&(i<=0?(o(1),l(10)):(o(mo(i,-1)),l(mo(r,1)))),i<=0&&o(mo(r,-1)),r<=0&&l(mo(i,1)),this.min=i,this.max=r}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=r4(e,this);return t.bounds==="ticks"&&WT(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":gh(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=ha(t),this._valueRange=ha(this.max)-ha(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(ha(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function Ny(n){const t=n.ticks;if(t.display&&n.display){const e=Pn(t.backdropPadding);return Ot(t.font&&t.font.size,Ie.font.size)+e.height}return 0}function o4(n,t,e){return e=Re(e)?e:[e],{w:eD(n,t.string,e),h:e.length*t.lineHeight}}function OE(n,t,e,i,r){return n===i||n===r?{start:t-e/2,end:t+e/2}:n<i||n>r?{start:t-e,end:t}:{start:t,end:t+e}}function l4(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],r=[],o=n._pointLabels.length,l=n.options.pointLabels,u=l.centerPointLabels?se/o:0;for(let d=0;d<o;d++){const f=l.setContext(n.getPointLabelContext(d));r[d]=f.padding;const p=n.getPointPosition(d,n.drawingArea+r[d],u),_=un(f.font),v=o4(n.ctx,_,n._pointLabels[d]);i[d]=v;const E=Dn(n.getIndexAngle(d)+u),S=Math.round(_0(E)),A=OE(S,p.x,v.w,0,180),C=OE(S,p.y,v.h,90,270);c4(e,t,E,A,C)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=d4(n,i,r)}function c4(n,t,e,i,r){const o=Math.abs(Math.sin(e)),l=Math.abs(Math.cos(e));let u=0,d=0;i.start<t.l?(u=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-u)):i.end>t.r&&(u=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+u)),r.start<t.t?(d=(t.t-r.start)/l,n.t=Math.min(n.t,t.t-d)):r.end>t.b&&(d=(r.end-t.b)/l,n.b=Math.max(n.b,t.b+d))}function u4(n,t,e){const i=n.drawingArea,{extra:r,additionalAngle:o,padding:l,size:u}=e,d=n.getPointPosition(t,i+r+l,o),f=Math.round(_0(Dn(d.angle+$e))),p=g4(d.y,u.h,f),_=f4(f),v=m4(d.x,u.w,_);return{visible:!0,x:d.x,y:p,textAlign:_,left:v,top:p,right:v+u.w,bottom:p+u.h}}function h4(n,t){if(!t)return!0;const{left:e,top:i,right:r,bottom:o}=n;return!(cr({x:e,y:i},t)||cr({x:e,y:o},t)||cr({x:r,y:i},t)||cr({x:r,y:o},t))}function d4(n,t,e){const i=[],r=n._pointLabels.length,o=n.options,{centerPointLabels:l,display:u}=o.pointLabels,d={extra:Ny(o)/2,additionalAngle:l?se/r:0};let f;for(let p=0;p<r;p++){d.padding=e[p],d.size=t[p];const _=u4(n,p,d);i.push(_),u==="auto"&&(_.visible=h4(_,f),_.visible&&(f=_))}return i}function f4(n){return n===0||n===180?"center":n<180?"left":"right"}function m4(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function g4(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function p4(n,t,e){const{left:i,top:r,right:o,bottom:l}=e,{backdropColor:u}=t;if(!qt(u)){const d=bo(t.borderRadius),f=Pn(t.backdropPadding);n.fillStyle=u;const p=i-f.left,_=r-f.top,v=o-i+f.width,E=l-r+f.height;Object.values(d).some(S=>S!==0)?(n.beginPath(),Wu(n,{x:p,y:_,w:v,h:E,radius:d}),n.fill()):n.fillRect(p,_,v,E)}}function y4(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let r=t-1;r>=0;r--){const o=n._pointLabelItems[r];if(!o.visible)continue;const l=i.setContext(n.getPointLabelContext(r));p4(e,l,o);const u=un(l.font),{x:d,y:f,textAlign:p}=o;To(e,n._pointLabels[r],d,f+u.lineHeight/2,u,{color:l.color,textAlign:p,textBaseline:"middle"})}}function zS(n,t,e,i){const{ctx:r}=n;if(e)r.arc(n.xCenter,n.yCenter,t,0,Se);else{let o=n.getPointPosition(0,t);r.moveTo(o.x,o.y);for(let l=1;l<i;l++)o=n.getPointPosition(l,t),r.lineTo(o.x,o.y)}}function _4(n,t,e,i,r){const o=n.ctx,l=t.circular,{color:u,lineWidth:d}=t;!l&&!i||!u||!d||e<0||(o.save(),o.strokeStyle=u,o.lineWidth=d,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),zS(n,e,l,i),o.closePath(),o.stroke(),o.restore())}function b4(n,t,e){return ka(n,{label:e,index:t,type:"pointLabel"})}class v4 extends Ff{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:lm.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Pn(Ny(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Ve(t)&&!isNaN(t)?t:0,this.max=Ve(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Ny(this.options))}generateTickLabels(t){Ff.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const r=ve(this.options.pointLabels.callback,[e,i],this);return r||r===0?r:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?l4(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,r))}getIndexAngle(t){const e=Se/(this._pointLabels.length||1),i=this.options.startAngle||0;return Dn(t*e+Wi(i))}getDistanceFromCenterForValue(t){if(qt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(qt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return b4(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const r=this.getIndexAngle(t)-$e+i;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:r,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:r,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),zS(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:r,border:o}=e,l=this._pointLabels.length;let u,d,f;if(e.pointLabels.display&&y4(this,l),r.display&&this.ticks.forEach((p,_)=>{if(_!==0||_===0&&this.min<0){d=this.getDistanceFromCenterForValue(p.value);const v=this.getContext(_),E=r.setContext(v),S=o.setContext(v);_4(this,E,d,l,S)}}),i.display){for(t.save(),u=l-1;u>=0;u--){const p=i.setContext(this.getPointLabelContext(u)),{color:_,lineWidth:v}=p;!v||!_||(t.lineWidth=v,t.strokeStyle=_,t.setLineDash(p.borderDash),t.lineDashOffset=p.borderDashOffset,d=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),f=this.getPointPosition(u,d),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(f.x,f.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let o,l;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((u,d)=>{if(d===0&&this.min>=0&&!e.reverse)return;const f=i.setContext(this.getContext(d)),p=un(f.font);if(o=this.getDistanceFromCenterForValue(this.ticks[d].value),f.showLabelBackdrop){t.font=p.string,l=t.measureText(u.label).width,t.fillStyle=f.backdropColor;const _=Pn(f.backdropPadding);t.fillRect(-l/2-_.left,-o-p.size/2-_.top,l+_.width,p.size+_.height)}To(t,u.label,0,-o,p,{color:f.color,strokeColor:f.textStrokeColor,strokeWidth:f.textStrokeWidth})}),t.restore()}drawTitle(){}}const gm={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xn=Object.keys(gm);function PE(n,t){return n-t}function LE(n,t){if(qt(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),Ve(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(ql(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,r)),+l)}function jE(n,t,e,i){const r=Xn.length;for(let o=Xn.indexOf(n);o<r-1;++o){const l=gm[Xn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Xn[o]}return Xn[r-1]}function x4(n,t,e,i,r){for(let o=Xn.length-1;o>=Xn.indexOf(e);o--){const l=Xn[o];if(gm[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return Xn[e?Xn.indexOf(e):0]}function w4(n){for(let t=Xn.indexOf(n)+1,e=Xn.length;t<e;++t)if(gm[Xn[t]].common)return Xn[t]}function VE(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=b0(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function E4(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),l=t[t.length-1].value;let u,d;for(u=o;u<=l;u=+r.add(u,1,i))d=e[u],d>=0&&(t[d].major=!0);return t}function UE(n,t,e){const i=[],r={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],r[u]=l,i.push({value:u,major:!1});return o===0||!e?i:E4(n,i,r,e)}class ky extends Do{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new TM._date(t.adapters.date);r.init(e),ku(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:LE(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!u)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=Ve(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=Ve(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,u=Fk(r,o,l);return this._unit=e.unit||(i.autoSkip?jE(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):x4(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:w4(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),UE(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=yn(e,0,l),i=yn(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,l=o.unit||jE(o.minUnit,e,i,this._getLabelCapacity(e)),u=Ot(r.ticks.stepSize,1),d=l==="week"?o.isoWeekday:!1,f=ql(d)||d===!0,p={};let _=e,v,E;if(f&&(_=+t.startOf(_,"isoWeek",d)),_=+t.startOf(_,f?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=r.ticks.source==="data"&&this.getDataTimestamps();for(v=_,E=0;v<i;v=+t.add(v,u,l),E++)VE(p,v,S);return(v===i||r.bounds==="ticks"||E===1)&&VE(p,v,S),Object.keys(p).sort(PE).map(A=>+A)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,l=e||r[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,r){const o=this.options,l=o.ticks.callback;if(l)return ve(l,[t,e,i],this);const u=o.time.displayFormats,d=this._unit,f=this._majorUnit,p=d&&u[d],_=f&&u[f],v=i[e],E=f&&_&&v&&v.major;return this._adapter.format(t,r||(E?_:p))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Wi(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,UE(this,[t],this._majorUnit),r),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(LE(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return XT(t.sort(PE))}}function uf(n,t,e){let i=0,r=n.length-1,o,l,u,d;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=lr(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:d}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=lr(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:d}=n[r]);const f=l-o;return f?u+(d-u)*(t-o)/f:u}class T4 extends ky{static id="timeseries";static defaults=ky.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=uf(e,this.min),this._tableRange=uf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let l,u,d,f,p;for(l=0,u=t.length;l<u;++l)f=t[l],f>=e&&f<=i&&r.push(f);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)p=r[l+1],d=r[l-1],f=r[l],Math.round((p+d)/2)!==f&&o.push({time:f,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(uf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return uf(this._table,i*this._tableRange+this._minPos,!0)}}var S4=Object.freeze({__proto__:null,CategoryScale:e4,LinearScale:i4,LogarithmicScale:a4,RadialLinearScale:v4,TimeScale:ky,TimeSeriesScale:T4});const A4=[EM,nP,XP,S4];N0.register(...A4);const C4=()=>{};var zE={};const BS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},R4=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],l=n[e++],u=n[e++],d=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return t.join("")},FS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,u=l?n[r+1]:0,d=r+2<n.length,f=d?n[r+2]:0,p=o>>2,_=(o&3)<<4|u>>4;let v=(u&15)<<2|f>>6,E=f&63;d||(E=64,l||(v=64)),i.push(e[p],e[_],e[v],e[E])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(BS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):R4(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const f=r<n.length?e[n.charAt(r)]:64;++r;const _=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||u==null||f==null||_==null)throw new I4;const v=o<<2|u>>4;if(i.push(v),f!==64){const E=u<<4&240|f>>2;if(i.push(E),_!==64){const S=f<<6&192|_;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class I4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const N4=function(n){const t=BS(n);return FS.encodeByteArray(t,!0)},Hf=function(n){return N4(n).replace(/\./g,"")},HS=function(n){try{return FS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function k4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const D4=()=>k4().__FIREBASE_DEFAULTS__,M4=()=>{if(typeof process>"u"||typeof zE>"u")return;const n=zE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},O4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&HS(n[1]);return t&&JSON.parse(t)},pm=()=>{try{return C4()||D4()||M4()||O4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},qS=n=>pm()?.emulatorHosts?.[n],GS=n=>{const t=qS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},YS=()=>pm()?.config,$S=n=>pm()?.[`_${n}`];class P4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Ma(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function D0(n){return(await fetch(n,{credentials:"include"})).ok}function WS(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Hf(JSON.stringify(e)),Hf(JSON.stringify(l)),""].join(".")}const Pu={};function L4(){const n={prod:[],emulator:[]};for(const t of Object.keys(Pu))Pu[t]?n.emulator.push(t):n.prod.push(t);return n}function j4(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let BE=!1;function M0(n,t){if(typeof window>"u"||typeof document>"u"||!Ma(window.location.host)||Pu[n]===t||Pu[n]||BE)return;Pu[n]=t;function e(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=L4().prod.length>0;function l(){const v=document.getElementById(i);v&&v.remove()}function u(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function d(v,E){v.setAttribute("width","24"),v.setAttribute("id",E),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function f(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{BE=!0,l()},v}function p(v,E){v.setAttribute("id",E),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=j4(i),E=e("text"),S=document.getElementById(E)||document.createElement("span"),A=e("learnmore"),C=document.getElementById(A)||document.createElement("a"),M=e("preprendIcon"),L=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const H=v.element;u(H),p(C,A);const Y=f();d(L,M),H.append(L,S,C,Y),document.body.appendChild(H)}o?(S.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function V4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function U4(){const n=pm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function B4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function F4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function H4(){const n=Ln();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function q4(){return!U4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function G4(){try{return typeof indexedDB=="object"}catch{return!1}}function Y4(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const $4="FirebaseError";class Ps extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=$4,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ph.prototype.create)}}class ph{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],l=o?W4(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new Ps(r,u,i)}}function W4(n,t){return n.replace(K4,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const K4=/\{\$([^}]+)}/g;function Q4(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function So(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],l=t[r];if(FE(o)&&FE(l)){if(!So(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function FE(n){return n!==null&&typeof n=="object"}function yh(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Eu(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function Tu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function X4(n,t){const e=new J4(n,t);return e.subscribe.bind(e)}class J4{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");Z4(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=ey),r.error===void 0&&(r.error=ey),r.complete===void 0&&(r.complete=ey);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Z4(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function ey(){}function Me(n){return n&&n._delegate?n._delegate:n}class Ea{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const yo="[DEFAULT]";class tL{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new P4;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nL(t))try{this.getOrInitializeService({instanceIdentifier:yo})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=yo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=yo){return this.instances.has(t)}getOptions(t=yo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eL(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=yo){return this.component?this.component.multipleInstances?t:yo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eL(n){return n===yo?void 0:n}function nL(n){return n.instantiationMode==="EAGER"}class iL{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new tL(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var $t;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})($t||($t={}));const sL={debug:$t.DEBUG,verbose:$t.VERBOSE,info:$t.INFO,warn:$t.WARN,error:$t.ERROR,silent:$t.SILENT},rL=$t.INFO,aL={[$t.DEBUG]:"log",[$t.VERBOSE]:"log",[$t.INFO]:"info",[$t.WARN]:"warn",[$t.ERROR]:"error"},oL=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=aL[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class O0{constructor(t){this.name=t,this._logLevel=rL,this._logHandler=oL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in $t))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?sL[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,$t.DEBUG,...t),this._logHandler(this,$t.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,$t.VERBOSE,...t),this._logHandler(this,$t.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,$t.INFO,...t),this._logHandler(this,$t.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,$t.WARN,...t),this._logHandler(this,$t.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,$t.ERROR,...t),this._logHandler(this,$t.ERROR,...t)}}const lL=(n,t)=>t.some(e=>n instanceof e);let HE,qE;function cL(){return HE||(HE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uL(){return qE||(qE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KS=new WeakMap,Dy=new WeakMap,QS=new WeakMap,ny=new WeakMap,P0=new WeakMap;function hL(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(pa(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&KS.set(e,n)}).catch(()=>{}),P0.set(t,n),t}function dL(n){if(Dy.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Dy.set(n,t)}let My={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Dy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||QS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return pa(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function fL(n){My=n(My)}function mL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(iy(this),t,...e);return QS.set(i,t.sort?t.sort():[t]),pa(i)}:uL().includes(n)?function(...t){return n.apply(iy(this),t),pa(KS.get(this))}:function(...t){return pa(n.apply(iy(this),t))}}function gL(n){return typeof n=="function"?mL(n):(n instanceof IDBTransaction&&dL(n),lL(n,cL())?new Proxy(n,My):n)}function pa(n){if(n instanceof IDBRequest)return hL(n);if(ny.has(n))return ny.get(n);const t=gL(n);return t!==n&&(ny.set(n,t),P0.set(t,n)),t}const iy=n=>P0.get(n);function pL(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,t),u=pa(l);return i&&l.addEventListener("upgradeneeded",d=>{i(pa(l.result),d.oldVersion,d.newVersion,pa(l.transaction),d)}),e&&l.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const yL=["get","getKey","getAll","getAllKeys","count"],_L=["put","add","delete","clear"],sy=new Map;function GE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(sy.get(t))return sy.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=_L.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||yL.includes(e)))return;const o=async function(l,...u){const d=this.transaction(l,r?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[e](...u),r&&d.done]))[0]};return sy.set(t,o),o}fL(n=>({...n,get:(t,e,i)=>GE(t,e)||n.get(t,e,i),has:(t,e)=>!!GE(t,e)||n.has(t,e)}));class bL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(vL(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function vL(n){return n.getComponent()?.type==="VERSION"}const Oy="@firebase/app",YE="0.14.8";const pr=new O0("@firebase/app"),xL="@firebase/app-compat",wL="@firebase/analytics-compat",EL="@firebase/analytics",TL="@firebase/app-check-compat",SL="@firebase/app-check",AL="@firebase/auth",CL="@firebase/auth-compat",RL="@firebase/database",IL="@firebase/data-connect",NL="@firebase/database-compat",kL="@firebase/functions",DL="@firebase/functions-compat",ML="@firebase/installations",OL="@firebase/installations-compat",PL="@firebase/messaging",LL="@firebase/messaging-compat",jL="@firebase/performance",VL="@firebase/performance-compat",UL="@firebase/remote-config",zL="@firebase/remote-config-compat",BL="@firebase/storage",FL="@firebase/storage-compat",HL="@firebase/firestore",qL="@firebase/ai",GL="@firebase/firestore-compat",YL="firebase",$L="12.9.0";const Py="[DEFAULT]",WL={[Oy]:"fire-core",[xL]:"fire-core-compat",[EL]:"fire-analytics",[wL]:"fire-analytics-compat",[SL]:"fire-app-check",[TL]:"fire-app-check-compat",[AL]:"fire-auth",[CL]:"fire-auth-compat",[RL]:"fire-rtdb",[IL]:"fire-data-connect",[NL]:"fire-rtdb-compat",[kL]:"fire-fn",[DL]:"fire-fn-compat",[ML]:"fire-iid",[OL]:"fire-iid-compat",[PL]:"fire-fcm",[LL]:"fire-fcm-compat",[jL]:"fire-perf",[VL]:"fire-perf-compat",[UL]:"fire-rc",[zL]:"fire-rc-compat",[BL]:"fire-gcs",[FL]:"fire-gcs-compat",[HL]:"fire-fst",[GL]:"fire-fst-compat",[qL]:"fire-vertex","fire-js":"fire-js",[YL]:"fire-js-all"};const Xu=new Map,KL=new Map,Ly=new Map;function $E(n,t){try{n.container.addComponent(t)}catch(e){pr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ao(n){const t=n.name;if(Ly.has(t))return pr.debug(`There were multiple attempts to register component ${t}.`),!1;Ly.set(t,n);for(const e of Xu.values())$E(e,n);for(const e of KL.values())$E(e,n);return!0}function ym(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Di(n){return n==null?!1:n.settings!==void 0}const QL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ya=new ph("app","Firebase",QL);class XL{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ya.create("app-deleted",{appName:this._name})}}const Mo=$L;function XS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Py,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw ya.create("bad-app-name",{appName:String(r)});if(e||(e=YS()),!e)throw ya.create("no-options");const o=Xu.get(r);if(o){if(So(e,o.options)&&So(i,o.config))return o;throw ya.create("duplicate-app",{appName:r})}const l=new iL(r);for(const d of Ly.values())l.addComponent(d);const u=new XL(e,i,l);return Xu.set(r,u),u}function _m(n=Py){const t=Xu.get(n);if(!t&&n===Py&&YS())return XS();if(!t)throw ya.create("no-app",{appName:n});return t}function JL(){return Array.from(Xu.values())}function As(n,t,e){let i=WL[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${t}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),pr.warn(l.join(" "));return}Ao(new Ea(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const ZL="firebase-heartbeat-database",tj=1,Ju="firebase-heartbeat-store";let ry=null;function JS(){return ry||(ry=pL(ZL,tj,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Ju)}catch(e){console.warn(e)}}}}).catch(n=>{throw ya.create("idb-open",{originalErrorMessage:n.message})})),ry}async function ej(n){try{const e=(await JS()).transaction(Ju),i=await e.objectStore(Ju).get(ZS(n));return await e.done,i}catch(t){if(t instanceof Ps)pr.warn(t.message);else{const e=ya.create("idb-get",{originalErrorMessage:t?.message});pr.warn(e.message)}}}async function WE(n,t){try{const i=(await JS()).transaction(Ju,"readwrite");await i.objectStore(Ju).put(t,ZS(n)),await i.done}catch(e){if(e instanceof Ps)pr.warn(e.message);else{const i=ya.create("idb-set",{originalErrorMessage:e?.message});pr.warn(i.message)}}}function ZS(n){return`${n.name}!${n.options.appId}`}const nj=1024,ij=30;class sj{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new aj(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=KE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>ij){const r=oj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){pr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=KE(),{heartbeatsToSend:e,unsentEntries:i}=rj(this._heartbeatsCache.heartbeats),r=Hf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return pr.warn(t),""}}}function KE(){return new Date().toISOString().substring(0,10)}function rj(n,t=nj){const e=[];let i=n.slice();for(const r of n){const o=e.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),QE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),QE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class aj{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G4()?Y4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await ej(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return WE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return WE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function QE(n){return Hf(JSON.stringify({version:2,heartbeats:n})).length}function oj(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function lj(n){Ao(new Ea("platform-logger",t=>new bL(t),"PRIVATE")),Ao(new Ea("heartbeat",t=>new sj(t),"PRIVATE")),As(Oy,YE,n),As(Oy,YE,"esm2020"),As("fire-js","")}lj("");var cj="firebase",uj="12.9.0";As(cj,uj,"app");function tA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hj=tA,eA=new ph("auth","Firebase",tA());const qf=new O0("@firebase/auth");function dj(n,...t){qf.logLevel<=$t.WARN&&qf.warn(`Auth (${Mo}): ${n}`,...t)}function Tf(n,...t){qf.logLevel<=$t.ERROR&&qf.error(`Auth (${Mo}): ${n}`,...t)}function Zi(n,...t){throw L0(n,...t)}function Cs(n,...t){return L0(n,...t)}function nA(n,t,e){const i={...hj(),[t]:e};return new ph("auth","Firebase",i).create(t,{appName:n.name})}function _a(n){return nA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L0(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return eA.create(n,...t)}function Ct(n,t,...e){if(!n)throw L0(t,...e)}function ur(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Tf(t),new Error(t)}function yr(n,t){n||ur(t)}function jy(){return typeof self<"u"&&self.location?.href||""}function fj(){return XE()==="http:"||XE()==="https:"}function XE(){return typeof self<"u"&&self.location?.protocol||null}function mj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fj()||B4()||"connection"in navigator)?navigator.onLine:!0}function gj(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class _h{constructor(t,e){this.shortDelay=t,this.longDelay=e,yr(e>t,"Short delay should be less than long delay!"),this.isMobile=V4()||F4()}get(){return mj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function j0(n,t){yr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class iA{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const pj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const yj=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_j=new _h(3e4,6e4);function Oa(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function xr(n,t,e,i,r={}){return sA(n,r,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=yh({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:t,headers:d,...o};return z4()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Ma(n.emulatorConfig.host)&&(f.credentials="include"),iA.fetch()(await rA(n,n.config.apiHost,e,u),f)})}async function sA(n,t,e){n._canInitEmulator=!1;const i={...pj,...t};try{const r=new vj(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw hf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw hf(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw hf(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw hf(n,"user-disabled",l);const p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw nA(n,p,f);Zi(n,p)}}catch(r){if(r instanceof Ps)throw r;Zi(n,"network-request-failed",{message:String(r)})}}async function bm(n,t,e,i,r={}){const o=await xr(n,t,e,i,r);return"mfaPendingCredential"in o&&Zi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function rA(n,t,e,i){const r=`${t}${e}?${i}`,o=n,l=o.config.emulator?j0(n.config,r):`${n.config.apiScheme}://${r}`;return yj.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function bj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vj{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Cs(this.auth,"network-request-failed")),_j.get())})}}function hf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Cs(n,t,i);return r.customData._tokenResponse=e,r}function JE(n){return n!==void 0&&n.enterprise!==void 0}class xj{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return bj(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wj(n,t){return xr(n,"GET","/v2/recaptchaConfig",Oa(n,t))}async function Ej(n,t){return xr(n,"POST","/v1/accounts:delete",t)}async function Gf(n,t){return xr(n,"POST","/v1/accounts:lookup",t)}function Lu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Tj(n,t=!1){const e=Me(n),i=await e.getIdToken(t),r=V0(i);Ct(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:i,authTime:Lu(ay(r.auth_time)),issuedAtTime:Lu(ay(r.iat)),expirationTime:Lu(ay(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function ay(n){return Number(n)*1e3}function V0(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Tf("JWT malformed, contained fewer than 3 sections"),null;try{const r=HS(e);return r?JSON.parse(r):(Tf("Failed to decode base64 JWT payload"),null)}catch(r){return Tf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function ZE(n){const t=V0(n);return Ct(t,"internal-error"),Ct(typeof t.exp<"u","internal-error"),Ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Zu(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Ps&&Sj(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function Sj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class Aj{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lu(this.lastLoginAt),this.creationTime=Lu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Yf(n){const t=n.auth,e=await n.getIdToken(),i=await Zu(n,Gf(t,{idToken:e}));Ct(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?aA(r.providerUserInfo):[],l=Rj(n.providerData,o),u=n.isAnonymous,d=!(n.email&&r.passwordHash)&&!l?.length,f=u?d:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Vy(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function Cj(n){const t=Me(n);await Yf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Rj(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function aA(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function Ij(n,t){const e=await sA(n,{},async()=>{const i=yh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=await rA(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:i};return n.emulatorConfig&&Ma(n.emulatorConfig.host)&&(d.credentials="include"),iA.fetch()(l,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function Nj(n,t){return xr(n,"POST","/v2/accounts:revokeToken",Oa(n,t))}class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ct(t.idToken,"internal-error"),Ct(typeof t.idToken<"u","internal-error"),Ct(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ZE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ct(t.length!==0,"internal-error");const e=ZE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await Ij(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,l=new jl;return i&&(Ct(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(Ct(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),o&&(Ct(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return ur("not implemented")}}function sa(n,t){Ct(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ki{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new Aj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Vy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Zu(this,this.stsTokenManager.getToken(this.auth,t));return Ct(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Tj(this,t)}reload(){return Cj(this)}_assign(t){this!==t&&(Ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ki({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Yf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Di(this.auth.app))return Promise.reject(_a(this.auth));const t=await this.getIdToken();return await Zu(this,Ej(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,d=e._redirectEventId??void 0,f=e.createdAt??void 0,p=e.lastLoginAt??void 0,{uid:_,emailVerified:v,isAnonymous:E,providerData:S,stsTokenManager:A}=e;Ct(_&&A,t,"internal-error");const C=jl.fromJSON(this.name,A);Ct(typeof _=="string",t,"internal-error"),sa(i,t.name),sa(r,t.name),Ct(typeof v=="boolean",t,"internal-error"),Ct(typeof E=="boolean",t,"internal-error"),sa(o,t.name),sa(l,t.name),sa(u,t.name),sa(d,t.name),sa(f,t.name),sa(p,t.name);const M=new Ki({uid:_,auth:t,email:r,emailVerified:v,displayName:i,isAnonymous:E,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:C,createdAt:f,lastLoginAt:p});return S&&Array.isArray(S)&&(M.providerData=S.map(L=>({...L}))),d&&(M._redirectEventId=d),M}static async _fromIdTokenResponse(t,e,i=!1){const r=new jl;r.updateFromServerResponse(e);const o=new Ki({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Yf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Ct(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?aA(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,u=new jl;u.updateFromIdToken(i);const d=new Ki({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Vy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,f),d}}const t1=new Map;function hr(n){yr(n instanceof Function,"Expected a class definition");let t=t1.get(n);return t?(yr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,t1.set(n,t),t)}class oA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}oA.type="NONE";const e1=oA;function Sf(n,t,e){return`firebase:${n}:${t}:${e}`}class Vl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Sf(this.userKey,r.apiKey,o),this.fullPersistenceKey=Sf("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Gf(this.auth,{idToken:t}).catch(()=>{});return e?Ki._fromGetAccountInfoResponse(this.auth,e,t):null}return Ki._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Vl(hr(e1),t,i);const r=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||hr(e1);const l=Sf(i,t.config.apiKey,t.name);let u=null;for(const f of e)try{const p=await f._get(l);if(p){let _;if(typeof p=="string"){const v=await Gf(t,{idToken:p}).catch(()=>{});if(!v)break;_=await Ki._fromGetAccountInfoResponse(t,v,p)}else _=Ki._fromJSON(t,p);f!==o&&(u=_),o=f;break}}catch{}const d=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Vl(o,t,i):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new Vl(o,t,i))}}function n1(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(hA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lA(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(fA(t))return"Blackberry";if(mA(t))return"Webos";if(cA(t))return"Safari";if((t.includes("chrome/")||uA(t))&&!t.includes("edge/"))return"Chrome";if(dA(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function lA(n=Ln()){return/firefox\//i.test(n)}function cA(n=Ln()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function uA(n=Ln()){return/crios\//i.test(n)}function hA(n=Ln()){return/iemobile/i.test(n)}function dA(n=Ln()){return/android/i.test(n)}function fA(n=Ln()){return/blackberry/i.test(n)}function mA(n=Ln()){return/webos/i.test(n)}function U0(n=Ln()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kj(n=Ln()){return U0(n)&&!!window.navigator?.standalone}function Dj(){return H4()&&document.documentMode===10}function gA(n=Ln()){return U0(n)||dA(n)||mA(n)||fA(n)||/windows phone/i.test(n)||hA(n)}function pA(n,t=[]){let e;switch(n){case"Browser":e=n1(Ln());break;case"Worker":e=`${n1(Ln())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Mo}/${i}`}class Mj{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const d=t(o);l(d)}catch(d){u(d)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function Oj(n,t={}){return xr(n,"GET","/v2/passwordPolicy",Oa(n,t))}const Pj=6;class Lj{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??Pj,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class jj{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i1(this),this.idTokenSubscription=new i1(this),this.beforeStateQueue=new Mj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=hr(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Vl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Gf(this,{idToken:t}),i=await Ki._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Di(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Yf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=gj()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Di(this.app))return Promise.reject(_a(this));const e=t?Me(t):null;return e&&Ct(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Di(this.app)?Promise.reject(_a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Di(this.app)?Promise.reject(_a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Oj(this),e=new Lj(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ph("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await Nj(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&hr(t)||this._popupRedirectResolver;Ct(e,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[hr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,r);return()=>{l=!0,d()}}else{const d=t.addObserver(e);return()=>{l=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=pA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&dj(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Oo(n){return Me(n)}class i1{constructor(t){this.auth=t,this.observer=null,this.addObserver=X4(e=>this.observer=e)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Vj(n){vm=n}function yA(n){return vm.loadJS(n)}function Uj(){return vm.recaptchaEnterpriseScript}function zj(){return vm.gapiScript}function Bj(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Fj{constructor(){this.enterprise=new Hj}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class Hj{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const qj="recaptcha-enterprise",_A="NO_RECAPTCHA";class Gj{constructor(t){this.type=qj,this.auth=Oo(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{wj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new xj(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function r(o,l,u){const d=window.grecaptcha;JE(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(f=>{l(f)}).catch(()=>{l(_A)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Fj().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&JE(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=Uj();d.length!==0&&(d+=u),yA(d).then(()=>{r(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function s1(n,t,e,i=!1,r=!1){const o=new Gj(n);let l;if(r)l=_A;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Uy(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await s1(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await s1(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(o)})}function Yj(n,t){const e=ym(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(So(o,t??{}))return r;Zi(r,"already-initialized")}return e.initialize({options:t})}function $j(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(hr);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function Wj(n,t,e){const i=Oo(n);Ct(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=bA(t),{host:l,port:u}=Kj(t),d=u===null?"":`:${u}`,f={url:`${o}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Ct(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ct(So(f,i.config.emulator)&&So(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Ma(l)?(D0(`${o}//${l}${d}`),M0("Auth",!0)):Qj()}function bA(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function Kj(n){const t=bA(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:r1(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:r1(l)}}}function r1(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function Qj(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class z0{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ur("not implemented")}_getIdTokenResponse(t){return ur("not implemented")}_linkToIdToken(t,e){return ur("not implemented")}_getReauthenticationResolver(t){return ur("not implemented")}}async function Xj(n,t){return xr(n,"POST","/v1/accounts:signUp",t)}async function Jj(n,t){return bm(n,"POST","/v1/accounts:signInWithPassword",Oa(n,t))}async function vA(n,t){return xr(n,"POST","/v1/accounts:sendOobCode",Oa(n,t))}async function Zj(n,t){return vA(n,t)}async function tV(n,t){return vA(n,t)}async function eV(n,t){return bm(n,"POST","/v1/accounts:signInWithEmailLink",Oa(n,t))}async function nV(n,t){return bm(n,"POST","/v1/accounts:signInWithEmailLink",Oa(n,t))}class th extends z0{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new th(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new th(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uy(t,e,"signInWithPassword",Jj);case"emailLink":return eV(t,{email:this._email,oobCode:this._password});default:Zi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Uy(t,i,"signUpPassword",Xj);case"emailLink":return nV(t,{idToken:e,email:this._email,oobCode:this._password});default:Zi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Ul(n,t){return bm(n,"POST","/v1/accounts:signInWithIdp",Oa(n,t))}const iV="http://localhost";class Co extends z0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Co(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Zi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const l=new Co(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return Ul(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Ul(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ul(t,e)}buildRequest(){const t={requestUri:iV,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=yh(e)}return t}}function sV(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function rV(n){const t=Eu(Tu(n)).link,e=t?Eu(Tu(t)).deep_link_id:null,i=Eu(Tu(n)).deep_link_id;return(i?Eu(Tu(i)).link:null)||i||e||t||n}class B0{constructor(t){const e=Eu(Tu(t)),i=e.apiKey??null,r=e.oobCode??null,o=sV(e.mode??null);Ct(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=rV(t);try{return new B0(e)}catch{return null}}}class sc{constructor(){this.providerId=sc.PROVIDER_ID}static credential(t,e){return th._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=B0.parseLink(e);return Ct(i,"argument-error"),th._fromEmailAndCode(t,i.code,i.tenantId)}}sc.PROVIDER_ID="password";sc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class xA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class bh extends xA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ra extends bh{constructor(){super("facebook.com")}static credential(t){return Co._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ra.credentialFromTaggedObject(t)}static credentialFromError(t){return ra.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ra.credential(t.oauthAccessToken)}catch{return null}}}ra.FACEBOOK_SIGN_IN_METHOD="facebook.com";ra.PROVIDER_ID="facebook.com";class aa extends bh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Co._fromParams({providerId:aa.PROVIDER_ID,signInMethod:aa.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return aa.credentialFromTaggedObject(t)}static credentialFromError(t){return aa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return aa.credential(e,i)}catch{return null}}}aa.GOOGLE_SIGN_IN_METHOD="google.com";aa.PROVIDER_ID="google.com";class oa extends bh{constructor(){super("github.com")}static credential(t){return Co._fromParams({providerId:oa.PROVIDER_ID,signInMethod:oa.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return oa.credentialFromTaggedObject(t)}static credentialFromError(t){return oa.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return oa.credential(t.oauthAccessToken)}catch{return null}}}oa.GITHUB_SIGN_IN_METHOD="github.com";oa.PROVIDER_ID="github.com";class la extends bh{constructor(){super("twitter.com")}static credential(t,e){return Co._fromParams({providerId:la.PROVIDER_ID,signInMethod:la.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return la.credentialFromTaggedObject(t)}static credentialFromError(t){return la.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return la.credential(e,i)}catch{return null}}}la.TWITTER_SIGN_IN_METHOD="twitter.com";la.PROVIDER_ID="twitter.com";class $l{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await Ki._fromIdTokenResponse(t,i,r),l=a1(i);return new $l({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=a1(i);return new $l({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function a1(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class $f extends Ps{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,$f.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new $f(t,e,i,r)}}function wA(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?$f._fromErrorAndOperation(n,o,t,i):o})}async function aV(n,t,e=!1){const i=await Zu(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return $l._forOperation(n,"link",i)}async function oV(n,t,e=!1){const{auth:i}=n;if(Di(i.app))return Promise.reject(_a(i));const r="reauthenticate";try{const o=await Zu(n,wA(i,r,t,n),e);Ct(o.idToken,i,"internal-error");const l=V0(o.idToken);Ct(l,i,"internal-error");const{sub:u}=l;return Ct(n.uid===u,i,"user-mismatch"),$l._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Zi(i,"user-mismatch"),o}}async function EA(n,t,e=!1){if(Di(n.app))return Promise.reject(_a(n));const i="signIn",r=await wA(n,i,t),o=await $l._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function lV(n,t){return EA(Oo(n),t)}async function cV(n){const t=Oo(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function uV(n,t,e){const i=Oo(n);await Uy(i,{requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"},"getOobCode",tV)}function hV(n,t,e){return Di(n.app)?Promise.reject(_a(n)):lV(Me(n),sc.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&cV(n),i})}async function TA(n,t){const e=Me(n),r={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:o}=await Zj(e.auth,r);o!==n.email&&await n.reload()}function dV(n,t,e,i){return Me(n).onIdTokenChanged(t,e,i)}function fV(n,t,e){return Me(n).beforeAuthStateChanged(t,e)}function mV(n,t,e,i){return Me(n).onAuthStateChanged(t,e,i)}function SA(n){return Me(n).signOut()}const Wf="__sak";class AA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Wf,"1"),this.storage.removeItem(Wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const gV=1e3,pV=10;class CA extends AA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);Dj()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,pV):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},gV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}CA.type="LOCAL";const yV=CA;class RA extends AA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}RA.type="SESSION";const IA=RA;function _V(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class xm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new xm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,l=this.handlersMap[r];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(e.origin,o)),d=await _V(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xm.receivers=[];function F0(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class bV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const f=F0("",20);r.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(_){const v=_;if(v.data.eventId===f)switch(v.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(v.data.response);break;default:clearTimeout(p),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Rs(){return window}function vV(n){Rs().location.href=n}function NA(){return typeof Rs().WorkerGlobalScope<"u"&&typeof Rs().importScripts=="function"}async function xV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wV(){return navigator?.serviceWorker?.controller||null}function EV(){return NA()?self:null}const kA="firebaseLocalStorageDb",TV=1,Kf="firebaseLocalStorage",DA="fbase_key";class vh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function wm(n,t){return n.transaction([Kf],t?"readwrite":"readonly").objectStore(Kf)}function SV(){const n=indexedDB.deleteDatabase(kA);return new vh(n).toPromise()}function zy(){const n=indexedDB.open(kA,TV);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Kf,{keyPath:DA})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Kf)?t(i):(i.close(),await SV(),t(await zy()))})})}async function o1(n,t,e){const i=wm(n,!0).put({[DA]:t,value:e});return new vh(i).toPromise()}async function AV(n,t){const e=wm(n,!1).get(t),i=await new vh(e).toPromise();return i===void 0?null:i.value}function l1(n,t){const e=wm(n,!0).delete(t);return new vh(e).toPromise()}const CV=800,RV=3;class MA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await zy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>RV)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xm._getInstance(EV()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await xV(),!this.activeServiceWorker)return;this.sender=new bV(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||wV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await zy();return await o1(t,Wf,"1"),await l1(t,Wf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>o1(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>AV(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>l1(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=wm(r,!1).getAll();return new vh(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MA.type="LOCAL";const IV=MA;new _h(3e4,6e4);function NV(n,t){return t?hr(t):(Ct(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class H0 extends z0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ul(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ul(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ul(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function kV(n){return EA(n.auth,new H0(n),n.bypassAuthState)}function DV(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),oV(e,new H0(n),n.bypassAuthState)}async function MV(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),aV(e,new H0(n),n.bypassAuthState)}class OA{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kV;case"linkViaPopup":case"linkViaRedirect":return MV;case"reauthViaPopup":case"reauthViaRedirect":return DV;default:Zi(this.auth,"internal-error")}}resolve(t){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OV=new _h(2e3,1e4);class Pl extends OA{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Pl.currentPopupAction&&Pl.currentPopupAction.cancel(),Pl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const t=F0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,OV.get())};t()}}Pl.currentPopupAction=null;const PV="pendingRedirect",Af=new Map;class LV extends OA{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Af.get(this.auth._key());if(!t){try{const i=await jV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Af.set(this.auth._key(),t)}return this.bypassAuthState||Af.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jV(n,t){const e=zV(t),i=UV(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function VV(n,t){Af.set(n._key(),t)}function UV(n){return hr(n._redirectPersistence)}function zV(n){return Sf(PV,n.config.apiKey,n.name)}async function BV(n,t,e=!1){if(Di(n.app))return Promise.reject(_a(n));const i=Oo(n),r=NV(i,t),l=await new LV(i,r,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}const FV=600*1e3;class HV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qV(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!PA(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Cs(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=FV&&this.cachedEventUids.clear(),this.cachedEventUids.has(c1(t))}saveEventToCache(t){this.cachedEventUids.add(c1(t)),this.lastProcessedEventTime=Date.now()}}function c1(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function PA({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function qV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PA(n);default:return!1}}async function GV(n,t={}){return xr(n,"GET","/v1/projects",t)}const YV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$V=/^https?/;async function WV(n){if(n.config.emulator)return;const{authorizedDomains:t}=await GV(n);for(const e of t)try{if(KV(e))return}catch{}Zi(n,"unauthorized-domain")}function KV(n){const t=jy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!$V.test(e))return!1;if(YV.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const QV=new _h(3e4,6e4);function u1(){const n=Rs().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function XV(n){return new Promise((t,e)=>{function i(){u1(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{u1(),e(Cs(n,"network-request-failed"))},timeout:QV.get()})}if(Rs().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Rs().gapi?.load)i();else{const r=Bj("iframefcb");return Rs()[r]=()=>{gapi.load?i():e(Cs(n,"network-request-failed"))},yA(`${zj()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw Cf=null,t})}let Cf=null;function JV(n){return Cf=Cf||XV(n),Cf}const ZV=new _h(5e3,15e3),t5="__/auth/iframe",e5="emulator/auth/iframe",n5={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i5=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s5(n){const t=n.config;Ct(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?j0(t,e5):`https://${n.config.authDomain}/${t5}`,i={apiKey:t.apiKey,appName:n.name,v:Mo},r=i5.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${yh(i).slice(1)}`}async function r5(n){const t=await JV(n),e=Rs().gapi;return Ct(e,n,"internal-error"),t.open({where:document.body,url:s5(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n5,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=Cs(n,"network-request-failed"),u=Rs().setTimeout(()=>{o(l)},ZV.get());function d(){Rs().clearTimeout(u),r(i)}i.ping(d).then(d,()=>{o(l)})}))}const a5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},o5=500,l5=600,c5="_blank",u5="http://localhost";class h1{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h5(n,t,e,i=o5,r=l5){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const d={...a5,width:i.toString(),height:r.toString(),top:o,left:l},f=Ln().toLowerCase();e&&(u=uA(f)?c5:e),lA(f)&&(t=t||u5,d.scrollbars="yes");const p=Object.entries(d).reduce((v,[E,S])=>`${v}${E}=${S},`,"");if(kj(f)&&u!=="_self")return d5(t||"",u),new h1(null);const _=window.open(t||"",u,p);Ct(_,n,"popup-blocked");try{_.focus()}catch{}return new h1(_)}function d5(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const f5="__/auth/handler",m5="emulator/auth/handler",g5=encodeURIComponent("fac");async function d1(n,t,e,i,r,o){Ct(n.config.authDomain,n,"auth-domain-config-required"),Ct(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Mo,eventId:r};if(t instanceof xA){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",Q4(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,_]of Object.entries({}))l[p]=_}if(t instanceof bh){const p=t.getScopes().filter(_=>_!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await n._getAppCheckToken(),f=d?`#${g5}=${encodeURIComponent(d)}`:"";return`${p5(n)}?${yh(u).slice(1)}${f}`}function p5({config:n}){return n.emulator?j0(n,m5):`https://${n.authDomain}/${f5}`}const oy="webStorageSupport";class y5{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IA,this._completeRedirectFn=BV,this._overrideRedirectResult=VV}async _openPopup(t,e,i,r){yr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await d1(t,e,i,jy(),r);return h5(t,o,F0())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await d1(t,e,i,jy(),r);return vV(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(yr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await r5(t),i=new HV(t);return e.register("authEvent",r=>(Ct(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(oy,{type:oy},r=>{const o=r?.[0]?.[oy];o!==void 0&&e(!!o),Zi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=WV(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return gA()||cA()||U0()}}const _5=y5;var f1="@firebase/auth",m1="1.12.0";class b5{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function v5(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function x5(n){Ao(new Ea("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Ct(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pA(n)},f=new jj(i,r,o,d);return $j(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ao(new Ea("auth-internal",t=>{const e=Oo(t.getProvider("auth").getImmediate());return(i=>new b5(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(f1,m1,v5(n)),As(f1,m1,"esm2020")}const w5=300,E5=$S("authIdTokenMaxAge")||w5;let g1=null;const T5=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>E5)return;const r=e?.token;g1!==r&&(g1=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function S5(n=_m()){const t=ym(n,"auth");if(t.isInitialized())return t.getImmediate();const e=Yj(n,{popupRedirectResolver:_5,persistence:[IV,yV,IA]}),i=$S("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=T5(o.toString());fV(e,l,()=>l(e.currentUser)),dV(e,u=>l(u))}}const r=qS("auth");return r&&Wj(e,`http://${r}`),e}function A5(){return document.getElementsByTagName("head")?.[0]??document}Vj({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=Cs("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",A5().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});x5("Browser");var p1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ba,LA;(function(){var n;function t(N,I){function D(){}D.prototype=I.prototype,N.F=I.prototype,N.prototype=new D,N.prototype.constructor=N,N.D=function(j,P,U){for(var O=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)O[Nt-2]=arguments[Nt];return I.prototype[P].apply(j,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(N,I,D){D||(D=0);const j=Array(16);if(typeof I=="string")for(var P=0;P<16;++P)j[P]=I.charCodeAt(D++)|I.charCodeAt(D++)<<8|I.charCodeAt(D++)<<16|I.charCodeAt(D++)<<24;else for(P=0;P<16;++P)j[P]=I[D++]|I[D++]<<8|I[D++]<<16|I[D++]<<24;I=N.g[0],D=N.g[1],P=N.g[2];let U=N.g[3],O;O=I+(U^D&(P^U))+j[0]+3614090360&4294967295,I=D+(O<<7&4294967295|O>>>25),O=U+(P^I&(D^P))+j[1]+3905402710&4294967295,U=I+(O<<12&4294967295|O>>>20),O=P+(D^U&(I^D))+j[2]+606105819&4294967295,P=U+(O<<17&4294967295|O>>>15),O=D+(I^P&(U^I))+j[3]+3250441966&4294967295,D=P+(O<<22&4294967295|O>>>10),O=I+(U^D&(P^U))+j[4]+4118548399&4294967295,I=D+(O<<7&4294967295|O>>>25),O=U+(P^I&(D^P))+j[5]+1200080426&4294967295,U=I+(O<<12&4294967295|O>>>20),O=P+(D^U&(I^D))+j[6]+2821735955&4294967295,P=U+(O<<17&4294967295|O>>>15),O=D+(I^P&(U^I))+j[7]+4249261313&4294967295,D=P+(O<<22&4294967295|O>>>10),O=I+(U^D&(P^U))+j[8]+1770035416&4294967295,I=D+(O<<7&4294967295|O>>>25),O=U+(P^I&(D^P))+j[9]+2336552879&4294967295,U=I+(O<<12&4294967295|O>>>20),O=P+(D^U&(I^D))+j[10]+4294925233&4294967295,P=U+(O<<17&4294967295|O>>>15),O=D+(I^P&(U^I))+j[11]+2304563134&4294967295,D=P+(O<<22&4294967295|O>>>10),O=I+(U^D&(P^U))+j[12]+1804603682&4294967295,I=D+(O<<7&4294967295|O>>>25),O=U+(P^I&(D^P))+j[13]+4254626195&4294967295,U=I+(O<<12&4294967295|O>>>20),O=P+(D^U&(I^D))+j[14]+2792965006&4294967295,P=U+(O<<17&4294967295|O>>>15),O=D+(I^P&(U^I))+j[15]+1236535329&4294967295,D=P+(O<<22&4294967295|O>>>10),O=I+(P^U&(D^P))+j[1]+4129170786&4294967295,I=D+(O<<5&4294967295|O>>>27),O=U+(D^P&(I^D))+j[6]+3225465664&4294967295,U=I+(O<<9&4294967295|O>>>23),O=P+(I^D&(U^I))+j[11]+643717713&4294967295,P=U+(O<<14&4294967295|O>>>18),O=D+(U^I&(P^U))+j[0]+3921069994&4294967295,D=P+(O<<20&4294967295|O>>>12),O=I+(P^U&(D^P))+j[5]+3593408605&4294967295,I=D+(O<<5&4294967295|O>>>27),O=U+(D^P&(I^D))+j[10]+38016083&4294967295,U=I+(O<<9&4294967295|O>>>23),O=P+(I^D&(U^I))+j[15]+3634488961&4294967295,P=U+(O<<14&4294967295|O>>>18),O=D+(U^I&(P^U))+j[4]+3889429448&4294967295,D=P+(O<<20&4294967295|O>>>12),O=I+(P^U&(D^P))+j[9]+568446438&4294967295,I=D+(O<<5&4294967295|O>>>27),O=U+(D^P&(I^D))+j[14]+3275163606&4294967295,U=I+(O<<9&4294967295|O>>>23),O=P+(I^D&(U^I))+j[3]+4107603335&4294967295,P=U+(O<<14&4294967295|O>>>18),O=D+(U^I&(P^U))+j[8]+1163531501&4294967295,D=P+(O<<20&4294967295|O>>>12),O=I+(P^U&(D^P))+j[13]+2850285829&4294967295,I=D+(O<<5&4294967295|O>>>27),O=U+(D^P&(I^D))+j[2]+4243563512&4294967295,U=I+(O<<9&4294967295|O>>>23),O=P+(I^D&(U^I))+j[7]+1735328473&4294967295,P=U+(O<<14&4294967295|O>>>18),O=D+(U^I&(P^U))+j[12]+2368359562&4294967295,D=P+(O<<20&4294967295|O>>>12),O=I+(D^P^U)+j[5]+4294588738&4294967295,I=D+(O<<4&4294967295|O>>>28),O=U+(I^D^P)+j[8]+2272392833&4294967295,U=I+(O<<11&4294967295|O>>>21),O=P+(U^I^D)+j[11]+1839030562&4294967295,P=U+(O<<16&4294967295|O>>>16),O=D+(P^U^I)+j[14]+4259657740&4294967295,D=P+(O<<23&4294967295|O>>>9),O=I+(D^P^U)+j[1]+2763975236&4294967295,I=D+(O<<4&4294967295|O>>>28),O=U+(I^D^P)+j[4]+1272893353&4294967295,U=I+(O<<11&4294967295|O>>>21),O=P+(U^I^D)+j[7]+4139469664&4294967295,P=U+(O<<16&4294967295|O>>>16),O=D+(P^U^I)+j[10]+3200236656&4294967295,D=P+(O<<23&4294967295|O>>>9),O=I+(D^P^U)+j[13]+681279174&4294967295,I=D+(O<<4&4294967295|O>>>28),O=U+(I^D^P)+j[0]+3936430074&4294967295,U=I+(O<<11&4294967295|O>>>21),O=P+(U^I^D)+j[3]+3572445317&4294967295,P=U+(O<<16&4294967295|O>>>16),O=D+(P^U^I)+j[6]+76029189&4294967295,D=P+(O<<23&4294967295|O>>>9),O=I+(D^P^U)+j[9]+3654602809&4294967295,I=D+(O<<4&4294967295|O>>>28),O=U+(I^D^P)+j[12]+3873151461&4294967295,U=I+(O<<11&4294967295|O>>>21),O=P+(U^I^D)+j[15]+530742520&4294967295,P=U+(O<<16&4294967295|O>>>16),O=D+(P^U^I)+j[2]+3299628645&4294967295,D=P+(O<<23&4294967295|O>>>9),O=I+(P^(D|~U))+j[0]+4096336452&4294967295,I=D+(O<<6&4294967295|O>>>26),O=U+(D^(I|~P))+j[7]+1126891415&4294967295,U=I+(O<<10&4294967295|O>>>22),O=P+(I^(U|~D))+j[14]+2878612391&4294967295,P=U+(O<<15&4294967295|O>>>17),O=D+(U^(P|~I))+j[5]+4237533241&4294967295,D=P+(O<<21&4294967295|O>>>11),O=I+(P^(D|~U))+j[12]+1700485571&4294967295,I=D+(O<<6&4294967295|O>>>26),O=U+(D^(I|~P))+j[3]+2399980690&4294967295,U=I+(O<<10&4294967295|O>>>22),O=P+(I^(U|~D))+j[10]+4293915773&4294967295,P=U+(O<<15&4294967295|O>>>17),O=D+(U^(P|~I))+j[1]+2240044497&4294967295,D=P+(O<<21&4294967295|O>>>11),O=I+(P^(D|~U))+j[8]+1873313359&4294967295,I=D+(O<<6&4294967295|O>>>26),O=U+(D^(I|~P))+j[15]+4264355552&4294967295,U=I+(O<<10&4294967295|O>>>22),O=P+(I^(U|~D))+j[6]+2734768916&4294967295,P=U+(O<<15&4294967295|O>>>17),O=D+(U^(P|~I))+j[13]+1309151649&4294967295,D=P+(O<<21&4294967295|O>>>11),O=I+(P^(D|~U))+j[4]+4149444226&4294967295,I=D+(O<<6&4294967295|O>>>26),O=U+(D^(I|~P))+j[11]+3174756917&4294967295,U=I+(O<<10&4294967295|O>>>22),O=P+(I^(U|~D))+j[2]+718787259&4294967295,P=U+(O<<15&4294967295|O>>>17),O=D+(U^(P|~I))+j[9]+3951481745&4294967295,N.g[0]=N.g[0]+I&4294967295,N.g[1]=N.g[1]+(P+(O<<21&4294967295|O>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+U&4294967295}i.prototype.v=function(N,I){I===void 0&&(I=N.length);const D=I-this.blockSize,j=this.C;let P=this.h,U=0;for(;U<I;){if(P==0)for(;U<=D;)r(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<I;)if(j[P++]=N.charCodeAt(U++),P==this.blockSize){r(this,j),P=0;break}}else for(;U<I;)if(j[P++]=N[U++],P==this.blockSize){r(this,j),P=0;break}}this.h=P,this.o+=I},i.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var I=1;I<N.length-8;++I)N[I]=0;I=this.o*8;for(var D=N.length-8;D<N.length;++D)N[D]=I&255,I/=256;for(this.v(N),N=Array(16),I=0,D=0;D<4;++D)for(let j=0;j<32;j+=8)N[I++]=this.g[D]>>>j&255;return N};function o(N,I){var D=u;return Object.prototype.hasOwnProperty.call(D,N)?D[N]:D[N]=I(N)}function l(N,I){this.h=I;const D=[];let j=!0;for(let P=N.length-1;P>=0;P--){const U=N[P]|0;j&&U==I||(D[P]=U,j=!1)}this.g=D}var u={};function d(N){return-128<=N&&N<128?o(N,function(I){return new l([I|0],I<0?-1:0)}):new l([N|0],N<0?-1:0)}function f(N){if(isNaN(N)||!isFinite(N))return _;if(N<0)return C(f(-N));const I=[];let D=1;for(let j=0;N>=D;j++)I[j]=N/D|0,D*=4294967296;return new l(I,0)}function p(N,I){if(N.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(N.charAt(0)=="-")return C(p(N.substring(1),I));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=f(Math.pow(I,8));let j=_;for(let U=0;U<N.length;U+=8){var P=Math.min(8,N.length-U);const O=parseInt(N.substring(U,U+P),I);P<8?(P=f(Math.pow(I,P)),j=j.j(P).add(f(O))):(j=j.j(D),j=j.add(f(O)))}return j}var _=d(0),v=d(1),E=d(16777216);n=l.prototype,n.m=function(){if(A(this))return-C(this).m();let N=0,I=1;for(let D=0;D<this.g.length;D++){const j=this.i(D);N+=(j>=0?j:4294967296+j)*I,I*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(S(this))return"0";if(A(this))return"-"+C(this).toString(N);const I=f(Math.pow(N,6));var D=this;let j="";for(;;){const P=Y(D,I).g;D=M(D,P.j(I));let U=((D.g.length>0?D.g[0]:D.h)>>>0).toString(N);if(D=P,S(D))return U+j;for(;U.length<6;)U="0"+U;j=U+j}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function S(N){if(N.h!=0)return!1;for(let I=0;I<N.g.length;I++)if(N.g[I]!=0)return!1;return!0}function A(N){return N.h==-1}n.l=function(N){return N=M(this,N),A(N)?-1:S(N)?0:1};function C(N){const I=N.g.length,D=[];for(let j=0;j<I;j++)D[j]=~N.g[j];return new l(D,~N.h).add(v)}n.abs=function(){return A(this)?C(this):this},n.add=function(N){const I=Math.max(this.g.length,N.g.length),D=[];let j=0;for(let P=0;P<=I;P++){let U=j+(this.i(P)&65535)+(N.i(P)&65535),O=(U>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);j=O>>>16,U&=65535,O&=65535,D[P]=O<<16|U}return new l(D,D[D.length-1]&-2147483648?-1:0)};function M(N,I){return N.add(C(I))}n.j=function(N){if(S(this)||S(N))return _;if(A(this))return A(N)?C(this).j(C(N)):C(C(this).j(N));if(A(N))return C(this.j(C(N)));if(this.l(E)<0&&N.l(E)<0)return f(this.m()*N.m());const I=this.g.length+N.g.length,D=[];for(var j=0;j<2*I;j++)D[j]=0;for(j=0;j<this.g.length;j++)for(let P=0;P<N.g.length;P++){const U=this.i(j)>>>16,O=this.i(j)&65535,Nt=N.i(P)>>>16,bt=N.i(P)&65535;D[2*j+2*P]+=O*bt,L(D,2*j+2*P),D[2*j+2*P+1]+=U*bt,L(D,2*j+2*P+1),D[2*j+2*P+1]+=O*Nt,L(D,2*j+2*P+1),D[2*j+2*P+2]+=U*Nt,L(D,2*j+2*P+2)}for(N=0;N<I;N++)D[N]=D[2*N+1]<<16|D[2*N];for(N=I;N<2*I;N++)D[N]=0;return new l(D,0)};function L(N,I){for(;(N[I]&65535)!=N[I];)N[I+1]+=N[I]>>>16,N[I]&=65535,I++}function H(N,I){this.g=N,this.h=I}function Y(N,I){if(S(I))throw Error("division by zero");if(S(N))return new H(_,_);if(A(N))return I=Y(C(N),I),new H(C(I.g),C(I.h));if(A(I))return I=Y(N,C(I)),new H(C(I.g),I.h);if(N.g.length>30){if(A(N)||A(I))throw Error("slowDivide_ only works with positive integers.");for(var D=v,j=I;j.l(N)<=0;)D=$(D),j=$(j);var P=et(D,1),U=et(j,1);for(j=et(j,2),D=et(D,2);!S(j);){var O=U.add(j);O.l(N)<=0&&(P=P.add(D),U=O),j=et(j,1),D=et(D,1)}return I=M(N,P.j(I)),new H(P,I)}for(P=_;N.l(I)>=0;){for(D=Math.max(1,Math.floor(N.m()/I.m())),j=Math.ceil(Math.log(D)/Math.LN2),j=j<=48?1:Math.pow(2,j-48),U=f(D),O=U.j(I);A(O)||O.l(N)>0;)D-=j,U=f(D),O=U.j(I);S(U)&&(U=v),P=P.add(U),N=M(N,O)}return new H(P,N)}n.B=function(N){return Y(this,N).h},n.and=function(N){const I=Math.max(this.g.length,N.g.length),D=[];for(let j=0;j<I;j++)D[j]=this.i(j)&N.i(j);return new l(D,this.h&N.h)},n.or=function(N){const I=Math.max(this.g.length,N.g.length),D=[];for(let j=0;j<I;j++)D[j]=this.i(j)|N.i(j);return new l(D,this.h|N.h)},n.xor=function(N){const I=Math.max(this.g.length,N.g.length),D=[];for(let j=0;j<I;j++)D[j]=this.i(j)^N.i(j);return new l(D,this.h^N.h)};function $(N){const I=N.g.length+1,D=[];for(let j=0;j<I;j++)D[j]=N.i(j)<<1|N.i(j-1)>>>31;return new l(D,N.h)}function et(N,I){const D=I>>5;I%=32;const j=N.g.length-D,P=[];for(let U=0;U<j;U++)P[U]=I>0?N.i(U+D)>>>I|N.i(U+D+1)<<32-I:N.i(U+D);return new l(P,N.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,LA=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,ba=l}).apply(typeof p1<"u"?p1:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var jA,Su,VA,Rf,By,UA,zA,BA;(function(){var n,t=Object.defineProperty;function e(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var x=0;x<m.length;++x){var T=m[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function r(m,x){if(x)t:{var T=i;m=m.split(".");for(var k=0;k<m.length-1;k++){var G=m[k];if(!(G in T))break t;T=T[G]}m=m[m.length-1],k=T[m],x=x(k),x!=k&&x!=null&&t(T,m,{configurable:!0,writable:!0,value:x})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(x){var T=[],k;for(k in x)Object.prototype.hasOwnProperty.call(x,k)&&T.push([k,x[k]]);return T}});var o=o||{},l=this||self;function u(m){var x=typeof m;return x=="object"&&m!=null||x=="function"}function d(m,x,T){return m.call.apply(m.bind,arguments)}function f(m,x,T){return f=d,f.apply(null,arguments)}function p(m,x){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),m.apply(this,k)}}function _(m,x){function T(){}T.prototype=x.prototype,m.Z=x.prototype,m.prototype=new T,m.prototype.constructor=m,m.Ob=function(k,G,J){for(var ht=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)ht[Lt-2]=arguments[Lt];return x.prototype[G].apply(k,ht)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function E(m){const x=m.length;if(x>0){const T=Array(x);for(let k=0;k<x;k++)T[k]=m[k];return T}return[]}function S(m,x){for(let k=1;k<arguments.length;k++){const G=arguments[k];var T=typeof G;if(T=T!="object"?T:G?Array.isArray(G)?"array":T:"null",T=="array"||T=="object"&&typeof G.length=="number"){T=m.length||0;const J=G.length||0;m.length=T+J;for(let ht=0;ht<J;ht++)m[T+ht]=G[ht]}else m.push(G)}}class A{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function C(m){l.setTimeout(()=>{throw m},0)}function M(){var m=N;let x=null;return m.g&&(x=m.g,m.g=m.g.next,m.g||(m.h=null),x.next=null),x}class L{constructor(){this.h=this.g=null}add(x,T){const k=H.get();k.set(x,T),this.h?this.h.next=k:this.g=k,this.h=k}}var H=new A(()=>new Y,m=>m.reset());class Y{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let $,et=!1,N=new L,I=()=>{const m=Promise.resolve(void 0);$=()=>{m.then(D)}};function D(){for(var m;m=M();){try{m.h.call(m.g)}catch(T){C(T)}var x=H;x.j(m),x.h<100&&(x.h++,m.next=x.g,x.g=m)}et=!1}function j(){this.u=this.u,this.C=this.C}j.prototype.u=!1,j.prototype.dispose=function(){this.u||(this.u=!0,this.N())},j.prototype[Symbol.dispose]=function(){this.dispose()},j.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(m,x){this.type=m,this.g=this.target=x,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var m=!1,x=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const T=()=>{};l.addEventListener("test",T,x),l.removeEventListener("test",T,x)}catch{}return m})();function O(m){return/^[\s\xa0]*$/.test(m)}function Nt(m,x){P.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,x)}_(Nt,P),Nt.prototype.init=function(m,x){const T=this.type=m.type,k=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=x,x=m.relatedTarget,x||(T=="mouseover"?x=m.fromElement:T=="mouseout"&&(x=m.toElement)),this.relatedTarget=x,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&Nt.Z.h.call(this)},Nt.prototype.h=function(){Nt.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),Q=0;function lt(m,x,T,k,G){this.listener=m,this.proxy=null,this.src=x,this.type=T,this.capture=!!k,this.ha=G,this.key=++Q,this.da=this.fa=!1}function ft(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function yt(m,x,T){for(const k in m)x.call(T,m[k],k,m)}function St(m,x){for(const T in m)x.call(void 0,m[T],T,m)}function z(m){const x={};for(const T in m)x[T]=m[T];return x}const nt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(m,x){let T,k;for(let G=1;G<arguments.length;G++){k=arguments[G];for(T in k)m[T]=k[T];for(let J=0;J<nt.length;J++)T=nt[J],Object.prototype.hasOwnProperty.call(k,T)&&(m[T]=k[T])}}function dt(m){this.src=m,this.g={},this.h=0}dt.prototype.add=function(m,x,T,k,G){const J=m.toString();m=this.g[J],m||(m=this.g[J]=[],this.h++);const ht=Tt(m,x,k,G);return ht>-1?(x=m[ht],T||(x.fa=!1)):(x=new lt(x,this.src,J,!!k,G),x.fa=T,m.push(x)),x};function xt(m,x){const T=x.type;if(T in m.g){var k=m.g[T],G=Array.prototype.indexOf.call(k,x,void 0),J;(J=G>=0)&&Array.prototype.splice.call(k,G,1),J&&(ft(x),m.g[T].length==0&&(delete m.g[T],m.h--))}}function Tt(m,x,T,k){for(let G=0;G<m.length;++G){const J=m[G];if(!J.da&&J.listener==x&&J.capture==!!T&&J.ha==k)return G}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),re={};function ce(m,x,T,k,G){if(Array.isArray(x)){for(let J=0;J<x.length;J++)ce(m,x[J],T,k,G);return null}return T=Tr(T),m&&m[bt]?m.J(x,T,u(k)?!!k.capture:!1,G):Zn(m,x,T,!1,k,G)}function Zn(m,x,T,k,G,J){if(!x)throw Error("Invalid event type");const ht=u(G)?!!G.capture:!!G;let Lt=pi(m);if(Lt||(m[zt]=Lt=new dt(m)),T=Lt.add(x,T,k,ht,J),T.proxy)return T;if(k=ct(),T.proxy=k,k.src=m,k.listener=T,m.addEventListener)U||(G=ht),G===void 0&&(G=!1),m.addEventListener(x.toString(),k,G);else if(m.attachEvent)m.attachEvent(Ke(x.toString()),k);else if(m.addListener&&m.removeListener)m.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ct(){function m(T){return x.call(m.src,m.listener,T)}const x=ti;return m}function Bt(m,x,T,k,G){if(Array.isArray(x))for(var J=0;J<x.length;J++)Bt(m,x[J],T,k,G);else k=u(k)?!!k.capture:!!k,T=Tr(T),m&&m[bt]?(m=m.i,J=String(x).toString(),J in m.g&&(x=m.g[J],T=Tt(x,T,k,G),T>-1&&(ft(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete m.g[J],m.h--)))):m&&(m=pi(m))&&(x=m.g[x.toString()],m=-1,x&&(m=Tt(x,T,k,G)),(T=m>-1?x[m]:null)&&Be(T))}function Be(m){if(typeof m!="number"&&m&&!m.da){var x=m.src;if(x&&x[bt])xt(x.i,m);else{var T=m.type,k=m.proxy;x.removeEventListener?x.removeEventListener(T,k,m.capture):x.detachEvent?x.detachEvent(Ke(T),k):x.addListener&&x.removeListener&&x.removeListener(k),(T=pi(x))?(xt(T,m),T.h==0&&(T.src=null,x[zt]=null)):ft(m)}}}function Ke(m){return m in re?re[m]:re[m]="on"+m}function ti(m,x){if(m.da)m=!0;else{x=new Nt(x,this);const T=m.listener,k=m.ha||m.src;m.fa&&Be(m),m=T.call(k,x)}return m}function pi(m){return m=m[zt],m instanceof dt?m:null}var Er="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tr(m){return typeof m=="function"?m:(m[Er]||(m[Er]=function(x){return m.handleEvent(x)}),m[Er])}function ke(){j.call(this),this.i=new dt(this),this.M=this,this.G=null}_(ke,j),ke.prototype[bt]=!0,ke.prototype.removeEventListener=function(m,x,T,k){Bt(this,m,x,T,k)};function Pe(m,x){var T,k=m.G;if(k)for(T=[];k;k=k.G)T.push(k);if(m=m.M,k=x.type||x,typeof x=="string")x=new P(x,m);else if(x instanceof P)x.target=x.target||m;else{var G=x;x=new P(k,m),ut(x,G)}G=!0;let J,ht;if(T)for(ht=T.length-1;ht>=0;ht--)J=x.g=T[ht],G=Pi(J,k,!0,x)&&G;if(J=x.g=m,G=Pi(J,k,!0,x)&&G,G=Pi(J,k,!1,x)&&G,T)for(ht=0;ht<T.length;ht++)J=x.g=T[ht],G=Pi(J,k,!1,x)&&G}ke.prototype.N=function(){if(ke.Z.N.call(this),this.i){var m=this.i;for(const x in m.g){const T=m.g[x];for(let k=0;k<T.length;k++)ft(T[k]);delete m.g[x],m.h--}}this.G=null},ke.prototype.J=function(m,x,T,k){return this.i.add(String(m),x,!1,T,k)},ke.prototype.K=function(m,x,T,k){return this.i.add(String(m),x,!0,T,k)};function Pi(m,x,T,k){if(x=m.i.g[String(x)],!x)return!0;x=x.concat();let G=!0;for(let J=0;J<x.length;++J){const ht=x[J];if(ht&&!ht.da&&ht.capture==T){const Lt=ht.listener,He=ht.ha||ht.src;ht.fa&&xt(m.i,ht),G=Lt.call(He,k)!==!1&&G}}return G&&!k.defaultPrevented}function jo(m,x){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=f(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:l.setTimeout(m,x||0)}function Va(m){m.g=jo(()=>{m.g=null,m.i&&(m.i=!1,Va(m))},m.l);const x=m.h;m.h=null,m.m.apply(null,x)}class dn extends j{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Va(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qe(m){j.call(this),this.h=m,this.g={}}_(Qe,j);var yi=[];function Li(m){yt(m.g,function(x,T){this.g.hasOwnProperty(T)&&Be(x)},m),m.g={}}Qe.prototype.N=function(){Qe.Z.N.call(this),Li(this)},Qe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var es=l.JSON.stringify,hc=l.JSON.parse,Vo=class{stringify(m){return l.JSON.stringify(m,void 0)}parse(m){return l.JSON.parse(m,void 0)}};function Uo(){}function _i(){}var tt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function gt(){P.call(this,"d")}_(gt,P);function Vt(){P.call(this,"c")}_(Vt,P);var It={},te=null;function ee(){return te=te||new ke}It.Ia="serverreachability";function De(m){P.call(this,It.Ia,m)}_(De,P);function Jt(m){const x=ee();Pe(x,new De(x))}It.STAT_EVENT="statevent";function Fe(m,x){P.call(this,It.STAT_EVENT,m),this.stat=x}_(Fe,P);function kt(m){const x=ee();Pe(x,new Fe(x,m))}It.Ja="timingevent";function ln(m,x){P.call(this,It.Ja,m),this.size=x}_(ln,P);function _n(m,x){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){m()},x)}function bn(){this.g=!0}bn.prototype.ua=function(){this.g=!1};function Sr(m,x,T,k,G,J){m.info(function(){if(m.g)if(J){var ht="",Lt=J.split("&");for(let ae=0;ae<Lt.length;ae++){var He=Lt[ae].split("=");if(He.length>1){const Ae=He[0];He=He[1];const wi=Ae.split("_");ht=wi.length>=2&&wi[1]=="type"?ht+(Ae+"="+He+"&"):ht+(Ae+"=redacted&")}}}else ht=null;else ht=J;return"XMLHTTP REQ ("+k+") [attempt "+G+"]: "+x+`
`+T+`
`+ht})}function Ls(m,x,T,k,G,J,ht){m.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+G+"]: "+x+`
`+T+`
`+J+" "+ht})}function ue(m,x,T,k){m.info(function(){return"XMLHTTP TEXT ("+x+"): "+ji(m,T)+(k?" "+k:"")})}function ei(m,x){m.info(function(){return"TIMEOUT: "+x})}bn.prototype.info=function(){};function ji(m,x){if(!m.g)return x;if(!x)return null;try{const J=JSON.parse(x);if(J){for(m=0;m<J.length;m++)if(Array.isArray(J[m])){var T=J[m];if(!(T.length<2)){var k=T[1];if(Array.isArray(k)&&!(k.length<1)){var G=k[0];if(G!="noop"&&G!="stop"&&G!="close")for(let ht=1;ht<k.length;ht++)k[ht]=""}}}}return es(J)}catch{return x}}var ni={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ns={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ar;function Ua(){}_(Ua,Uo),Ua.prototype.g=function(){return new XMLHttpRequest},Ar=new Ua;function js(m){return encodeURIComponent(String(m))}function Rh(m){var x=1;m=m.split(":");const T=[];for(;x>0&&m.length;)T.push(m.shift()),x--;return m.length&&T.push(m.join(":")),T}function Vi(m,x,T,k){this.j=m,this.i=x,this.l=T,this.S=k||1,this.V=new Qe(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ui}function Ui(){this.i=null,this.g="",this.h=!1}var Xe={},fn={};function is(m,x,T){m.M=1,m.A=za(Ze(x)),m.u=T,m.R=!0,zo(m,null)}function zo(m,x){m.F=Date.now(),ss(m),m.B=Ze(m.A);var T=m.B,k=m.S;Array.isArray(k)||(k=[String(k)]),qo(T.i,"t",k),m.C=0,T=m.j.L,m.h=new Ui,m.g=Hh(m.j,T?x:null,!m.u),m.P>0&&(m.O=new dn(f(m.Y,m,m.g),m.P)),x=m.V,T=m.g,k=m.ba;var G="readystatechange";Array.isArray(G)||(G&&(yi[0]=G.toString()),G=yi);for(let J=0;J<G.length;J++){const ht=ce(T,G[J],k||x.handleEvent,!1,x.h||x);if(!ht)break;x.g[ht.key]=ht}x=m.J?z(m.J):{},m.u?(m.v||(m.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,x)):(m.v="GET",m.g.ea(m.B,m.v,null,x)),Jt(),Sr(m.i,m.v,m.B,m.l,m.S,m.u)}Vi.prototype.ba=function(m){m=m.target;const x=this.O;x&&Fi(m)==3?x.j():this.Y(m)},Vi.prototype.Y=function(m){try{if(m==this.g)t:{const Lt=Fi(this.g),He=this.g.ya(),ae=this.g.ca();if(!(Lt<3)&&(Lt!=3||this.g&&(this.h.h||this.g.la()||vn(this.g)))){this.K||Lt!=4||He==7||(He==8||ae<=0?Jt(3):Jt(2)),rs(this);var x=this.g.ca();this.X=x;var T=Vm(this);if(this.o=x==200,Ls(this.i,this.v,this.B,this.l,this.S,Lt,x),this.o){if(this.U&&!this.L){e:{if(this.g){var k,G=this.g;if((k=G.g?G.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(k)){var J=k;break e}}J=null}if(m=J)ue(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,as(this,m);else{this.o=!1,this.m=3,kt(12),ii(this),bi(this);break t}}if(this.R){m=!0;let Ae;for(;!this.K&&this.C<T.length;)if(Ae=Nh(this,T),Ae==fn){Lt==4&&(this.m=4,kt(14),m=!1),ue(this.i,this.l,null,"[Incomplete Response]");break}else if(Ae==Xe){this.m=4,kt(15),ue(this.i,this.l,T,"[Invalid Chunk]"),m=!1;break}else ue(this.i,this.l,Ae,null),as(this,Ae);if(Ih(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||T.length!=0||this.h.h||(this.m=1,kt(16),m=!1),this.o=this.o&&m,!m)ue(this.i,this.l,T,"[Invalid Chunked Response]"),ii(this),bi(this);else if(T.length>0&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.aa&&!ht.P&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Ac(ht),ht.P=!0,kt(11))}}else ue(this.i,this.l,T,null),as(this,T);Lt==4&&ii(this),this.o&&!this.K&&(Lt==4?Uh(this.j,this):(this.o=!1,ss(this)))}else Us(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),ii(this),bi(this)}}}catch{}};function Vm(m){if(!Ih(m))return m.g.la();const x=vn(m.g);if(x==="")return"";let T="";const k=x.length,G=Fi(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return ii(m),bi(m),"";m.h.i=new l.TextDecoder}for(let J=0;J<k;J++)m.h.h=!0,T+=m.h.i.decode(x[J],{stream:!(G&&J==k-1)});return x.length=0,m.h.g+=T,m.C=0,m.h.g}function Ih(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function Nh(m,x){var T=m.C,k=x.indexOf(`
`,T);return k==-1?fn:(T=Number(x.substring(T,k)),isNaN(T)?Xe:(k+=1,k+T>x.length?fn:(x=x.slice(k,k+T),m.C=k+T,x)))}Vi.prototype.cancel=function(){this.K=!0,ii(this)};function ss(m){m.T=Date.now()+m.H,Bo(m,m.H)}function Bo(m,x){if(m.D!=null)throw Error("WatchDog timer not null");m.D=_n(f(m.aa,m),x)}function rs(m){m.D&&(l.clearTimeout(m.D),m.D=null)}Vi.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ei(this.i,this.B),this.M!=2&&(Jt(),kt(17)),ii(this),this.m=2,bi(this)):Bo(this,this.T-m)};function bi(m){m.j.I==0||m.K||Uh(m.j,m)}function ii(m){rs(m);var x=m.O;x&&typeof x.dispose=="function"&&x.dispose(),m.O=null,Li(m.V),m.g&&(x=m.g,m.g=null,x.abort(),x.dispose())}function as(m,x){try{var T=m.j;if(T.I!=0&&(T.g==m||ls(T.h,m))){if(!m.L&&ls(T.h,m)&&T.I==3){try{var k=T.Ba.g.parse(x)}catch{k=null}if(Array.isArray(k)&&k.length==3){var G=k;if(G[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<m.F)Ko(T),Or(T);else break t;$a(T),kt(18)}}else T.xa=G[1],0<T.xa-T.K&&G[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=_n(f(T.Va,T),6e3));os(T.h)<=1&&T.ta&&(T.ta=void 0)}else ms(T,11)}else if((m.L||T.g==m)&&Ko(T),!O(x))for(G=T.Ba.g.parse(x),x=0;x<G.length;x++){let ae=G[x];const Ae=ae[0];if(!(Ae<=T.K))if(T.K=Ae,ae=ae[1],T.I==2)if(ae[0]=="c"){T.M=ae[1],T.ba=ae[2];const wi=ae[3];wi!=null&&(T.ka=wi,T.j.info("VER="+T.ka));const gs=ae[4];gs!=null&&(T.za=gs,T.j.info("SVER="+T.za));const Hi=ae[5];Hi!=null&&typeof Hi=="number"&&Hi>0&&(k=1.5*Hi,T.O=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const qi=m.g;if(qi){const Wa=qi.g?qi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var J=k.h;J.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(J.j=J.l,J.g=new Set,J.h&&(mc(J,J.h),J.h=null))}if(k.G){const Qo=qi.g?qi.g.getResponseHeader("X-HTTP-Session-Id"):null;Qo&&(k.wa=Qo,he(k.J,k.G,Qo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-m.F,T.j.info("Handshake RTT: "+T.T+"ms")),k=T;var ht=m;if(k.na=Fh(k,k.L?k.ba:null,k.W),ht.L){gc(k.h,ht);var Lt=ht,He=k.O;He&&(Lt.H=He),Lt.D&&(rs(Lt),ss(Lt)),k.g=ht}else jh(k);T.i.length>0&&fs(T)}else ae[0]!="stop"&&ae[0]!="close"||ms(T,7);else T.I==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?ms(T,7):Tc(T):ae[0]!="noop"&&T.l&&T.l.qa(ae),T.A=0)}}Jt(4)}catch{}}var Je=class{constructor(m,x){this.g=m,this.map=x}};function dc(m){this.l=m||10,l.PerformanceNavigationTiming?(m=l.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function fc(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function os(m){return m.h?1:m.g?m.g.size:0}function ls(m,x){return m.h?m.h==x:m.g?m.g.has(x):!1}function mc(m,x){m.g?m.g.add(x):m.h=x}function gc(m,x){m.h&&m.h==x?m.h=null:m.g&&m.g.has(x)&&m.g.delete(x)}dc.prototype.cancel=function(){if(this.i=pc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function pc(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let x=m.i;for(const T of m.g.values())x=x.concat(T.G);return x}return E(m.i)}var kh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fo(m,x){if(m){m=m.split("&");for(let T=0;T<m.length;T++){const k=m[T].indexOf("=");let G,J=null;k>=0?(G=m[T].substring(0,k),J=m[T].substring(k+1)):G=m[T],x(G,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function si(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;m instanceof si?(this.l=m.l,mn(this,m.j),this.o=m.o,this.g=m.g,Cr(this,m.u),this.h=m.h,yc(this,Ph(m.i)),this.m=m.m):m&&(x=String(m).match(kh))?(this.l=!1,mn(this,x[1]||"",!0),this.o=cs(x[2]||""),this.g=cs(x[3]||"",!0),Cr(this,x[4]),this.h=cs(x[5]||"",!0),yc(this,x[6]||"",!0),this.m=cs(x[7]||"")):(this.l=!1,this.i=new Ir(null,this.l))}si.prototype.toString=function(){const m=[];var x=this.j;x&&m.push(Ba(x,Ho,!0),":");var T=this.g;return(T||x=="file")&&(m.push("//"),(x=this.o)&&m.push(Ba(x,Ho,!0),"@"),m.push(js(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&m.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&m.push("/"),m.push(Ba(T,T.charAt(0)=="/"?_c:Dh,!0))),(T=this.i.toString())&&m.push("?",T),(T=this.m)&&m.push("#",Ba(T,Mh)),m.join("")},si.prototype.resolve=function(m){const x=Ze(this);let T=!!m.j;T?mn(x,m.j):T=!!m.o,T?x.o=m.o:T=!!m.g,T?x.g=m.g:T=m.u!=null;var k=m.h;if(T)Cr(x,m.u);else if(T=!!m.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var G=x.h.lastIndexOf("/");G!=-1&&(k=x.h.slice(0,G+1)+k)}if(G=k,G==".."||G==".")k="";else if(G.indexOf("./")!=-1||G.indexOf("/.")!=-1){k=G.lastIndexOf("/",0)==0,G=G.split("/");const J=[];for(let ht=0;ht<G.length;){const Lt=G[ht++];Lt=="."?k&&ht==G.length&&J.push(""):Lt==".."?((J.length>1||J.length==1&&J[0]!="")&&J.pop(),k&&ht==G.length&&J.push("")):(J.push(Lt),k=!0)}k=J.join("/")}else k=G}return T?x.h=k:T=m.i.toString()!=="",T?yc(x,Ph(m.i)):T=!!m.m,T&&(x.m=m.m),x};function Ze(m){return new si(m)}function mn(m,x,T){m.j=T?cs(x,!0):x,m.j&&(m.j=m.j.replace(/:$/,""))}function Cr(m,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);m.u=x}else m.u=null}function yc(m,x,T){x instanceof Ir?(m.i=x,Go(m.i,m.l)):(T||(x=Ba(x,Rr)),m.i=new Ir(x,m.l))}function he(m,x,T){m.i.set(x,T)}function za(m){return he(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function cs(m,x){return m?x?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Ba(m,x,T){return typeof m=="string"?(m=encodeURI(m).replace(x,Bn),T&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Bn(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Ho=/[#\/\?@]/g,Dh=/[#\?:]/g,_c=/[#\?]/g,Rr=/[#\?@]/g,Mh=/#/g;function Ir(m,x){this.h=this.g=null,this.i=m||null,this.j=!!x}function Fn(m){m.g||(m.g=new Map,m.h=0,m.i&&Fo(m.i,function(x,T){m.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}n=Ir.prototype,n.add=function(m,x){Fn(this),this.i=null,m=Nr(this,m);let T=this.g.get(m);return T||this.g.set(m,T=[]),T.push(x),this.h+=1,this};function Oh(m,x){Fn(m),x=Nr(m,x),m.g.has(x)&&(m.i=null,m.h-=m.g.get(x).length,m.g.delete(x))}function bc(m,x){return Fn(m),x=Nr(m,x),m.g.has(x)}n.forEach=function(m,x){Fn(this),this.g.forEach(function(T,k){T.forEach(function(G){m.call(x,G,k,this)},this)},this)};function vc(m,x){Fn(m);let T=[];if(typeof x=="string")bc(m,x)&&(T=T.concat(m.g.get(Nr(m,x))));else for(m=Array.from(m.g.values()),x=0;x<m.length;x++)T=T.concat(m[x]);return T}n.set=function(m,x){return Fn(this),this.i=null,m=Nr(this,m),bc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[x]),this.h+=1,this},n.get=function(m,x){return m?(m=vc(this,m),m.length>0?String(m[0]):x):x};function qo(m,x,T){Oh(m,x),T.length>0&&(m.i=null,m.g.set(Nr(m,x),E(T)),m.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],x=Array.from(this.g.keys());for(let k=0;k<x.length;k++){var T=x[k];const G=js(T);T=vc(this,T);for(let J=0;J<T.length;J++){let ht=G;T[J]!==""&&(ht+="="+js(T[J])),m.push(ht)}}return this.i=m.join("&")};function Ph(m){const x=new Ir;return x.i=m.i,m.g&&(x.g=new Map(m.g),x.h=m.h),x}function Nr(m,x){return x=String(x),m.j&&(x=x.toLowerCase()),x}function Go(m,x){x&&!m.j&&(Fn(m),m.i=null,m.g.forEach(function(T,k){const G=k.toLowerCase();k!=G&&(Oh(this,k),qo(this,G,T))},m)),m.j=x}function zi(m,x){const T=new bn;if(l.Image){const k=new Image;k.onload=p(vi,T,"TestLoadImage: loaded",!0,x,k),k.onerror=p(vi,T,"TestLoadImage: error",!1,x,k),k.onabort=p(vi,T,"TestLoadImage: abort",!1,x,k),k.ontimeout=p(vi,T,"TestLoadImage: timeout",!1,x,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=m}else x(!1)}function xc(m,x){const T=new bn,k=new AbortController,G=setTimeout(()=>{k.abort(),vi(T,"TestPingServer: timeout",!1,x)},1e4);fetch(m,{signal:k.signal}).then(J=>{clearTimeout(G),J.ok?vi(T,"TestPingServer: ok",!0,x):vi(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(G),vi(T,"TestPingServer: error",!1,x)})}function vi(m,x,T,k,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),k(T)}catch{}}function kr(){this.g=new Vo}function us(m){this.i=m.Sb||null,this.h=m.ab||!1}_(us,Uo),us.prototype.g=function(){return new Fa(this.i,this.h)};function Fa(m,x){ke.call(this),this.H=m,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Fa,ke),n=Fa.prototype,n.open=function(m,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=x,this.readyState=1,Bi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(x.body=m),(this.H||l).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Dr(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Yo(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Yo(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var x=m.value?m.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!m.done}))&&(this.response=this.responseText+=x)}m.done?Dr(this):Bi(this),this.readyState==3&&Yo(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,Dr(this))},n.Na=function(m){this.g&&(this.response=m,Dr(this))},n.ga=function(){this.g&&Dr(this)};function Dr(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Bi(m)}n.setRequestHeader=function(m,x){this.A.append(m,x)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,m.push(T[0]+": "+T[1]),T=x.next();return m.join(`\r
`)};function Bi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function xi(m){let x="";return yt(m,function(T,k){x+=k,x+=":",x+=T,x+=`\r
`}),x}function Ha(m,x,T){t:{for(k in T){var k=!1;break t}k=!0}k||(T=xi(T),typeof m=="string"?T!=null&&js(T):he(m,x,T))}function ge(m){ke.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ge,ke);var hs=/^https?$/i,wc=["POST","PUT"];n=ge.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,x,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);x=x?x.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ar.g(),this.g.onreadystatechange=v(f(this.Ca,this));try{this.B=!0,this.g.open(x,String(m),!0),this.B=!1}catch(J){qa(this,J);return}if(m=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var G in k)T.set(G,k[G]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const J of k.keys())T.set(J,k.get(J));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(J=>J.toLowerCase()=="content-type"),G=l.FormData&&m instanceof l.FormData,!(Array.prototype.indexOf.call(wc,x,void 0)>=0)||k||G||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[J,ht]of T)this.g.setRequestHeader(J,ht);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(J){qa(this,J)}};function qa(m,x){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=x,m.o=5,Ec(m),Vs(m)}function Ec(m){m.A||(m.A=!0,Pe(m,"complete"),Pe(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Pe(this,"complete"),Pe(this,"abort"),Vs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vs(this,!0)),ge.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ga(this):this.Xa())},n.Xa=function(){Ga(this)};function Ga(m){if(m.h&&typeof o<"u"){if(m.v&&Fi(m)==4)setTimeout(m.Ca.bind(m),0);else if(Pe(m,"readystatechange"),Fi(m)==4){m.h=!1;try{const J=m.ca();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var T;if(!(T=x)){var k;if(k=J===0){let ht=String(m.D).match(kh)[1]||null;!ht&&l.self&&l.self.location&&(ht=l.self.location.protocol.slice(0,-1)),k=!hs.test(ht?ht.toLowerCase():"")}T=k}if(T)Pe(m,"complete"),Pe(m,"success");else{m.o=6;try{var G=Fi(m)>2?m.g.statusText:""}catch{G=""}m.l=G+" ["+m.ca()+"]",Ec(m)}}finally{Vs(m)}}}}function Vs(m,x){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const T=m.g;m.g=null,x||Pe(m,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Fi(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Fi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var x=this.g.responseText;return m&&x.indexOf(m)==0&&(x=x.substring(m.length)),hc(x)}};function vn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function Us(m){const x={};m=(m.g&&Fi(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<m.length;k++){if(O(m[k]))continue;var T=Rh(m[k]);const G=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const J=x[G]||[];x[G]=J,J.push(T)}St(x,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(m,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[m]||x}function Mr(m){this.za=0,this.i=[],this.j=new bn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ds("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ds("baseRetryDelayMs",5e3,m),this.Za=ds("retryDelaySeedMs",1e4,m),this.Ta=ds("forwardChannelMaxRetries",2,m),this.va=ds("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new dc(m&&m.concurrentRequestLimit),this.Ba=new kr,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Mr.prototype,n.ka=8,n.I=1,n.connect=function(m,x,T,k){kt(0),this.W=m,this.H=x||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.J=Fh(this,null,this.W),fs(this)};function Tc(m){if($o(m),m.I==3){var x=m.V++,T=Ze(m.J);if(he(T,"SID",m.M),he(T,"RID",x),he(T,"TYPE","terminate"),Ya(m,T),x=new Vi(m,m.j,x),x.M=2,x.A=za(Ze(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&l.Image&&(new Image().src=x.A,T=!0),T||(x.g=Hh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),ss(x)}Bh(m)}function Or(m){m.g&&(Ac(m),m.g.cancel(),m.g=null)}function $o(m){Or(m),m.v&&(l.clearTimeout(m.v),m.v=null),Ko(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&l.clearTimeout(m.m),m.m=null)}function fs(m){if(!fc(m.h)&&!m.m){m.m=!0;var x=m.Ea;$||I(),et||($(),et=!0),N.add(x,m),m.D=0}}function Wo(m,x){return os(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=x.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=_n(f(m.Ea,m,x),zh(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const G=new Vi(this,this.j,m);let J=this.o;if(this.U&&(J?(J=z(J),ut(J,this.U)):J=this.U),this.u!==null||this.R||(G.J=J,J=null),this.S)t:{for(var x=0,T=0;T<this.i.length;T++){e:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break e}k=void 0}if(k===void 0)break;if(x+=k,x>4096){x=T;break t}if(x===4096||T===this.i.length-1){x=T+1;break t}}x=1e3}else x=1e3;x=Lh(this,G,x),T=Ze(this.J),he(T,"RID",m),he(T,"CVER",22),this.G&&he(T,"X-HTTP-Session-Id",this.G),Ya(this,T),J&&(this.R?x="headers="+js(xi(J))+"&"+x:this.u&&Ha(T,this.u,J)),mc(this.h,G),this.Ra&&he(T,"TYPE","init"),this.S?(he(T,"$req",x),he(T,"SID","null"),G.U=!0,is(G,T,null)):is(G,T,x),this.I=2}}else this.I==3&&(m?Sc(this,m):this.i.length==0||fc(this.h)||Sc(this))};function Sc(m,x){var T;x?T=x.l:T=m.V++;const k=Ze(m.J);he(k,"SID",m.M),he(k,"RID",T),he(k,"AID",m.K),Ya(m,k),m.u&&m.o&&Ha(k,m.u,m.o),T=new Vi(m,m.j,T,m.D+1),m.u===null&&(T.J=m.o),x&&(m.i=x.G.concat(m.i)),x=Lh(m,T,1e3),T.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),mc(m.h,T),is(T,k,x)}function Ya(m,x){m.H&&yt(m.H,function(T,k){he(x,k,T)}),m.l&&yt({},function(T,k){he(x,k,T)})}function Lh(m,x,T){T=Math.min(m.i.length,T);const k=m.l?f(m.l.Ka,m.l,m):null;t:{var G=m.i;let Lt=-1;for(;;){const He=["count="+T];Lt==-1?T>0?(Lt=G[0].g,He.push("ofs="+Lt)):Lt=0:He.push("ofs="+Lt);let ae=!0;for(let Ae=0;Ae<T;Ae++){var J=G[Ae].g;const wi=G[Ae].map;if(J-=Lt,J<0)Lt=Math.max(0,G[Ae].g-100),ae=!1;else try{J="req"+J+"_"||"";try{var ht=wi instanceof Map?wi:Object.entries(wi);for(const[gs,Hi]of ht){let qi=Hi;u(Hi)&&(qi=es(Hi)),He.push(J+gs+"="+encodeURIComponent(qi))}}catch(gs){throw He.push(J+"type="+encodeURIComponent("_badmap")),gs}}catch{k&&k(wi)}}if(ae){ht=He.join("&");break t}}ht=void 0}return m=m.i.splice(0,T),x.G=m,ht}function jh(m){if(!m.g&&!m.v){m.Y=1;var x=m.Da;$||I(),et||($(),et=!0),N.add(x,m),m.A=0}}function $a(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=_n(f(m.Da,m),zh(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,Vh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=_n(f(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Or(this),Vh(this))};function Ac(m){m.B!=null&&(l.clearTimeout(m.B),m.B=null)}function Vh(m){m.g=new Vi(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var x=Ze(m.na);he(x,"RID","rpc"),he(x,"SID",m.M),he(x,"AID",m.K),he(x,"CI",m.F?"0":"1"),!m.F&&m.ia&&he(x,"TO",m.ia),he(x,"TYPE","xmlhttp"),Ya(m,x),m.u&&m.o&&Ha(x,m.u,m.o),m.O&&(m.g.H=m.O);var T=m.g;m=m.ba,T.M=1,T.A=za(Ze(x)),T.u=null,T.R=!0,zo(T,m)}n.Va=function(){this.C!=null&&(this.C=null,Or(this),$a(this),kt(19))};function Ko(m){m.C!=null&&(l.clearTimeout(m.C),m.C=null)}function Uh(m,x){var T=null;if(m.g==x){Ko(m),Ac(m),m.g=null;var k=2}else if(ls(m.h,x))T=x.G,gc(m.h,x),k=1;else return;if(m.I!=0){if(x.o)if(k==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var G=m.D;k=ee(),Pe(k,new ln(k,T)),fs(m)}else jh(m);else if(G=x.m,G==3||G==0&&x.X>0||!(k==1&&Wo(m,x)||k==2&&$a(m)))switch(T&&T.length>0&&(x=m.h,x.i=x.i.concat(T)),G){case 1:ms(m,5);break;case 4:ms(m,10);break;case 3:ms(m,6);break;default:ms(m,2)}}}function zh(m,x){let T=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(T*=2),T*x}function ms(m,x){if(m.j.info("Error code "+x),x==2){var T=f(m.bb,m),k=m.Ua;const G=!k;k=new si(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||mn(k,"https"),za(k),G?zi(k.toString(),T):xc(k.toString(),T)}else kt(2);m.I=0,m.l&&m.l.pa(x),Bh(m),$o(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Bh(m){if(m.I=0,m.ja=[],m.l){const x=pc(m.h);(x.length!=0||m.i.length!=0)&&(S(m.ja,x),S(m.ja,m.i),m.h.i.length=0,E(m.i),m.i.length=0),m.l.oa()}}function Fh(m,x,T){var k=T instanceof si?Ze(T):new si(T);if(k.g!="")x&&(k.g=x+"."+k.g),Cr(k,k.u);else{var G=l.location;k=G.protocol,x=x?x+"."+G.hostname:G.hostname,G=+G.port;const J=new si(null);k&&mn(J,k),x&&(J.g=x),G&&Cr(J,G),T&&(J.h=T),k=J}return T=m.G,x=m.wa,T&&x&&he(k,T,x),he(k,"VER",m.ka),Ya(m,k),k}function Hh(m,x,T){if(x&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=m.Aa&&!m.ma?new ge(new us({ab:T})):new ge(m.ma),x.Fa(m.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qh(){}n=qh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Pr(){}Pr.prototype.g=function(m,x){return new jn(m,x)};function jn(m,x){ke.call(this),this.g=new Mr(x),this.l=m,this.h=x&&x.messageUrlParams||null,m=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(m?m["X-WebChannel-Content-Type"]=x.messageContentType:m={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(m?m["X-WebChannel-Client-Profile"]=x.sa:m={"X-WebChannel-Client-Profile":x.sa}),this.g.U=m,(m=x&&x.Qb)&&!O(m)&&(this.g.u=m),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!O(x)&&(this.g.G=x,m=this.h,m!==null&&x in m&&(m=this.h,x in m&&delete m[x])),this.j=new zs(this)}_(jn,ke),jn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jn.prototype.close=function(){Tc(this.g)},jn.prototype.o=function(m){var x=this.g;if(typeof m=="string"){var T={};T.__data__=m,m=T}else this.v&&(T={},T.__data__=es(m),m=T);x.i.push(new Je(x.Ya++,m)),x.I==3&&fs(x)},jn.prototype.N=function(){this.g.l=null,delete this.j,Tc(this.g),delete this.g,jn.Z.N.call(this)};function Gh(m){gt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var x=m.__sm__;if(x){t:{for(const T in x){m=T;break t}m=void 0}(this.i=m)&&(m=this.i,x=x!==null&&m in x?x[m]:void 0),this.data=x}else this.data=m}_(Gh,gt);function Yh(){Vt.call(this),this.status=1}_(Yh,Vt);function zs(m){this.g=m}_(zs,qh),zs.prototype.ra=function(){Pe(this.g,"a")},zs.prototype.qa=function(m){Pe(this.g,new Gh(m))},zs.prototype.pa=function(m){Pe(this.g,new Yh)},zs.prototype.oa=function(){Pe(this.g,"b")},Pr.prototype.createWebChannel=Pr.prototype.g,jn.prototype.send=jn.prototype.o,jn.prototype.open=jn.prototype.m,jn.prototype.close=jn.prototype.close,BA=function(){return new Pr},zA=function(){return ee()},UA=It,By={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ni.NO_ERROR=0,ni.TIMEOUT=8,ni.HTTP_ERROR=6,Rf=ni,ns.COMPLETE="complete",VA=ns,_i.EventType=tt,tt.OPEN="a",tt.CLOSE="b",tt.ERROR="c",tt.MESSAGE="d",ke.prototype.listen=ke.prototype.J,Su=_i,ge.prototype.listenOnce=ge.prototype.K,ge.prototype.getLastError=ge.prototype.Ha,ge.prototype.getLastErrorCode=ge.prototype.ya,ge.prototype.getStatus=ge.prototype.ca,ge.prototype.getResponseJson=ge.prototype.La,ge.prototype.getResponseText=ge.prototype.la,ge.prototype.send=ge.prototype.ea,ge.prototype.setWithCredentials=ge.prototype.Fa,jA=ge}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});class kn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}kn.UNAUTHENTICATED=new kn(null),kn.GOOGLE_CREDENTIALS=new kn("google-credentials-uid"),kn.FIRST_PARTY=new kn("first-party-uid"),kn.MOCK_USER=new kn("mock-user");let rc="12.9.0";function C5(n){rc=n}const Ro=new O0("@firebase/firestore");function kl(){return Ro.logLevel}function pt(n,...t){if(Ro.logLevel<=$t.DEBUG){const e=t.map(q0);Ro.debug(`Firestore (${rc}): ${n}`,...e)}}function _r(n,...t){if(Ro.logLevel<=$t.ERROR){const e=t.map(q0);Ro.error(`Firestore (${rc}): ${n}`,...e)}}function Io(n,...t){if(Ro.logLevel<=$t.WARN){const e=t.map(q0);Ro.warn(`Firestore (${rc}): ${n}`,...e)}}function q0(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Rt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,FA(n,i,e)}function FA(n,t,e){let i=`FIRESTORE (${rc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw _r(i),new Error(i)}function le(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||FA(t,r,i)}function Pt(n,t){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends Ps{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class mr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class HA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class R5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(kn.UNAUTHENTICATED)))}shutdown(){}}class I5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class N5{constructor(t){this.t=t,this.currentUser=kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){le(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new mr,t.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const d=o;t.enqueueRetryable((async()=>{await d.promise,await r(this.currentUser)}))},u=d=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new mr)}}),0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(le(typeof i.accessToken=="string",31837,{l:i}),new HA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return le(t===null||typeof t=="string",2055,{h:t}),new kn(t)}}class k5{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=kn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class D5{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new k5(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(kn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y1{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class M5{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Di(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){le(this.o===void 0,3512);const i=o=>{o.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,pt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y1(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(le(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new y1(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function O5(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class G0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=O5(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Wt(n,t){return n<t?-1:n>t?1:0}function Fy(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return ly(r)===ly(o)?Wt(r,o):ly(r)?1:-1}return Wt(n.length,t.length)}const P5=55296,L5=57343;function ly(n){const t=n.charCodeAt(0);return t>=P5&&t<=L5}function Wl(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}const _1="__name__";class Es{constructor(t,e,i){e===void 0?e=0:e>t.length&&Rt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Rt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Es.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Es?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=Es.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Wt(t.length,e.length)}static compareSegments(t,e){const i=Es.isNumericId(t),r=Es.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?Es.extractNumericId(t).compare(Es.extractNumericId(e)):Fy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ba.fromString(t.substring(4,t.length-2))}}class xe extends Es{construct(t,e,i){return new xe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new mt(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new xe(e)}static emptyPath(){return new xe([])}}const j5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class An extends Es{construct(t,e,i){return new An(t,e,i)}static isValidIdentifier(t){return j5.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),An.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_1}static keyField(){return new An([_1])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new mt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new mt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new mt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new mt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new An(e)}static emptyPath(){return new An([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(xe.fromString(t))}static fromName(t){return new Et(xe.fromString(t).popFirst(5))}static empty(){return new Et(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&xe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return xe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new xe(t.slice()))}}function qA(n,t,e){if(!e)throw new mt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function V5(n,t,e,i){if(t===!0&&i===!0)throw new mt(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function b1(n){if(!Et.isDocumentKey(n))throw new mt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function v1(n){if(Et.isDocumentKey(n))throw new mt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function GA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Em(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Rt(12329,{type:typeof n})}function Ds(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Em(n);throw new mt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function U5(n,t){if(t<=0)throw new mt(rt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}function on(n,t){const e={typeString:n};return t&&(e.value=t),e}function xh(n,t){if(!GA(n))throw new mt(rt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new mt(rt.INVALID_ARGUMENT,e);return!0}const x1=-62135596800,w1=1e6;class Te{static now(){return Te.fromMillis(Date.now())}static fromDate(t){return Te.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*w1);return new Te(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<x1)throw new mt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w1}_compareTo(t){return this.seconds===t.seconds?Wt(this.nanoseconds,t.nanoseconds):Wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(xh(t,Te._jsonSchema))return new Te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-x1;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Te._jsonSchemaVersion="firestore/timestamp/1.0",Te._jsonSchema={type:on("string",Te._jsonSchemaVersion),seconds:on("number"),nanoseconds:on("number")};class Dt{static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new Te(0,0))}static max(){return new Dt(new Te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const eh=-1;function z5(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Dt.fromTimestamp(i===1e9?new Te(e+1,0):new Te(e,i));return new Ta(r,Et.empty(),t)}function B5(n){return new Ta(n.readTime,n.key,eh)}class Ta{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ta(Dt.min(),Et.empty(),eh)}static max(){return new Ta(Dt.max(),Et.empty(),eh)}}function F5(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Et.comparator(n.documentKey,t.documentKey),e!==0?e:Wt(n.largestBatchId,t.largestBatchId))}const H5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class q5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ac(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==H5)throw n;pt("LocalStore","Unexpectedly lost primary lease")}class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Rt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ot(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ot?e:ot.resolve(e)}catch(e){return ot.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ot.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ot.reject(e)}static resolve(t){return new ot(((e,i)=>{e(t)}))}static reject(t){return new ot(((e,i)=>{i(t)}))}static waitFor(t){return new ot(((e,i)=>{let r=0,o=0,l=!1;t.forEach((u=>{++r,u.next((()=>{++o,l&&o===r&&e()}),(d=>i(d)))})),l=!0,o===r&&e()}))}static or(t){let e=ot.resolve(!1);for(const i of t)e=e.next((r=>r?ot.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new ot(((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const f=d;e(t[f]).next((p=>{l[f]=p,++u,u===o&&i(l)}),(p=>r(p)))}}))}static doWhile(t,e){return new ot(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function G5(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function oc(n){return n.name==="IndexedDbTransactionError"}class Tm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Tm.ce=-1;const Y0=-1;function Sm(n){return n==null}function Qf(n){return n===0&&1/n==-1/0}function Y5(n){return typeof n=="number"&&Number.isInteger(n)&&!Qf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const YA="";function $5(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=E1(t)),t=W5(n.get(e),t);return E1(t)}function W5(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case YA:e+="";break;default:e+=o}}return e}function E1(n){return n+YA+""}function T1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Pa(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function $A(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Oe{constructor(t,e){this.comparator=t,this.root=e||Sn.EMPTY}insert(t,e){return new Oe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Sn.BLACK,null,null))}remove(t){return new Oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Sn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ff(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ff(this.root,t,this.comparator,!1)}getReverseIterator(){return new ff(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ff(this.root,t,this.comparator,!0)}}class ff{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Sn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Sn.RED,this.left=r??Sn.EMPTY,this.right=o??Sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Sn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Sn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Rt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Rt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Rt(27949);return t+(this.isRed()?0:1)}}Sn.EMPTY=null,Sn.RED=!0,Sn.BLACK=!1;Sn.EMPTY=new class{constructor(){this.size=0}get key(){throw Rt(57766)}get value(){throw Rt(16141)}get color(){throw Rt(16727)}get left(){throw Rt(29726)}get right(){throw Rt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Sn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hn{constructor(t){this.comparator=t,this.data=new Oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new S1(this.data.getIterator())}getIteratorFrom(t){return new S1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof hn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new hn(this.comparator);return e.data=t,e}}class S1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fi{constructor(t){this.fields=t,t.sort(An.comparator)}static empty(){return new fi([])}unionWith(t){let e=new hn(An.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new fi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Wl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class WA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Cn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new WA("Invalid base64 string: "+o):o}})(t);return new Cn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o})(t);return new Cn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Cn.EMPTY_BYTE_STRING=new Cn("");const K5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sa(n){if(le(!!n,39018),typeof n=="string"){let t=0;const e=K5.exec(n);if(le(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ye(n.seconds),nanos:Ye(n.nanos)}}function Ye(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Aa(n){return typeof n=="string"?Cn.fromBase64String(n):Cn.fromUint8Array(n)}const KA="server_timestamp",QA="__type__",XA="__previous_value__",JA="__local_write_time__";function $0(n){return(n?.mapValue?.fields||{})[QA]?.stringValue===KA}function Am(n){const t=n.mapValue.fields[XA];return $0(t)?Am(t):t}function nh(n){const t=Sa(n.mapValue.fields[JA].timestampValue);return new Te(t.seconds,t.nanos)}class Q5{constructor(t,e,i,r,o,l,u,d,f,p,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p,this.apiKey=_}}const Xf="(default)";class ih{constructor(t,e){this.projectId=t,this.database=e||Xf}static empty(){return new ih("","")}get isDefaultDatabase(){return this.database===Xf}isEqual(t){return t instanceof ih&&t.projectId===this.projectId&&t.database===this.database}}function X5(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new mt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(n.options.projectId,t)}const ZA="__type__",J5="__max__",mf={mapValue:{}},t2="__vector__",Jf="value";function Ca(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$0(n)?4:t3(n)?9007199254740991:Z5(n)?10:11:Rt(28295,{value:n})}function Ms(n,t){if(n===t)return!0;const e=Ca(n);if(e!==Ca(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return nh(n).isEqual(nh(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=Sa(r.timestampValue),u=Sa(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return Aa(r.bytesValue).isEqual(Aa(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return Ye(r.geoPointValue.latitude)===Ye(o.geoPointValue.latitude)&&Ye(r.geoPointValue.longitude)===Ye(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Ye(r.integerValue)===Ye(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Ye(r.doubleValue),u=Ye(o.doubleValue);return l===u?Qf(l)===Qf(u):isNaN(l)&&isNaN(u)}return!1})(n,t);case 9:return Wl(n.arrayValue.values||[],t.arrayValue.values||[],Ms);case 10:case 11:return(function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(T1(l)!==T1(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Ms(l[d],u[d])))return!1;return!0})(n,t);default:return Rt(52216,{left:n})}}function sh(n,t){return(n.values||[]).find((e=>Ms(e,t)))!==void 0}function Kl(n,t){if(n===t)return 0;const e=Ca(n),i=Ca(t);if(e!==i)return Wt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,t.booleanValue);case 2:return(function(o,l){const u=Ye(o.integerValue||o.doubleValue),d=Ye(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(n,t);case 3:return A1(n.timestampValue,t.timestampValue);case 4:return A1(nh(n),nh(t));case 5:return Fy(n.stringValue,t.stringValue);case 6:return(function(o,l){const u=Aa(o),d=Aa(l);return u.compareTo(d)})(n.bytesValue,t.bytesValue);case 7:return(function(o,l){const u=o.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const p=Wt(u[f],d[f]);if(p!==0)return p}return Wt(u.length,d.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,l){const u=Wt(Ye(o.latitude),Ye(l.latitude));return u!==0?u:Wt(Ye(o.longitude),Ye(l.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return C1(n.arrayValue,t.arrayValue);case 10:return(function(o,l){const u=o.fields||{},d=l.fields||{},f=u[Jf]?.arrayValue,p=d[Jf]?.arrayValue,_=Wt(f?.values?.length||0,p?.values?.length||0);return _!==0?_:C1(f,p)})(n.mapValue,t.mapValue);case 11:return(function(o,l){if(o===mf.mapValue&&l===mf.mapValue)return 0;if(o===mf.mapValue)return 1;if(l===mf.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let _=0;_<d.length&&_<p.length;++_){const v=Fy(d[_],p[_]);if(v!==0)return v;const E=Kl(u[d[_]],f[p[_]]);if(E!==0)return E}return Wt(d.length,p.length)})(n.mapValue,t.mapValue);default:throw Rt(23264,{he:e})}}function A1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Wt(n,t);const e=Sa(n),i=Sa(t),r=Wt(e.seconds,i.seconds);return r!==0?r:Wt(e.nanos,i.nanos)}function C1(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Kl(e[r],i[r]);if(o)return o}return Wt(e.length,i.length)}function Ql(n){return Hy(n)}function Hy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Sa(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Aa(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Et.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=Hy(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${Hy(e.fields[l])}`;return r+"}"})(n.mapValue):Rt(61005,{value:n})}function If(n){switch(Ca(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Am(n);return t?16+If(t):16;case 5:return 2*n.stringValue.length;case 6:return Aa(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+If(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return Pa(i.fields,((o,l)=>{r+=o.length+If(l)})),r})(n.mapValue);default:throw Rt(13486,{value:n})}}function R1(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function qy(n){return!!n&&"integerValue"in n}function W0(n){return!!n&&"arrayValue"in n}function I1(n){return!!n&&"nullValue"in n}function N1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nf(n){return!!n&&"mapValue"in n}function Z5(n){return(n?.mapValue?.fields||{})[ZA]?.stringValue===t2}function ju(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Pa(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=ju(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ju(n.arrayValue.values[e]);return t}return{...n}}function t3(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===J5}class Jn{constructor(t){this.value=t}static empty(){return new Jn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Nf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ju(e)}setAll(t){let e=An.emptyPath(),i={},r=[];t.forEach(((l,u)=>{if(!e.isImmediateParentOf(u)){const d=this.getFieldsMap(e);this.applyChanges(d,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=ju(l):r.push(u.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Nf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ms(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Nf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Pa(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Jn(ju(this.value))}}function e2(n){const t=[];return Pa(n.fields,((e,i)=>{const r=new An([e]);if(Nf(i)){const o=e2(i.mapValue).fields;if(o.length===0)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)})),new fi(t)}class Mn{constructor(t,e,i,r,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Mn(t,0,Dt.min(),Dt.min(),Dt.min(),Jn.empty(),0)}static newFoundDocument(t,e,i,r){return new Mn(t,1,e,Dt.min(),i,r,0)}static newNoDocument(t,e){return new Mn(t,2,e,Dt.min(),Dt.min(),Jn.empty(),0)}static newUnknownDocument(t,e){return new Mn(t,3,e,Dt.min(),Dt.min(),Jn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Dt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Mn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zf{constructor(t,e){this.position=t,this.inclusive=e}}function k1(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(o.field.isKeyField()?i=Et.comparator(Et.fromName(l.referenceValue),e.key):i=Kl(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function D1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ms(n.position[e],t.position[e]))return!1;return!0}class rh{constructor(t,e="asc"){this.field=t,this.dir=e}}function e3(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class n2{}class an extends n2{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new i3(t,e,i):e==="array-contains"?new a3(t,i):e==="in"?new o3(t,i):e==="not-in"?new l3(t,i):e==="array-contains-any"?new c3(t,i):new an(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new s3(t,i):new r3(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Kl(e,this.value)):e!==null&&Ca(this.value)===Ca(e)&&this.matchesComparison(Kl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Rt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ts extends n2{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ts(t,e)}matches(t){return i2(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function i2(n){return n.op==="and"}function s2(n){return n3(n)&&i2(n)}function n3(n){for(const t of n.filters)if(t instanceof ts)return!1;return!0}function Gy(n){if(n instanceof an)return n.field.canonicalString()+n.op.toString()+Ql(n.value);if(s2(n))return n.filters.map((t=>Gy(t))).join(",");{const t=n.filters.map((e=>Gy(e))).join(",");return`${n.op}(${t})`}}function r2(n,t){return n instanceof an?(function(i,r){return r instanceof an&&i.op===r.op&&i.field.isEqual(r.field)&&Ms(i.value,r.value)})(n,t):n instanceof ts?(function(i,r){return r instanceof ts&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,l,u)=>o&&r2(l,r.filters[u])),!0):!1})(n,t):void Rt(19439)}function a2(n){return n instanceof an?(function(e){return`${e.field.canonicalString()} ${e.op} ${Ql(e.value)}`})(n):n instanceof ts?(function(e){return e.op.toString()+" {"+e.getFilters().map(a2).join(" ,")+"}"})(n):"Filter"}class i3 extends an{constructor(t,e,i){super(t,e,i),this.key=Et.fromName(i.referenceValue)}matches(t){const e=Et.comparator(t.key,this.key);return this.matchesComparison(e)}}class s3 extends an{constructor(t,e){super(t,"in",e),this.keys=o2("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class r3 extends an{constructor(t,e){super(t,"not-in",e),this.keys=o2("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function o2(n,t){return(t.arrayValue?.values||[]).map((e=>Et.fromName(e.referenceValue)))}class a3 extends an{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return W0(e)&&sh(e.arrayValue,this.value)}}class o3 extends an{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&sh(this.value.arrayValue,e)}}class l3 extends an{constructor(t,e){super(t,"not-in",e)}matches(t){if(sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!sh(this.value.arrayValue,e)}}class c3 extends an{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!W0(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>sh(this.value.arrayValue,i)))}}class u3{constructor(t,e=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function M1(n,t=null,e=[],i=[],r=null,o=null,l=null){return new u3(n,t,e,i,r,o,l)}function K0(n){const t=Pt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Gy(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),Sm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Ql(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Ql(i))).join(",")),t.Te=e}return t.Te}function Q0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!e3(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!r2(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!D1(n.startAt,t.startAt)&&D1(n.endAt,t.endAt)}function Yy(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class lc{constructor(t,e=null,i=[],r=[],o=null,l="F",u=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function h3(n,t,e,i,r,o,l,u){return new lc(n,t,e,i,r,o,l,u)}function X0(n){return new lc(n)}function O1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function d3(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function l2(n){return n.collectionGroup!==null}function Vu(n){const t=Pt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new hn(An.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new rh(o,i))})),e.has(An.keyField().canonicalString())||t.Ie.push(new rh(An.keyField(),i))}return t.Ie}function Is(n){const t=Pt(n);return t.Ee||(t.Ee=f3(t,Vu(n))),t.Ee}function f3(n,t){if(n.limitType==="F")return M1(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new rh(r.field,o)}));const e=n.endAt?new Zf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Zf(n.startAt.position,n.startAt.inclusive):null;return M1(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function $y(n,t){const e=n.filters.concat([t]);return new lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function m3(n,t){const e=n.explicitOrderBy.concat([t]);return new lc(n.path,n.collectionGroup,e,n.filters.slice(),n.limit,n.limitType,n.startAt,n.endAt)}function tm(n,t,e){return new lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Cm(n,t){return Q0(Is(n),Is(t))&&n.limitType===t.limitType}function c2(n){return`${K0(Is(n))}|lt:${n.limitType}`}function Dl(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>a2(r))).join(", ")}]`),Sm(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Ql(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Ql(r))).join(",")),`Target(${i})`})(Is(n))}; limitType=${n.limitType})`}function Rm(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Et.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of Vu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(l,u,d){const f=k1(l,u,d);return l.inclusive?f<=0:f<0})(i.startAt,Vu(i),r)||i.endAt&&!(function(l,u,d){const f=k1(l,u,d);return l.inclusive?f>=0:f>0})(i.endAt,Vu(i),r))})(n,t)}function g3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function u2(n){return(t,e)=>{let i=!1;for(const r of Vu(n)){const o=p3(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function p3(n,t,e){const i=n.field.isKeyField()?Et.comparator(t.key,e.key):(function(o,l,u){const d=l.data.field(o),f=u.data.field(o);return d!==null&&f!==null?Kl(d,f):Rt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Rt(19790,{direction:n.dir})}}class Po{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Pa(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return $A(this.inner)}size(){return this.innerSize}}const y3=new Oe(Et.comparator);function br(){return y3}const h2=new Oe(Et.comparator);function Au(...n){let t=h2;for(const e of n)t=t.insert(e.key,e);return t}function d2(n){let t=h2;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function _o(){return Uu()}function f2(){return Uu()}function Uu(){return new Po((n=>n.toString()),((n,t)=>n.isEqual(t)))}const _3=new Oe(Et.comparator),b3=new hn(Et.comparator);function Kt(...n){let t=b3;for(const e of n)t=t.add(e);return t}const v3=new hn(Wt);function x3(){return v3}function J0(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qf(t)?"-0":t}}function m2(n){return{integerValue:""+n}}function g2(n,t){return Y5(t)?m2(t):J0(n,t)}class Im{constructor(){this._=void 0}}function w3(n,t,e){return n instanceof ah?(function(r,o){const l={fields:{[QA]:{stringValue:KA},[JA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&$0(o)&&(o=Am(o)),o&&(l.fields[XA]=o),{mapValue:l}})(e,t):n instanceof oh?y2(n,t):n instanceof lh?_2(n,t):(function(r,o){const l=p2(r,o),u=P1(l)+P1(r.Ae);return qy(l)&&qy(r.Ae)?m2(u):J0(r.serializer,u)})(n,t)}function E3(n,t,e){return n instanceof oh?y2(n,t):n instanceof lh?_2(n,t):e}function p2(n,t){return n instanceof ch?(function(i){return qy(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class ah extends Im{}class oh extends Im{constructor(t){super(),this.elements=t}}function y2(n,t){const e=b2(t);for(const i of n.elements)e.some((r=>Ms(r,i)))||e.push(i);return{arrayValue:{values:e}}}class lh extends Im{constructor(t){super(),this.elements=t}}function _2(n,t){let e=b2(t);for(const i of n.elements)e=e.filter((r=>!Ms(r,i)));return{arrayValue:{values:e}}}class ch extends Im{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function P1(n){return Ye(n.integerValue||n.doubleValue)}function b2(n){return W0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class v2{constructor(t,e){this.field=t,this.transform=e}}function T3(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof oh&&r instanceof oh||i instanceof lh&&r instanceof lh?Wl(i.elements,r.elements,Ms):i instanceof ch&&r instanceof ch?Ms(i.Ae,r.Ae):i instanceof ah&&r instanceof ah})(n.transform,t.transform)}class S3{constructor(t,e){this.version=t,this.transformResults=e}}class Qi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Qi}static exists(t){return new Qi(void 0,t)}static updateTime(t){return new Qi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Nm{}function x2(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new E2(n.key,Qi.none()):new wh(n.key,n.data,Qi.none());{const e=n.data,i=Jn.empty();let r=new hn(An.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new La(n.key,i,new fi(r.toArray()),Qi.none())}}function A3(n,t,e){n instanceof wh?(function(r,o,l){const u=r.value.clone(),d=j1(r.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,t,e):n instanceof La?(function(r,o,l){if(!kf(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=j1(r.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(w2(r)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,t,e):(function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,t,e)}function zu(n,t,e,i){return n instanceof wh?(function(o,l,u,d){if(!kf(o.precondition,l))return u;const f=o.value.clone(),p=V1(o.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,t,e,i):n instanceof La?(function(o,l,u,d){if(!kf(o.precondition,l))return u;const f=V1(o.fieldTransforms,d,l),p=l.data;return p.setAll(w2(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,t,e,i):(function(o,l,u){return kf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,t,e)}function C3(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=p2(i.transform,r||null);o!=null&&(e===null&&(e=Jn.empty()),e.set(i.field,o))}return e||null}function L1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Wl(i,r,((o,l)=>T3(o,l)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class wh extends Nm{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class La extends Nm{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function w2(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function j1(n,t,e){const i=new Map;le(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,E3(l,u,e[r]))}return i}function V1(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,w3(o,l,t))}return i}class E2 extends Nm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class R3 extends Nm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class I3{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&A3(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=zu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=zu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=f2();return this.mutations.forEach((r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(r.key)?null:u;const d=x2(l,u);d!==null&&i.set(r.key,d),l.isValidDocument()||l.convertToNoDocument(Dt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Kt())}isEqual(t){return this.batchId===t.batchId&&Wl(this.mutations,t.mutations,((e,i)=>L1(e,i)))&&Wl(this.baseMutations,t.baseMutations,((e,i)=>L1(e,i)))}}class Z0{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){le(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return _3})();const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new Z0(t,e,i,r)}}class N3{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class k3{constructor(t,e){this.count=t,this.unchangedNames=e}}var rn,Zt;function D3(n){switch(n){case rt.OK:return Rt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Rt(15467,{code:n})}}function T2(n){if(n===void 0)return _r("GRPC error has no .code"),rt.UNKNOWN;switch(n){case rn.OK:return rt.OK;case rn.CANCELLED:return rt.CANCELLED;case rn.UNKNOWN:return rt.UNKNOWN;case rn.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case rn.INTERNAL:return rt.INTERNAL;case rn.UNAVAILABLE:return rt.UNAVAILABLE;case rn.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case rn.NOT_FOUND:return rt.NOT_FOUND;case rn.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case rn.ABORTED:return rt.ABORTED;case rn.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case rn.DATA_LOSS:return rt.DATA_LOSS;default:return Rt(39323,{code:n})}}(Zt=rn||(rn={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";function M3(){return new TextEncoder}const O3=new ba([4294967295,4294967295],0);function U1(n){const t=M3().encode(n),e=new LA;return e.update(t),new Uint8Array(e.digest())}function z1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ba([e,i],0),new ba([r,o],0)]}class t_{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Cu(`Invalid padding: ${e}`);if(i<0)throw new Cu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Cu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Cu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ba.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(ba.fromNumber(i)));return r.compare(O3)===1&&(r=new ba([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=U1(t),[i,r]=z1(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new t_(o,r,e);return i.forEach((u=>l.insert(u))),l}insert(t){if(this.ge===0)return;const e=U1(t),[i,r]=z1(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.be(l)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Cu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class km{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Eh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new km(Dt.min(),r,new Oe(Wt),br(),Kt())}}class Eh{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Eh(i,e,Kt(),Kt(),Kt())}}class Df{constructor(t,e,i,r){this.Se=t,this.removedTargetIds=e,this.key=i,this.De=r}}class S2{constructor(t,e){this.targetId=t,this.Ce=e}}class A2{constructor(t,e,i=Cn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class B1{constructor(){this.ve=0,this.Fe=F1(),this.Me=Cn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Kt(),e=Kt(),i=Kt();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Rt(38017,{changeType:o})}})),new Eh(this.Me,this.xe,t,e,i)}Ke(){this.Oe=!1,this.Fe=F1()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,le(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class P3{constructor(t){this.Ge=t,this.ze=new Map,this.je=br(),this.He=gf(),this.Je=gf(),this.Ze=new Oe(Wt)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Rt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(Yy(o))if(i===0){const l=new Et(o.path);this.et(e,l,Mn.newNoDocument(l,Dt.min()))}else le(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),d=u?this.ct(u,t,l):1;if(d!==0){this.it(e);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,f)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let l,u;try{l=Aa(i).toUint8Array()}catch(d){if(d instanceof WA)return Io("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new t_(l,r,o)}catch(d){return Io(d instanceof Cu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&Yy(u.target)){const d=new Et(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Mn.newNoDocument(d,t))}o.Be&&(e.set(l,o.ke()),o.Ke())}}));let i=Kt();this.Je.forEach(((o,l)=>{let u=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(t)));const r=new km(t,e,this.Ze,this.je,i);return this.je=br(),this.He=gf(),this.Je=gf(),this.Ze=new Oe(Wt),r}Ye(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,i),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.qe(e,1):r.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new B1,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new hn(Wt),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new hn(Wt),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||pt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new B1),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function gf(){return new Oe(Et.comparator)}function F1(){return new Oe(Et.comparator)}const L3={asc:"ASCENDING",desc:"DESCENDING"},j3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},V3={and:"AND",or:"OR"};class U3{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Wy(n,t){return n.useProto3Json||Sm(t)?t:{value:t}}function em(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function C2(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function z3(n,t){return em(n,t.toTimestamp())}function Ns(n){return le(!!n,49232),Dt.fromTimestamp((function(e){const i=Sa(e);return new Te(i.seconds,i.nanos)})(n))}function e_(n,t){return Ky(n,t).canonicalString()}function Ky(n,t){const e=(function(r){return new xe(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function R2(n){const t=xe.fromString(n);return le(M2(t),10190,{key:t.toString()}),t}function Qy(n,t){return e_(n.databaseId,t.path)}function cy(n,t){const e=R2(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Et(N2(e))}function I2(n,t){return e_(n.databaseId,t)}function B3(n){const t=R2(n);return t.length===4?xe.emptyPath():N2(t)}function Xy(n){return new xe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function N2(n){return le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function H1(n,t,e){return{name:Qy(n,t),fields:e.value.mapValue.fields}}function F3(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Rt(39313,{state:f})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(f,p){return f.useProto3Json?(le(p===void 0||typeof p=="string",58123),Cn.fromBase64String(p||"")):(le(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Cn.fromUint8Array(p||new Uint8Array))})(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&(function(f){const p=f.code===void 0?rt.UNKNOWN:T2(f.code);return new mt(p,f.message||"")})(l);e=new A2(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=cy(n,i.document.name),o=Ns(i.document.updateTime),l=i.document.createTime?Ns(i.document.createTime):Dt.min(),u=new Jn({mapValue:{fields:i.document.fields}}),d=Mn.newFoundDocument(r,o,l,u),f=i.targetIds||[],p=i.removedTargetIds||[];e=new Df(f,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=cy(n,i.document),o=i.readTime?Ns(i.readTime):Dt.min(),l=Mn.newNoDocument(r,o),u=i.removedTargetIds||[];e=new Df([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=cy(n,i.document),o=i.removedTargetIds||[];e=new Df([],o,r,null)}else{if(!("filter"in t))return Rt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new k3(r,o),u=i.targetId;e=new S2(u,l)}}return e}function H3(n,t){let e;if(t instanceof wh)e={update:H1(n,t.key,t.value)};else if(t instanceof E2)e={delete:Qy(n,t.key)};else if(t instanceof La)e={update:H1(n,t.key,t.data),updateMask:J3(t.fieldMask)};else{if(!(t instanceof R3))return Rt(16599,{dt:t.type});e={verify:Qy(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,l){const u=l.transform;if(u instanceof ah)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof oh)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof lh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof ch)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Rt(20930,{transform:l.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:z3(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Rt(27497)})(n,t.precondition)),e}function q3(n,t){return n&&n.length>0?(le(t!==void 0,14353),n.map((e=>(function(r,o){let l=r.updateTime?Ns(r.updateTime):Ns(o);return l.isEqual(Dt.min())&&(l=Ns(o)),new S3(l,r.transformResults||[])})(e,t)))):[]}function G3(n,t){return{documents:[I2(n,t.path)]}}function Y3(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=I2(n,r);const o=(function(f){if(f.length!==0)return D2(ts.create(f,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((p=>(function(v){return{field:Ml(v.field),direction:K3(v.dir)}})(p)))})(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=Wy(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(t.endAt)),{ft:e,parent:r}}function $3(n){let t=B3(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){le(i===1,65062);const p=e.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let o=[];e.where&&(o=(function(_){const v=k2(_);return v instanceof ts&&s2(v)?v.getFilters():[v]})(e.where));let l=[];e.orderBy&&(l=(function(_){return _.map((v=>(function(S){return new rh(Ol(S.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(v)))})(e.orderBy));let u=null;e.limit&&(u=(function(_){let v;return v=typeof _=="object"?_.value:_,Sm(v)?null:v})(e.limit));let d=null;e.startAt&&(d=(function(_){const v=!!_.before,E=_.values||[];return new Zf(E,v)})(e.startAt));let f=null;return e.endAt&&(f=(function(_){const v=!_.before,E=_.values||[];return new Zf(E,v)})(e.endAt)),h3(t,r,l,o,u,"F",d,f)}function W3(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Rt(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function k2(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Ol(e.unaryFilter.field);return an.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ol(e.unaryFilter.field);return an.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ol(e.unaryFilter.field);return an.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Ol(e.unaryFilter.field);return an.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Rt(61313);default:return Rt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return an.create(Ol(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Rt(58110);default:return Rt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ts.create(e.compositeFilter.filters.map((i=>k2(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Rt(1026)}})(e.compositeFilter.op))})(n):Rt(30097,{filter:n})}function K3(n){return L3[n]}function Q3(n){return j3[n]}function X3(n){return V3[n]}function Ml(n){return{fieldPath:n.canonicalString()}}function Ol(n){return An.fromServerFormat(n.fieldPath)}function D2(n){return n instanceof an?(function(e){if(e.op==="=="){if(N1(e.value))return{unaryFilter:{field:Ml(e.field),op:"IS_NAN"}};if(I1(e.value))return{unaryFilter:{field:Ml(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(N1(e.value))return{unaryFilter:{field:Ml(e.field),op:"IS_NOT_NAN"}};if(I1(e.value))return{unaryFilter:{field:Ml(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ml(e.field),op:Q3(e.op),value:e.value}}})(n):n instanceof ts?(function(e){const i=e.getFilters().map((r=>D2(r)));return i.length===1?i[0]:{compositeFilter:{op:X3(e.op),filters:i}}})(n):Rt(54877,{filter:n})}function J3(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function M2(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function O2(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class ma{constructor(t,e,i,r,o=Dt.min(),l=Dt.min(),u=Cn.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(t){return new ma(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Z3{constructor(t){this.yt=t}}function t6(n){const t=$3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?tm(t,t.limit,"L"):t}class e6{constructor(){this.Sn=new n6}addToCollectionParentIndex(t,e){return this.Sn.add(e),ot.resolve()}getCollectionParents(t,e){return ot.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return ot.resolve()}deleteFieldIndex(t,e){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,e){return ot.resolve()}getDocumentsMatchingTarget(t,e){return ot.resolve(null)}getIndexType(t,e){return ot.resolve(0)}getFieldIndexes(t,e){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,e){return ot.resolve(Ta.min())}getMinOffsetFromCollectionGroup(t,e){return ot.resolve(Ta.min())}updateCollectionGroup(t,e,i){return ot.resolve()}updateIndexEntries(t,e){return ot.resolve()}}class n6{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new hn(xe.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new hn(xe.comparator)).toArray()}}const q1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},P2=41943040;class Qn{static withCacheSize(t){return new Qn(t,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}Qn.DEFAULT_COLLECTION_PERCENTILE=10,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Qn.DEFAULT=new Qn(P2,Qn.DEFAULT_COLLECTION_PERCENTILE,Qn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Qn.DISABLED=new Qn(-1,0,0);class Xl{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new Xl(0)}static ar(){return new Xl(-1)}}const G1="LruGarbageCollector",i6=1048576;function Y1([n,t],[e,i]){const r=Wt(n,e);return r===0?Wt(t,i):r}class s6{constructor(t){this.Pr=t,this.buffer=new hn(Y1),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Y1(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class r6{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){pt(G1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){oc(e)?pt(G1,"Ignoring IndexedDB error during garbage collection: ",e):await ac(e)}await this.Ar(3e5)}))}}class a6{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return ot.resolve(Tm.ce);const i=new s6(e);return this.Vr.forEachTarget(t,(r=>i.Er(r.sequenceNumber))).next((()=>this.Vr.mr(t,(r=>i.Er(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(q1)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q1):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let i,r,o,l,u,d,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),r=this.params.maximumSequenceNumbersToCollect):r=_,l=Date.now(),this.nthSequenceNumber(t,r)))).next((_=>(i=_,u=Date.now(),this.removeTargets(t,i,e)))).next((_=>(o=_,d=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(f=Date.now(),kl()<=$t.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${_} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:_}))))}}function o6(n,t){return new a6(n,t)}class l6{constructor(){this.changes=new Po((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Mn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ot.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class c6{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class u6{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&zu(i.mutation,r,fi.empty(),Te.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Kt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Kt()){const r=_o();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let l=Au();return o.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(t,e){const i=_o();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Kt())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((l,u)=>{e.set(l,u)}))}))}computeViews(t,e,i,r){let o=br();const l=Uu(),u=(function(){return Uu()})();return e.forEach(((d,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof La)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),zu(p.mutation,f,p.mutation.getFieldMask(),Te.now())):l.set(f.key,fi.empty())})),this.recalculateAndSaveOverlays(t,o).next((d=>(d.forEach(((f,p)=>l.set(f,p))),e.forEach(((f,p)=>u.set(f,new c6(p,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(t,e){const i=Uu();let r=new Oe(((l,u)=>l-u)),o=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((l=>{for(const u of l)u.keys().forEach((d=>{const f=e.get(d);if(f===null)return;let p=i.get(d)||fi.empty();p=u.applyToLocalView(f,p),i.set(d,p);const _=(r.get(u.batchId)||Kt()).add(d);r=r.insert(u.batchId,_)}))})).next((()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,p=d.value,_=f2();p.forEach((v=>{if(!o.has(v)){const E=x2(e.get(v),i.get(v));E!==null&&_.set(v,E),o=o.add(v)}})),l.push(this.documentOverlayCache.saveOverlays(t,f,_))}return ot.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return d3(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):l2(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ot.resolve(_o());let u=eh,d=o;return l.next((f=>ot.forEach(f,((p,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(p)?ot.resolve():this.remoteDocumentCache.getEntry(t,p).next((v=>{d=d.insert(p,v)}))))).next((()=>this.populateOverlays(t,f,o))).next((()=>this.computeViews(t,d,f,Kt()))).next((p=>({batchId:u,changes:d2(p)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Et(e)).next((i=>{let r=Au();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let l=Au();return this.indexManager.getCollectionParents(t,o).next((u=>ot.forEach(u,(d=>{const f=(function(_,v){return new lc(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next((p=>{p.forEach(((_,v)=>{l=l.insert(_,v)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((l=>{o.forEach(((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Mn.newInvalidDocument(p)))}));let u=Au();return l.forEach(((d,f)=>{const p=o.get(d);p!==void 0&&zu(p.mutation,f,fi.empty(),Te.now()),Rm(e,f)&&(u=u.insert(d,f))})),u}))}}class h6{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return ot.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:Ns(r.createTime)}})(e)),ot.resolve()}getNamedQuery(t,e){return ot.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(r){return{name:r.name,query:t6(r.bundledQuery),readTime:Ns(r.readTime)}})(e)),ot.resolve()}}class d6{constructor(){this.overlays=new Oe(Et.comparator),this.Lr=new Map}getOverlay(t,e){return ot.resolve(this.overlays.get(e))}getOverlays(t,e){const i=_o();return ot.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.bt(t,e,o)})),ot.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Lr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(i)),ot.resolve()}getOverlaysForCollection(t,e,i){const r=_o(),o=e.length+1,l=new Et(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return ot.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Oe(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=_o(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=_o(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,p)=>u.set(f,p))),!(u.size()>=r)););return ot.resolve(u)}bt(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.Lr.get(r.largestBatchId).delete(i.key);this.Lr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new N3(e,i));let o=this.Lr.get(e);o===void 0&&(o=Kt(),this.Lr.set(e,o)),this.Lr.set(e,o.add(i.key))}}class f6{constructor(){this.sessionToken=Cn.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ot.resolve()}}class n_{constructor(){this.kr=new hn(pn.Kr),this.qr=new hn(pn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const i=new pn(t,e);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Wr(new pn(t,e))}Qr(t,e){t.forEach((i=>this.removeReference(i,e)))}Gr(t){const e=new Et(new xe([])),i=new pn(e,t),r=new pn(e,t+1),o=[];return this.qr.forEachInRange([i,r],(l=>{this.Wr(l),o.push(l.key)})),o}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new Et(new xe([])),i=new pn(e,t),r=new pn(e,t+1);let o=Kt();return this.qr.forEachInRange([i,r],(l=>{o=o.add(l.key)})),o}containsKey(t){const e=new pn(t,0),i=this.kr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class pn{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return Et.comparator(t.key,e.key)||Wt(t.Hr,e.Hr)}static Ur(t,e){return Wt(t.Hr,e.Hr)||Et.comparator(t.key,e.key)}}class m6{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new hn(pn.Kr)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new I3(o,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Jr=this.Jr.add(new pn(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ot.resolve(l)}lookupMutationBatch(t,e){return ot.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Xr(i),o=r<0?0:r;return ot.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?Y0:this.Yn-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new pn(e,0),r=new pn(e,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([i,r],(l=>{const u=this.Zr(l.Hr);o.push(u)})),ot.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new hn(Wt);return e.forEach((r=>{const o=new pn(r,0),l=new pn(r,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,l],(u=>{i=i.add(u.Hr)}))})),ot.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Et.isDocumentKey(o)||(o=o.child(""));const l=new pn(new Et(o),0);let u=new hn(Wt);return this.Jr.forEachWhile((d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(d.Hr)),!0)}),l),ot.resolve(this.Yr(u))}Yr(t){const e=[];return t.forEach((i=>{const r=this.Zr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){le(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return ot.forEach(e.mutations,(r=>{const o=new pn(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,e){const i=new pn(e,0),r=this.Jr.firstAfterOrEqual(i);return ot.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class g6{constructor(t){this.ti=t,this.docs=(function(){return new Oe(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.ti(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ot.resolve(i?i.document.mutableCopy():Mn.newInvalidDocument(e))}getEntries(t,e){let i=br();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Mn.newInvalidDocument(r))})),ot.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=br();const l=e.path,u=new Et(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||F5(B5(p),i)<=0||(r.has(p.key)||Rm(e,p))&&(o=o.insert(p.key,p.mutableCopy()))}return ot.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Rt(9500)}ni(t,e){return ot.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new p6(this)}getSize(t){return ot.resolve(this.size)}}class p6 extends l6{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Mr.addEntry(t,r)):this.Mr.removeEntry(i)})),ot.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class y6{constructor(t){this.persistence=t,this.ri=new Po((e=>K0(e)),Q0),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.ii=0,this.si=new n_,this.targetCount=0,this.oi=Xl._r()}forEachTarget(t,e){return this.ri.forEach(((i,r)=>e(r))),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ii&&(this.ii=e),ot.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new Xl(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,ot.resolve()}updateTargetData(t,e){return this.lr(e),ot.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ri.forEach(((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.ri.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)})),ot.waitFor(o).next((()=>r))}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,e){const i=this.ri.get(e)||null;return ot.resolve(i)}addMatchingKeys(t,e,i){return this.si.$r(e,i),ot.resolve()}removeMatchingKeys(t,e,i){this.si.Qr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((l=>{o.push(r.markPotentiallyOrphaned(t,l))})),ot.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),ot.resolve()}getMatchingKeysForTargetId(t,e){const i=this.si.jr(e);return ot.resolve(i)}containsKey(t,e){return ot.resolve(this.si.containsKey(e))}}class L2{constructor(t,e){this._i={},this.overlays={},this.ai=new Tm(0),this.ui=!1,this.ui=!0,this.ci=new f6,this.referenceDelegate=t(this),this.li=new y6(this),this.indexManager=new e6,this.remoteDocumentCache=(function(r){return new g6(r)})((i=>this.referenceDelegate.hi(i))),this.serializer=new Z3(e),this.Pi=new h6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new d6,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this._i[t.toKey()];return i||(i=new m6(e,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,i){pt("MemoryPersistence","Starting transaction:",t);const r=new _6(this.ai.next());return this.referenceDelegate.Ti(),i(r).next((o=>this.referenceDelegate.Ii(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ei(t,e){return ot.or(Object.values(this._i).map((i=>()=>i.containsKey(t,e))))}}class _6 extends q5{constructor(t){super(),this.currentSequenceNumber=t}}class i_{constructor(t){this.persistence=t,this.Ri=new n_,this.Ai=null}static Vi(t){return new i_(t)}get di(){if(this.Ai)return this.Ai;throw Rt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.di.delete(i.toString()),ot.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.di.add(i.toString()),ot.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),ot.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((r=>this.di.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.di.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.di,(i=>{const r=Et.fromPath(i);return this.mi(t,r).next((o=>{o||e.removeEntry(r,Dt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return ot.or([()=>ot.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class nm{constructor(t,e){this.persistence=t,this.fi=new Po((i=>$5(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=o6(this,e)}static Vi(t,e){return new nm(t,e)}Ti(){}Ii(t){return ot.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}mr(t,e){return ot.forEach(this.fi,((i,r)=>this.wr(t,i,r).next((o=>o?ot.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ni(t,(l=>this.wr(t,l,e).next((u=>{u||(i++,o.removeEntry(l,Dt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),ot.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),ot.resolve()}removeReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),ot.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=If(t.data.value)),e}wr(t,e,i){return ot.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.fi.get(e);return ot.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class s_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Ts=i,this.Is=r}static Es(t,e){let i=Kt(),r=Kt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new s_(t,e.fromCache,i,r)}}class b6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class v6{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return q4()?8:G5(Ln())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.gs(t,e).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ps(t,e,r,i).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new b6;return this.ys(t,e,l).next((u=>{if(o.result=u,this.As)return this.ws(t,e,l,u.size)}))})).next((()=>o.result))}ws(t,e,i,r){return i.documentReadCount<this.Vs?(kl()<=$t.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Dl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ot.resolve()):(kl()<=$t.DEBUG&&pt("QueryEngine","Query:",Dl(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(kl()<=$t.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Dl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Is(e))):ot.resolve())}gs(t,e){if(O1(e))return ot.resolve(null);let i=Is(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=tm(e,null,"F"),i=Is(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const l=Kt(...o);return this.fs.getDocuments(t,l).next((u=>this.indexManager.getMinOffset(t,i).next((d=>{const f=this.bs(e,u);return this.Ss(e,f,l,d.readTime)?this.gs(t,tm(e,null,"F")):this.Ds(t,f,e,d)}))))})))))}ps(t,e,i,r){return O1(e)||r.isEqual(Dt.min())?ot.resolve(null):this.fs.getDocuments(t,i).next((o=>{const l=this.bs(e,o);return this.Ss(e,l,i,r)?ot.resolve(null):(kl()<=$t.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dl(e)),this.Ds(t,l,e,z5(r,eh)).next((u=>u)))}))}bs(t,e){let i=new hn(u2(t));return e.forEach(((r,o)=>{Rm(t,o)&&(i=i.add(o))})),i}Ss(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}ys(t,e,i){return kl()<=$t.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Dl(e)),this.fs.getDocumentsMatchingQuery(t,e,Ta.min(),i)}Ds(t,e,i,r){return this.fs.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const r_="LocalStore",x6=3e8;class w6{constructor(t,e,i,r){this.persistence=t,this.Cs=e,this.serializer=r,this.vs=new Oe(Wt),this.Fs=new Po((o=>K0(o)),Q0),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new u6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function E6(n,t,e,i){return new w6(n,t,e,i)}async function j2(n,t){const e=Pt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Os(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const l=[],u=[];let d=Kt();for(const f of r){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of o){u.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return e.localDocuments.getDocuments(i,d).next((f=>({Ns:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function T6(n,t){const e=Pt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.xs.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,p){const _=f.batch,v=_.keys();let E=ot.resolve();return v.forEach((S=>{E=E.next((()=>p.getEntry(d,S))).next((A=>{const C=f.docVersions.get(S);le(C!==null,48541),A.version.compareTo(C)<0&&(_.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),p.addEntry(A)))}))})),E.next((()=>u.mutationQueue.removeMutationBatch(d,_)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let d=Kt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function V2(n){const t=Pt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function S6(n,t){const e=Pt(n),i=t.snapshotVersion;let r=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=e.xs.newChangeBuffer({trackRemovals:!0});r=e.vs;const u=[];t.targetChanges.forEach(((p,_)=>{const v=r.get(_);if(!v)return;u.push(e.li.removeMatchingKeys(o,p.removedDocuments,_).next((()=>e.li.addMatchingKeys(o,p.addedDocuments,_))));let E=v.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?E=E.withResumeToken(Cn.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,i)),r=r.insert(_,E),(function(A,C,M){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=x6?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(v,E,p)&&u.push(e.li.updateTargetData(o,E))}));let d=br(),f=Kt();if(t.documentUpdates.forEach((p=>{t.resolvedLimboDocuments.has(p)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,p))})),u.push(A6(o,l,t.documentUpdates).next((p=>{d=p.Bs,f=p.Ls}))),!i.isEqual(Dt.min())){const p=e.li.getLastRemoteSnapshotVersion(o).next((_=>e.li.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(p)}return ot.waitFor(u).next((()=>l.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,d,f))).next((()=>d))})).then((o=>(e.vs=r,o)))}function A6(n,t,e){let i=Kt(),r=Kt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let l=br();return e.forEach(((u,d)=>{const f=o.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),d.isNoDocument()&&d.version.isEqual(Dt.min())?(t.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(d),l=l.insert(u,d)):pt(r_,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{Bs:l,Ls:r}}))}function C6(n,t){const e=Pt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Y0),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function R6(n,t){const e=Pt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.li.getTargetData(i,t).next((o=>o?(r=o,ot.resolve(r)):e.li.allocateTargetId(i).next((l=>(r=new ma(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.li.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.vs.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.vs=e.vs.insert(i.targetId,i),e.Fs.set(t,i.targetId)),i}))}async function Jy(n,t,e){const i=Pt(n),r=i.vs.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!oc(l))throw l;pt(r_,`Failed to update sequence numbers for target ${t}: ${l}`)}i.vs=i.vs.remove(t),i.Fs.delete(r.target)}function $1(n,t,e){const i=Pt(n);let r=Dt.min(),o=Kt();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,p){const _=Pt(d),v=_.Fs.get(p);return v!==void 0?ot.resolve(_.vs.get(v)):_.li.getTargetData(f,p)})(i,l,Is(t)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(l,u.targetId).next((d=>{o=d}))})).next((()=>i.Cs.getDocumentsMatchingQuery(l,t,e?r:Dt.min(),e?o:Kt()))).next((u=>(I6(i,g3(t),u),{documents:u,ks:o})))))}function I6(n,t,e){let i=n.Ms.get(t)||Dt.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Ms.set(t,i)}class W1{constructor(){this.activeTargetIds=x3()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class N6{constructor(){this.vo=new W1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,i){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new W1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class k6{Mo(t){}shutdown(){}}const K1="ConnectivityMonitor";class Q1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){pt(K1,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){pt(K1,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let pf=null;function Zy(){return pf===null?pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():pf++,"0x"+pf.toString(16)}const uy="RestConnection",D6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class M6{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${i}/databases/${r}`,this.$o=this.databaseId.database===Xf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Wo(t,e,i,r,o){const l=Zy(),u=this.Qo(t,e.toUriEncodedString());pt(uy,`Sending RPC '${t}' ${l}:`,u,i);const d={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(d,r,o);const{host:f}=new URL(u),p=Ma(f);return this.zo(t,u,d,i,p).then((_=>(pt(uy,`Received RPC '${t}' ${l}: `,_),_)),(_=>{throw Io(uy,`RPC '${t}' ${l} failed with error: `,_,"url: ",u,"request:",i),_}))}jo(t,e,i,r,o,l){return this.Wo(t,e,i,r,o)}Go(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rc})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}Qo(t,e){const i=D6[t];let r=`${this.qo}/v1/${e}:${i}`;return this.databaseInfo.apiKey&&(r=`${r}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),r}terminate(){}}class O6{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const In="WebChannelConnection",yu=(n,t,e)=>{n.listen(t,(i=>{try{e(i)}catch(r){setTimeout((()=>{throw r}),0)}}))};class zl extends M6{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!zl.c_){const t=zA();yu(t,UA.STAT_EVENT,(e=>{e.stat===By.PROXY?pt(In,"STAT_EVENT: detected buffering proxy"):e.stat===By.NOPROXY&&pt(In,"STAT_EVENT: detected no buffering proxy")})),zl.c_=!0}}zo(t,e,i,r,o){const l=Zy();return new Promise(((u,d)=>{const f=new jA;f.setWithCredentials(!0),f.listenOnce(VA.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Rf.NO_ERROR:const _=f.getResponseJson();pt(In,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(_)),u(_);break;case Rf.TIMEOUT:pt(In,`RPC '${t}' ${l} timed out`),d(new mt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Rf.HTTP_ERROR:const v=f.getStatus();if(pt(In,`RPC '${t}' ${l} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E?.error;if(S&&S.status&&S.message){const A=(function(M){const L=M.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(L)>=0?L:rt.UNKNOWN})(S.status);d(new mt(A,S.message))}else d(new mt(rt.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new mt(rt.UNAVAILABLE,"Connection failed."));break;default:Rt(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{pt(In,`RPC '${t}' ${l} completed.`)}}));const p=JSON.stringify(r);pt(In,`RPC '${t}' ${l} sending request:`,r),f.send(e,"POST",p,i,15)}))}T_(t,e,i){const r=Zy(),o=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=this.createWebChannelTransport(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Go(u.initMessageHeaders,e,i),u.encodeInitMessageHeaders=!0;const f=o.join("");pt(In,`Creating RPC '${t}' stream ${r}: ${f}`,u);const p=l.createWebChannel(f,u);this.I_(p);let _=!1,v=!1;const E=new O6({Ho:S=>{v?pt(In,`Not sending because RPC '${t}' stream ${r} is closed:`,S):(_||(pt(In,`Opening RPC '${t}' stream ${r} transport.`),p.open(),_=!0),pt(In,`RPC '${t}' stream ${r} sending:`,S),p.send(S))},Jo:()=>p.close()});return yu(p,Su.EventType.OPEN,(()=>{v||(pt(In,`RPC '${t}' stream ${r} transport opened.`),E.i_())})),yu(p,Su.EventType.CLOSE,(()=>{v||(v=!0,pt(In,`RPC '${t}' stream ${r} transport closed`),E.o_(),this.E_(p))})),yu(p,Su.EventType.ERROR,(S=>{v||(v=!0,Io(In,`RPC '${t}' stream ${r} transport errored. Name:`,S.name,"Message:",S.message),E.o_(new mt(rt.UNAVAILABLE,"The operation could not be completed")))})),yu(p,Su.EventType.MESSAGE,(S=>{if(!v){const A=S.data[0];le(!!A,16349);const C=A,M=C?.error||C[0]?.error;if(M){pt(In,`RPC '${t}' stream ${r} received error:`,M);const L=M.status;let H=(function(et){const N=rn[et];if(N!==void 0)return T2(N)})(L),Y=M.message;L==="NOT_FOUND"&&Y.includes("database")&&Y.includes("does not exist")&&Y.includes(this.databaseId.database)&&Io(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),H===void 0&&(H=rt.INTERNAL,Y="Unknown error status: "+L+" with message "+M.message),v=!0,E.o_(new mt(H,Y)),p.close()}else pt(In,`RPC '${t}' stream ${r} received:`,A),E.__(A)}})),zl.u_(),setTimeout((()=>{E.s_()}),0),E}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,i){super.Go(t,e,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return BA()}}function P6(n){return new zl(n)}function hy(){return typeof document<"u"?document:null}function Dm(n){return new U3(n,!0)}zl.c_=!1;class U2{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Ci=t,this.timerId=e,this.R_=i,this.A_=r,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&pt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const X1="PersistentStream";class z2{constructor(t,e,i,r,o,l,u,d){this.Ci=t,this.b_=i,this.S_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new U2(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(_r(e.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new mt(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.H_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pt(X1,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(pt(X1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class L6 extends z2{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=F3(this.serializer,t),i=(function(o){if(!("targetChange"in o))return Dt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Dt.min():l.readTime?Ns(l.readTime):Dt.min()})(t);return this.listener.J_(e,i)}Z_(t){const e={};e.database=Xy(this.serializer),e.addTarget=(function(o,l){let u;const d=l.target;if(u=Yy(d)?{documents:G3(o,d)}:{query:Y3(o,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=C2(o,l.resumeToken);const f=Wy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Dt.min())>0){u.readTime=em(o,l.snapshotVersion.toTimestamp());const f=Wy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,t);const i=W3(this.serializer,t);i&&(e.labels=i),this.K_(e)}X_(t){const e={};e.database=Xy(this.serializer),e.removeTarget=t,this.K_(e)}}class j6 extends z2{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return le(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,le(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){le(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=q3(t.writeResults,t.commitTime),i=Ns(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Xy(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>H3(this.serializer,i)))};this.K_(e)}}class V6{}class U6 extends V6{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new mt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Wo(t,Ky(e,i),r,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new mt(rt.UNKNOWN,o.toString())}))}jo(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.jo(t,Ky(e,i),r,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new mt(rt.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function z6(n,t,e,i){return new U6(n,t,e,i)}class B6{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(e),this.aa=!1):pt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const No="RemoteStore";class F6{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((l=>{i.enqueueAndForget((async()=>{Lo(this)&&(pt(No,"Restarting streams for network reachability change."),await(async function(d){const f=Pt(d);f.Ea.add(4),await Th(f),f.Va.set("Unknown"),f.Ea.delete(4),await Mm(f)})(this))}))})),this.Va=new B6(i,r)}}async function Mm(n){if(Lo(n))for(const t of n.Ra)await t(!0)}async function Th(n){for(const t of n.Ra)await t(!1)}function B2(n,t){const e=Pt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),c_(e)?l_(e):cc(e).O_()&&o_(e,t))}function a_(n,t){const e=Pt(n),i=cc(e);e.Ia.delete(t),i.O_()&&F2(e,t),e.Ia.size===0&&(i.O_()?i.L_():Lo(e)&&e.Va.set("Unknown"))}function o_(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}cc(n).Z_(t)}function F2(n,t){n.da.$e(t),cc(n).X_(t)}function l_(n){n.da=new P3({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),cc(n).start(),n.Va.ua()}function c_(n){return Lo(n)&&!cc(n).x_()&&n.Ia.size>0}function Lo(n){return Pt(n).Ea.size===0}function H2(n){n.da=void 0}async function H6(n){n.Va.set("Online")}async function q6(n){n.Ia.forEach(((t,e)=>{o_(n,t)}))}async function G6(n,t){H2(n),c_(n)?(n.Va.ha(t),l_(n)):n.Va.set("Unknown")}async function Y6(n,t,e){if(n.Va.set("Online"),t instanceof A2&&t.state===2&&t.cause)try{await(async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.da.removeTarget(u))})(n,t)}catch(i){pt(No,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await im(n,i)}else if(t instanceof Df?n.da.Xe(t):t instanceof S2?n.da.st(t):n.da.tt(t),!e.isEqual(Dt.min()))try{const i=await V2(n.localStore);e.compareTo(i)>=0&&await(function(o,l){const u=o.da.Tt(l);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=o.Ia.get(f);p&&o.Ia.set(f,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,f)=>{const p=o.Ia.get(d);if(!p)return;o.Ia.set(d,p.withResumeToken(Cn.EMPTY_BYTE_STRING,p.snapshotVersion)),F2(o,d);const _=new ma(p.target,d,f,p.sequenceNumber);o_(o,_)})),o.remoteSyncer.applyRemoteEvent(u)})(n,e)}catch(i){pt(No,"Failed to raise snapshot:",i),await im(n,i)}}async function im(n,t,e){if(!oc(t))throw t;n.Ea.add(1),await Th(n),n.Va.set("Offline"),e||(e=()=>V2(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pt(No,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Mm(n)}))}function q2(n,t){return t().catch((e=>im(n,e,t)))}async function Om(n){const t=Pt(n),e=Ra(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Y0;for(;$6(t);)try{const r=await C6(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,W6(t,r)}catch(r){await im(t,r)}G2(t)&&Y2(t)}function $6(n){return Lo(n)&&n.Ta.length<10}function W6(n,t){n.Ta.push(t);const e=Ra(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function G2(n){return Lo(n)&&!Ra(n).x_()&&n.Ta.length>0}function Y2(n){Ra(n).start()}async function K6(n){Ra(n).ra()}async function Q6(n){const t=Ra(n);for(const e of n.Ta)t.ea(e.mutations)}async function X6(n,t,e){const i=n.Ta.shift(),r=Z0.from(i,t,e);await q2(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Om(n)}async function J6(n,t){t&&Ra(n).Y_&&await(async function(i,r){if((function(l){return D3(l)&&l!==rt.ABORTED})(r.code)){const o=i.Ta.shift();Ra(i).B_(),await q2(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Om(i)}})(n,t),G2(n)&&Y2(n)}async function J1(n,t){const e=Pt(n);e.asyncQueue.verifyOperationInProgress(),pt(No,"RemoteStore received new credentials");const i=Lo(e);e.Ea.add(3),await Th(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Mm(e)}async function Z6(n,t){const e=Pt(n);t?(e.Ea.delete(2),await Mm(e)):t||(e.Ea.add(2),await Th(e),e.Va.set("Unknown"))}function cc(n){return n.ma||(n.ma=(function(e,i,r){const o=Pt(e);return o.sa(),new L6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:H6.bind(null,n),Yo:q6.bind(null,n),t_:G6.bind(null,n),J_:Y6.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),c_(n)?l_(n):n.Va.set("Unknown")):(await n.ma.stop(),H2(n))}))),n.ma}function Ra(n){return n.fa||(n.fa=(function(e,i,r){const o=Pt(e);return o.sa(),new j6(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:K6.bind(null,n),t_:J6.bind(null,n),ta:Q6.bind(null,n),na:X6.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await Om(n)):(await n.fa.stop(),n.Ta.length>0&&(pt(No,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class u_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,u=new u_(t,e,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function h_(n,t){if(_r("AsyncQueue",`${t}: ${n}`),oc(n))return new mt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}class Bl{static emptySet(t){return new Bl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Et.comparator(e.key,i.key):(e,i)=>Et.comparator(e.key,i.key),this.keyedMap=Au(),this.sortedSet=new Oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Bl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Bl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Z1{constructor(){this.ga=new Oe(Et.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Rt(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Jl{constructor(t,e,i,r,o,l,u,d,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach((u=>{l.push({type:0,doc:u})})),new Jl(t,e,Bl.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class tU{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class eU{constructor(){this.queries=tT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Pt(e),o=r.queries;r.queries=tT(),o.forEach(((l,u)=>{for(const d of u.ba)d.onError(i)}))})(this,new mt(rt.ABORTED,"Firestore shutting down"))}}function tT(){return new Po((n=>c2(n)),Cm)}async function $2(n,t){const e=Pt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Sa()&&t.Da()&&(i=2):(o=new tU,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(l){const u=h_(l,`Initialization of query '${Dl(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,o),o.ba.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&d_(e)}async function W2(n,t){const e=Pt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const l=o.ba.indexOf(t);l>=0&&(o.ba.splice(l,1),o.ba.length===0?r=t.Da()?0:1:!o.Sa()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function nU(n,t){const e=Pt(n);let i=!1;for(const r of t){const o=r.query,l=e.queries.get(o);if(l){for(const u of l.ba)u.Fa(r)&&(i=!0);l.wa=r}}i&&d_(e)}function iU(n,t,e){const i=Pt(n),r=i.queries.get(t);if(r)for(const o of r.ba)o.onError(e);i.queries.delete(t)}function d_(n){n.Ca.forEach((t=>{t.next()}))}var t0,eT;(eT=t0||(t0={})).Ma="default",eT.Cache="cache";class K2{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Jl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Jl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==t0.Cache}}class Q2{constructor(t){this.key=t}}class X2{constructor(t){this.key=t}}class sU{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Kt(),this.mutatedKeys=Kt(),this.eu=u2(t),this.tu=new Bl(this.eu)}get nu(){return this.Za}ru(t,e){const i=e?e.iu:new Z1,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((p,_)=>{const v=r.get(p),E=Rm(this.query,_)?_:null,S=!!v&&this.mutatedKeys.has(v.key),A=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let C=!1;v&&E?v.data.isEqual(E.data)?S!==A&&(i.track({type:3,doc:E}),C=!0):this.su(v,E)||(i.track({type:2,doc:E}),C=!0,(d&&this.eu(E,d)>0||f&&this.eu(E,f)<0)&&(u=!0)):!v&&E?(i.track({type:0,doc:E}),C=!0):v&&!E&&(i.track({type:1,doc:v}),C=!0,(d||f)&&(u=!0)),C&&(E?(l=l.add(E),o=A?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Ss:u,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort(((p,_)=>(function(E,S){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rt(20277,{Vt:C})}};return A(E)-A(S)})(p.type,_.type)||this.eu(p.doc,_.doc))),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],d=this.Ya.size===0&&this.current&&!r?1:0,f=d!==this.Xa;return this.Xa=d,l.length!==0||f?{snapshot:new Jl(this.query,t.tu,o,l,t.mutatedKeys,d===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Kt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const e=[];return t.forEach((i=>{this.Ya.has(i)||e.push(new X2(i))})),this.Ya.forEach((i=>{t.has(i)||e.push(new Q2(i))})),e}cu(t){this.Za=t.ks,this.Ya=Kt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Jl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const f_="SyncEngine";class rU{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class aU{constructor(t){this.key=t,this.hu=!1}}class oU{constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Po((u=>c2(u)),Cm),this.Iu=new Map,this.Eu=new Set,this.Ru=new Oe(Et.comparator),this.Au=new Map,this.Vu=new n_,this.du={},this.mu=new Map,this.fu=Xl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lU(n,t,e=!0){const i=iC(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await J2(i,t,e,!0),r}async function cU(n,t){const e=iC(n);await J2(e,t,!0,!1)}async function J2(n,t,e,i){const r=await R6(n.localStore,Is(t)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await uU(n,t,o,l==="current",r.resumeToken)),n.isPrimaryClient&&e&&B2(n.remoteStore,r),u}async function uU(n,t,e,i,r){n.pu=(_,v,E)=>(async function(A,C,M,L){let H=C.view.ru(M);H.Ss&&(H=await $1(A.localStore,C.query,!1).then((({documents:N})=>C.view.ru(N,H))));const Y=L&&L.targetChanges.get(C.targetId),$=L&&L.targetMismatches.get(C.targetId)!=null,et=C.view.applyChanges(H,A.isPrimaryClient,Y,$);return iT(A,C.targetId,et.au),et.snapshot})(n,_,v,E);const o=await $1(n.localStore,t,!0),l=new sU(t,o.ks),u=l.ru(o.documents),d=Eh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),f=l.applyChanges(u,n.isPrimaryClient,d);iT(n,e,f.au);const p=new rU(t,e,l);return n.Tu.set(t,p),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),f.snapshot}async function hU(n,t,e){const i=Pt(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((l=>!Cm(l,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Jy(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&a_(i.remoteStore,r.targetId),e0(i,r.targetId)})).catch(ac)):(e0(i,r.targetId),await Jy(i.localStore,r.targetId,!0))}async function dU(n,t){const e=Pt(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),a_(e.remoteStore,i.targetId))}async function fU(n,t,e){const i=vU(n);try{const r=await(function(l,u){const d=Pt(l),f=Te.now(),p=u.reduce(((E,S)=>E.add(S.key)),Kt());let _,v;return d.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let S=br(),A=Kt();return d.xs.getEntries(E,p).next((C=>{S=C,S.forEach(((M,L)=>{L.isValidDocument()||(A=A.add(M))}))})).next((()=>d.localDocuments.getOverlayedDocuments(E,S))).next((C=>{_=C;const M=[];for(const L of u){const H=C3(L,_.get(L.key).overlayedDocument);H!=null&&M.push(new La(L.key,H,e2(H.value.mapValue),Qi.exists(!0)))}return d.mutationQueue.addMutationBatch(E,f,M,u)})).next((C=>{v=C;const M=C.applyToLocalDocumentSet(_,A);return d.documentOverlayCache.saveOverlays(E,C.batchId,M)}))})).then((()=>({batchId:v.batchId,changes:d2(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(l,u,d){let f=l.du[l.currentUser.toKey()];f||(f=new Oe(Wt)),f=f.insert(u,d),l.du[l.currentUser.toKey()]=f})(i,r.batchId,e),await Sh(i,r.changes),await Om(i.remoteStore)}catch(r){const o=h_(r,"Failed to persist write");e.reject(o)}}async function Z2(n,t){const e=Pt(n);try{const i=await S6(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const l=e.Au.get(o);l&&(le(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?le(l.hu,14607):r.removedDocuments.size>0&&(le(l.hu,42227),l.hu=!1))})),await Sh(e,i,t)}catch(i){await ac(i)}}function nT(n,t,e){const i=Pt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,l)=>{const u=l.view.va(t);u.snapshot&&r.push(u.snapshot)})),(function(l,u){const d=Pt(l);d.onlineState=u;let f=!1;d.queries.forEach(((p,_)=>{for(const v of _.ba)v.va(u)&&(f=!0)})),f&&d_(d)})(i.eventManager,t),r.length&&i.Pu.J_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function mU(n,t,e){const i=Pt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let l=new Oe(Et.comparator);l=l.insert(o,Mn.newNoDocument(o,Dt.min()));const u=Kt().add(o),d=new km(Dt.min(),new Map,new Oe(Wt),l,u);await Z2(i,d),i.Ru=i.Ru.remove(o),i.Au.delete(t),m_(i)}else await Jy(i.localStore,t,!1).then((()=>e0(i,t,e))).catch(ac)}async function gU(n,t){const e=Pt(n),i=t.batch.batchId;try{const r=await T6(e.localStore,t);eC(e,i,null),tC(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Sh(e,r)}catch(r){await ac(r)}}async function pU(n,t,e){const i=Pt(n);try{const r=await(function(l,u){const d=Pt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return d.mutationQueue.lookupMutationBatch(f,u).next((_=>(le(_!==null,37113),p=_.keys(),d.mutationQueue.removeMutationBatch(f,_)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>d.localDocuments.getDocuments(f,p)))}))})(i.localStore,t);eC(i,t,e),tC(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Sh(i,r)}catch(r){await ac(r)}}function tC(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function eC(n,t,e){const i=Pt(n);let r=i.du[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.du[i.currentUser.toKey()]=r}}function e0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((i=>{n.Vu.containsKey(i)||nC(n,i)}))}function nC(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(a_(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),m_(n))}function iT(n,t,e){for(const i of e)i instanceof Q2?(n.Vu.addReference(i.key,t),yU(n,i)):i instanceof X2?(pt(f_,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,t),n.Vu.containsKey(i.key)||nC(n,i.key)):Rt(19791,{wu:i})}function yU(n,t){const e=t.key,i=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(i)||(pt(f_,"New document in limbo: "+e),n.Eu.add(i),m_(n))}function m_(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Et(xe.fromString(t)),i=n.fu.next();n.Au.set(i,new aU(e)),n.Ru=n.Ru.insert(e,i),B2(n.remoteStore,new ma(Is(X0(e.path)),i,"TargetPurposeLimboResolution",Tm.ce))}}async function Sh(n,t,e){const i=Pt(n),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,d)=>{l.push(i.pu(d,t,e).then((f=>{if((f||e)&&i.isPrimaryClient){const p=f?!f.fromCache:e?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(f){r.push(f);const p=s_.Es(d.targetId,f);o.push(p)}})))})),await Promise.all(l),i.Pu.J_(r),await(async function(d,f){const p=Pt(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ot.forEach(f,(v=>ot.forEach(v.Ts,(E=>p.persistence.referenceDelegate.addReference(_,v.targetId,E))).next((()=>ot.forEach(v.Is,(E=>p.persistence.referenceDelegate.removeReference(_,v.targetId,E)))))))))}catch(_){if(!oc(_))throw _;pt(r_,"Failed to update sequence numbers: "+_)}for(const _ of f){const v=_.targetId;if(!_.fromCache){const E=p.vs.get(v),S=E.snapshotVersion,A=E.withLastLimboFreeSnapshotVersion(S);p.vs=p.vs.insert(v,A)}}})(i.localStore,o))}async function _U(n,t){const e=Pt(n);if(!e.currentUser.isEqual(t)){pt(f_,"User change. New user:",t.toKey());const i=await j2(e.localStore,t);e.currentUser=t,(function(o,l){o.mu.forEach((u=>{u.forEach((d=>{d.reject(new mt(rt.CANCELLED,l))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Sh(e,i.Ns)}}function bU(n,t){const e=Pt(n),i=e.Au.get(t);if(i&&i.hu)return Kt().add(i.key);{let r=Kt();const o=e.Iu.get(t);if(!o)return r;for(const l of o){const u=e.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function iC(n){const t=Pt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=Z2.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bU.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mU.bind(null,t),t.Pu.J_=nU.bind(null,t.eventManager),t.Pu.yu=iU.bind(null,t.eventManager),t}function vU(n){const t=Pt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gU.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pU.bind(null,t),t}class sm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Dm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return E6(this.persistence,new v6,t.initialUser,this.serializer)}Cu(t){return new L2(i_.Vi,this.serializer)}Du(t){return new N6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sm.provider={build:()=>new sm};class xU extends sm{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){le(this.persistence.referenceDelegate instanceof nm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new r6(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Qn.withCacheSize(this.cacheSizeBytes):Qn.DEFAULT;return new L2((i=>nm.Vi(i,e)),this.serializer)}}class n0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nT(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=_U.bind(null,this.syncEngine),await Z6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new eU})()}createDatastore(t){const e=Dm(t.databaseInfo.databaseId),i=P6(t.databaseInfo);return z6(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,l,u){return new F6(i,r,o,l,u)})(this.localStore,this.datastore,t.asyncQueue,(e=>nT(this.syncEngine,e,0)),(function(){return Q1.v()?new Q1:new k6})())}createSyncEngine(t,e){return(function(r,o,l,u,d,f,p){const _=new oU(r,o,l,u,d,f);return p&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Pt(e);pt(No,"RemoteStore shutting down."),i.Ea.add(5),await Th(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}n0.provider={build:()=>new n0};class sC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):_r("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Ia="FirestoreClient";class wU{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this._databaseInfo=r,this.user=kn.UNAUTHENTICATED,this.clientId=G0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async l=>{pt(Ia,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(pt(Ia,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=h_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function dy(n,t){n.asyncQueue.verifyOperationInProgress(),pt(Ia,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await j2(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function sT(n,t){n.asyncQueue.verifyOperationInProgress();const e=await EU(n);pt(Ia,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>J1(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>J1(t.remoteStore,r))),n._onlineComponents=t}async function EU(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pt(Ia,"Using user provided OfflineComponentProvider");try{await dy(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===rt.FAILED_PRECONDITION||r.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Io("Error using user provided cache. Falling back to memory cache: "+e),await dy(n,new sm)}}else pt(Ia,"Using default OfflineComponentProvider"),await dy(n,new xU(void 0));return n._offlineComponents}async function rC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pt(Ia,"Using user provided OnlineComponentProvider"),await sT(n,n._uninitializedComponentsProvider._online)):(pt(Ia,"Using default OnlineComponentProvider"),await sT(n,new n0))),n._onlineComponents}function TU(n){return rC(n).then((t=>t.syncEngine))}async function aC(n){const t=await rC(n),e=t.eventManager;return e.onListen=lU.bind(null,t.syncEngine),e.onUnlisten=hU.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=cU.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=dU.bind(null,t.syncEngine),e}function SU(n,t,e={}){const i=new mr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,f){const p=new sC({next:v=>{p.Nu(),l.enqueueAndForget((()=>W2(o,_)));const E=v.docs.has(u);!E&&v.fromCache?f.reject(new mt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&v.fromCache&&d&&d.source==="server"?f.reject(new mt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new K2(X0(u.path),p,{includeMetadataChanges:!0,Ka:!0});return $2(o,_)})(await aC(n),n.asyncQueue,t,e,i))),i.promise}function AU(n,t,e={}){const i=new mr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,f){const p=new sC({next:v=>{p.Nu(),l.enqueueAndForget((()=>W2(o,_))),v.fromCache&&d.source==="server"?f.reject(new mt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(v)},error:v=>f.reject(v)}),_=new K2(u,p,{includeMetadataChanges:!0,Ka:!0});return $2(o,_)})(await aC(n),n.asyncQueue,t,e,i))),i.promise}function CU(n,t){const e=new mr;return n.asyncQueue.enqueueAndForget((async()=>fU(await TU(n),t,e))),e.promise}function oC(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const RU="ComponentProvider",rT=new Map;function IU(n,t,e,i,r){return new Q5(n,t,e,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,oC(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator,i)}const lC="firestore.googleapis.com",aT=!0;class oT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lC,this.ssl=aT}else this.host=t.host,this.ssl=t.ssl??aT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=P2;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<i6)throw new mt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}V5("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oC(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Pm{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new R5;switch(i.type){case"firstParty":return new D5(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new mt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=rT.get(e);i&&(pt(RU,"Removing Datastore"),rT.delete(e),i.terminate())})(this),Promise.resolve()}}function NU(n,t,e,i={}){n=Ds(n,Pm);const r=Ma(t),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;r&&(D0(`https://${u}`),M0("Firestore",!0)),o.host!==lC&&o.host!==u&&Io("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:u,ssl:r,emulatorOptions:i};if(!So(d,l)&&(n._setSettings(d),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=kn.MOCK_USER;else{f=WS(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new mt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new kn(_)}n._authCredentials=new I5(new HA(f,p))}}class ja{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ja(this.firestore,t,this._query)}}class We{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new va(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new We(this.firestore,t,this._key)}toJSON(){return{type:We._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(xh(e,We._jsonSchema))return new We(t,i||null,new Et(xe.fromString(e.referencePath)))}}We._jsonSchemaVersion="firestore/documentReference/1.0",We._jsonSchema={type:on("string",We._jsonSchemaVersion),referencePath:on("string")};class va extends ja{constructor(t,e,i){super(t,e,X0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new We(this.firestore,null,new Et(t))}withConverter(t){return new va(this.firestore,t,this._path)}}function ws(n,t,...e){if(n=Me(n),qA("collection","path",t),n instanceof Pm){const i=xe.fromString(t,...e);return v1(i),new va(n,null,i)}{if(!(n instanceof We||n instanceof va))throw new mt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xe.fromString(t,...e));return v1(i),new va(n.firestore,null,i)}}function Zl(n,t,...e){if(n=Me(n),arguments.length===1&&(t=G0.newId()),qA("doc","path",t),n instanceof Pm){const i=xe.fromString(t,...e);return b1(i),new We(n,null,new Et(i))}{if(!(n instanceof We||n instanceof va))throw new mt(rt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xe.fromString(t,...e));return b1(i),new We(n.firestore,n instanceof va?n.converter:null,new Et(i))}}const lT="AsyncQueue";class cT{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new U2(this,"async_queue_retry"),this._c=()=>{const i=hy();i&&pt(lT,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=hy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=hy();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new mr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!oc(t))throw t;pt(lT,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",uT(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=u_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Rt(47125,{Pc:uT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function uT(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class uc extends Pm{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new cT,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new cT(t),this._firestoreClient=void 0,await t}}}function kU(n,t){const e=typeof n=="object"?n:_m(),i=typeof n=="string"?n:Xf,r=ym(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=GS("firestore");o&&NU(r,...o)}return r}function g_(n){if(n._terminated)throw new mt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||DU(n),n._firestoreClient}function DU(n){const t=n._freezeSettings(),e=IU(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new wU(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class Mi{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mi(Cn.fromBase64String(t))}catch(e){throw new mt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Mi(Cn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Mi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(xh(t,Mi._jsonSchema))return Mi.fromBase64String(t.bytes)}}Mi._jsonSchemaVersion="firestore/bytes/1.0",Mi._jsonSchema={type:on("string",Mi._jsonSchemaVersion),bytes:on("string")};class p_{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new An(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ah{constructor(t){this._methodName=t}}class ks{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Wt(this._lat,t._lat)||Wt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ks._jsonSchemaVersion}}static fromJSON(t){if(xh(t,ks._jsonSchema))return new ks(t.latitude,t.longitude)}}ks._jsonSchemaVersion="firestore/geoPoint/1.0",ks._jsonSchema={type:on("string",ks._jsonSchemaVersion),latitude:on("number"),longitude:on("number")};class Xi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(xh(t,Xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Xi(t.vectorValues);throw new mt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:on("string",Xi._jsonSchemaVersion),vectorValues:on("object")};const MU=/^__.*__$/;class OU{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new La(t,this.data,this.fieldMask,e,this.fieldTransforms):new wh(t,this.data,e,this.fieldTransforms)}}class cC{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new La(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function uC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rt(40011,{dataSource:n})}}class y_{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new y_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return rm(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(uC(this.dataSource)&&MU.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class PU{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Dm(t)}createContext(t,e,i,r=!1){return new y_({dataSource:t,methodName:e,targetDoc:i,path:An.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lm(n){const t=n._freezeSettings(),e=Dm(n._databaseId);return new PU(n._databaseId,!!t.ignoreUndefinedProperties,e)}function hC(n,t,e,i,r,o={}){const l=n.createContext(o.merge||o.mergeFields?2:0,t,e,r);v_("Data must be an object, but it was:",l,i);const u=dC(i,l);let d,f;if(o.merge)d=new fi(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const _ of o.mergeFields){const v=tc(t,_,e);if(!l.contains(v))throw new mt(rt.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);gC(p,v)||p.push(v)}d=new fi(p),f=l.fieldTransforms.filter((_=>d.covers(_.field)))}else d=null,f=l.fieldTransforms;return new OU(new Jn(u),d,f)}class jm extends Ah{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jm}}class __ extends Ah{_toFieldTransform(t){return new v2(t.path,new ah)}isEqual(t){return t instanceof __}}class b_ extends Ah{constructor(t,e){super(t),this.Vc=e}_toFieldTransform(t){const e=new ch(t.serializer,g2(t.serializer,this.Vc));return new v2(t.path,e)}isEqual(t){return t instanceof b_&&this.Vc===t.Vc}}function LU(n,t,e,i){const r=n.createContext(1,t,e);v_("Data must be an object, but it was:",r,i);const o=[],l=Jn.empty();Pa(i,((d,f)=>{const p=mC(t,d,e);f=Me(f);const _=r.childContextForFieldPath(p);if(f instanceof jm)o.push(p);else{const v=Ch(f,_);v!=null&&(o.push(p),l.set(p,v))}}));const u=new fi(o);return new cC(l,u,r.fieldTransforms)}function jU(n,t,e,i,r,o){const l=n.createContext(1,t,e),u=[tc(t,i,e)],d=[r];if(o.length%2!=0)throw new mt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<o.length;v+=2)u.push(tc(t,o[v])),d.push(o[v+1]);const f=[],p=Jn.empty();for(let v=u.length-1;v>=0;--v)if(!gC(f,u[v])){const E=u[v];let S=d[v];S=Me(S);const A=l.childContextForFieldPath(E);if(S instanceof jm)f.push(E);else{const C=Ch(S,A);C!=null&&(f.push(E),p.set(E,C))}}const _=new fi(f);return new cC(p,_,l.fieldTransforms)}function VU(n,t,e,i=!1){return Ch(e,n.createContext(i?4:3,t))}function Ch(n,t){if(fC(n=Me(n)))return v_("Unsupported field value:",t,n),dC(n,t);if(n instanceof Ah)return(function(i,r){if(!uC(r.dataSource))throw r.createError(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.createError(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,r){const o=[];let l=0;for(const u of i){let d=Ch(u,r.childContextForArray(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=Me(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return g2(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=Te.fromDate(i);return{timestampValue:em(r.serializer,o)}}if(i instanceof Te){const o=new Te(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:em(r.serializer,o)}}if(i instanceof ks)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Mi)return{bytesValue:C2(r.serializer,i._byteString)};if(i instanceof We){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.createError(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:e_(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Xi)return(function(l,u){const d=l instanceof Xi?l.toArray():l;return{mapValue:{fields:{[ZA]:{stringValue:t2},[Jf]:{arrayValue:{values:d.map((p=>{if(typeof p!="number")throw u.createError("VectorValues must only contain numeric values.");return J0(u.serializer,p)}))}}}}}})(i,r);if(O2(i))return i._toProto(r.serializer);throw r.createError(`Unsupported field value: ${Em(i)}`)})(n,t)}function dC(n,t){const e={};return $A(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pa(n,((i,r)=>{const o=Ch(r,t.childContextForField(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function fC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Te||n instanceof ks||n instanceof Mi||n instanceof We||n instanceof Ah||n instanceof Xi||O2(n))}function v_(n,t,e){if(!fC(e)||!GA(e)){const i=Em(e);throw i==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+i)}}function tc(n,t,e){if((t=Me(t))instanceof p_)return t._internalPath;if(typeof t=="string")return mC(n,t);throw rm("Field path arguments must be of type string or ",n,!1,void 0,e)}const UU=new RegExp("[~\\*/\\[\\]]");function mC(n,t,e){if(t.search(UU)>=0)throw rm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new p_(...t.split("."))._internalPath}catch{throw rm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function rm(n,t,e,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${r}`),d+=")"),new mt(rt.INVALID_ARGUMENT,u+n+d)}function gC(n,t){return n.some((e=>e.isEqual(t)))}class zU{convertValue(t,e="none"){switch(Ca(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Aa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Rt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Pa(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Jf].arrayValue?.values?.map((i=>Ye(i.doubleValue)));return new Xi(e)}convertGeoPoint(t){return new ks(Ye(t.latitude),Ye(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Am(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(nh(t));default:return null}}convertTimestamp(t){const e=Sa(t);return new Te(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=xe.fromString(t);le(M2(i),9688,{name:t});const r=new ih(i.get(1),i.get(3)),o=new Et(i.popFirst(5));return r.isEqual(e)||_r(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}class pC extends zU{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mi(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new We(this.firestore,null,e)}}function Kn(){return new __("serverTimestamp")}function fy(n){return new b_("increment",n)}const hT="@firebase/firestore",dT="4.11.0";class yC{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new We(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new BU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(tc("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class BU extends yC{data(){return super.data()}}function FU(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class x_{}class w_ extends x_{}function my(n,t,...e){let i=[];t instanceof x_&&i.push(t),i=i.concat(e),(function(o){const l=o.filter((d=>d instanceof T_)).length,u=o.filter((d=>d instanceof E_)).length;if(l>1||l>0&&u>0)throw new mt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class E_ extends w_{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new E_(t,e,i)}_apply(t){const e=this._parse(t);return _C(t._query,e),new ja(t.firestore,t.converter,$y(t._query,e))}_parse(t){const e=Lm(t.firestore);return(function(o,l,u,d,f,p,_){let v;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new mt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){gT(_,p);const S=[];for(const A of _)S.push(mT(d,o,A));v={arrayValue:{values:S}}}else v=mT(d,o,_)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||gT(_,p),v=VU(u,l,_,p==="in"||p==="not-in");return an.create(f,p,v)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class T_ extends x_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new T_(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:ts.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let l=r;const u=o.getFlattenedFilters();for(const d of u)_C(l,d),l=$y(l,d)})(t._query,e),new ja(t.firestore,t.converter,$y(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class S_ extends w_{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new S_(t,e)}_apply(t){const e=(function(r,o,l){if(r.startAt!==null)throw new mt(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new mt(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rh(o,l)})(t._query,this._field,this._direction);return new ja(t.firestore,t.converter,m3(t._query,e))}}function gy(n,t="asc"){const e=t,i=tc("orderBy",n);return S_._create(i,e)}class A_ extends w_{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new A_(t,e,i)}_apply(t){return new ja(t.firestore,t.converter,tm(t._query,this._limit,this._limitType))}}function fT(n){return U5("limit",n),A_._create("limit",n,"F")}function mT(n,t,e){if(typeof(e=Me(e))=="string"){if(e==="")throw new mt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!l2(t)&&e.indexOf("/")!==-1)throw new mt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(xe.fromString(e));if(!Et.isDocumentKey(i))throw new mt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return R1(n,new Et(i))}if(e instanceof We)return R1(n,e._key);throw new mt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Em(e)}.`)}function gT(n,t){if(!Array.isArray(n)||n.length===0)throw new mt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function _C(n,t){const e=(function(r,o){for(const l of r)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new mt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function bC(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Ru{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xo extends yC{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Mf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(tc("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=xo._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",xo._jsonSchema={type:on("string",xo._jsonSchemaVersion),bundleSource:on("string","DocumentSnapshot"),bundleName:on("string"),bundle:on("string")};class Mf extends xo{data(t={}){return super.data(t)}}class Fl{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ru(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Mf(this._firestore,this._userDataWriter,i.key,i,new Ru(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((u=>{const d=new Mf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ru(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const d=new Mf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new Ru(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:HU(u.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=G0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function HU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rt(61501,{type:n})}}Fl._jsonSchemaVersion="firestore/querySnapshot/1.0",Fl._jsonSchema={type:on("string",Fl._jsonSchemaVersion),bundleSource:on("string","QuerySnapshot"),bundleName:on("string"),bundle:on("string")};function qU(n){n=Ds(n,We);const t=Ds(n.firestore,uc),e=g_(t);return SU(e,n._key).then((i=>GU(t,n,i)))}function Iu(n){n=Ds(n,ja);const t=Ds(n.firestore,uc),e=g_(t),i=new pC(t);return FU(n._query),AU(e,n._query).then((r=>new Fl(t,i,n,r)))}function C_(n,t,e){n=Ds(n,We);const i=Ds(n.firestore,uc),r=bC(n.converter,t,e),o=Lm(i);return R_(i,[hC(o,"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,Qi.none())])}function i0(n,t,e,...i){n=Ds(n,We);const r=Ds(n.firestore,uc),o=Lm(r);let l;return l=typeof(t=Me(t))=="string"||t instanceof p_?jU(o,"updateDoc",n._key,t,e,i):LU(o,"updateDoc",n._key,t),R_(r,[l.toMutation(n._key,Qi.exists(!0))])}function Nu(n,t){const e=Ds(n.firestore,uc),i=Zl(n),r=bC(n.converter,t),o=Lm(n.firestore);return R_(e,[hC(o,"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Qi.exists(!1))]).then((()=>i))}function R_(n,t){const e=g_(n);return CU(e,t)}function GU(n,t,e){const i=e.docs.get(t._key),r=new pC(n);return new xo(n,r,t._key,i,new Ru(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){C5(Mo),Ao(new Ea("firestore",((i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new uc(new N5(i.getProvider("auth-internal")),new M5(l,i.getProvider("app-check-internal")),X5(l,r),l);return o={useFetchStreams:e,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),As(hT,dT,t),As(hT,dT,"esm2020")})();const vC="firebasestorage.googleapis.com",xC="storageBucket",YU=120*1e3,$U=600*1e3;class ze extends Ps{constructor(t,e,i=0){super(py(t),`Firebase Storage: ${e} (${py(t)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ze.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return py(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ue;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ue||(Ue={}));function py(n){return"storage/"+n}function I_(){const n="An unknown error occurred, please check the error payload for server response.";return new ze(Ue.UNKNOWN,n)}function WU(n){return new ze(Ue.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function KU(n){return new ze(Ue.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function QU(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ze(Ue.UNAUTHENTICATED,n)}function XU(){return new ze(Ue.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JU(n){return new ze(Ue.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function ZU(){return new ze(Ue.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function t9(){return new ze(Ue.CANCELED,"User canceled the upload/download.")}function e9(n){return new ze(Ue.INVALID_URL,"Invalid URL '"+n+"'.")}function n9(n){return new ze(Ue.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function i9(){return new ze(Ue.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+xC+"' property when initializing the app?")}function s9(){return new ze(Ue.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function r9(){return new ze(Ue.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function a9(n){return new ze(Ue.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function s0(n){return new ze(Ue.INVALID_ARGUMENT,n)}function wC(){return new ze(Ue.APP_DELETED,"The Firebase app was deleted.")}function o9(n){return new ze(Ue.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bu(n,t){return new ze(Ue.INVALID_FORMAT,"String does not match format '"+n+"': "+t)}function _u(n){throw new ze(Ue.INTERNAL_ERROR,"Internal error: "+n)}class mi{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=mi.makeFromUrl(t,e)}catch{return new mi(t,"")}if(i.path==="")return i;throw n9(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const l="(/(.*))?$",u=new RegExp("^gs://"+r+l,"i"),d={bucket:1,path:3};function f(Y){Y.path_=decodeURIComponent(Y.path)}const p="v[A-Za-z0-9_]+",_=e.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",E=new RegExp(`^https?://${_}/${p}/b/${r}/o${v}`,"i"),S={bucket:1,path:3},A=e===vC?"(?:storage.googleapis.com|storage.cloud.google.com)":e,C="([^?#]*)",M=new RegExp(`^https?://${A}/${r}/${C}`,"i"),H=[{regex:u,indices:d,postModify:o},{regex:E,indices:S,postModify:f},{regex:M,indices:{bucket:1,path:2},postModify:f}];for(let Y=0;Y<H.length;Y++){const $=H[Y],et=$.regex.exec(t);if(et){const N=et[$.indices.bucket];let I=et[$.indices.path];I||(I=""),i=new mi(N,I),$.postModify(i);break}}if(i==null)throw e9(t);return i}}class l9{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function c9(n,t,e){let i=1,r=null,o=null,l=!1,u=0;function d(){return u===2}let f=!1;function p(...C){f||(f=!0,t.apply(null,C))}function _(C){r=setTimeout(()=>{r=null,n(E,d())},C)}function v(){o&&clearTimeout(o)}function E(C,...M){if(f){v();return}if(C){v(),p.call(null,C,...M);return}if(d()||l){v(),p.call(null,C,...M);return}i<64&&(i*=2);let H;u===1?(u=2,H=0):H=(i+Math.random())*1e3,_(H)}let S=!1;function A(C){S||(S=!0,v(),!f&&(r!==null?(C||(u=2),clearTimeout(r),_(0)):C||(u=1)))}return _(0),o=setTimeout(()=>{l=!0,A(!0)},e),A}function u9(n){n(!1)}function h9(n){return n!==void 0}function d9(n){return typeof n=="object"&&!Array.isArray(n)}function N_(n){return typeof n=="string"||n instanceof String}function pT(n){return k_()&&n instanceof Blob}function k_(){return typeof Blob<"u"}function yT(n,t,e,i){if(i<t)throw s0(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw s0(`Invalid value for '${n}'. Expected ${e} or less.`)}function D_(n,t,e){let i=t;return e==null&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function EC(n){const t=encodeURIComponent;let e="?";for(const i in n)if(n.hasOwnProperty(i)){const r=t(i)+"="+t(n[i]);e=e+r+"&"}return e=e.slice(0,-1),e}var wo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(wo||(wo={}));function f9(n,t){const e=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,o=t.indexOf(n)!==-1;return e||r||o}class m9{constructor(t,e,i,r,o,l,u,d,f,p,_,v=!0,E=!1){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=u,this.errorCallback_=d,this.timeout_=f,this.progressCallback_=p,this.connectionFactory_=_,this.retry=v,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,A)=>{this.resolve_=S,this.reject_=A,this.start_()})}start_(){const t=(i,r)=>{if(r){i(!1,new yf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=u=>{const d=u.loaded,f=u.lengthComputable?u.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,f)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const u=o.getErrorCode()===wo.NO_ERROR,d=o.getStatus();if(!u||f9(d,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===wo.ABORT;i(!1,new yf(!1,null,p));return}const f=this.successCodes_.indexOf(d)!==-1;i(!0,new yf(f,o))})},e=(i,r)=>{const o=this.resolve_,l=this.reject_,u=r.connection;if(r.wasSuccessCode)try{const d=this.callback_(u,u.getResponse());h9(d)?o(d):o()}catch(d){l(d)}else if(u!==null){const d=I_();d.serverResponse=u.getErrorText(),this.errorCallback_?l(this.errorCallback_(u,d)):l(d)}else if(r.canceled){const d=this.appDelete_?wC():t9();l(d)}else{const d=ZU();l(d)}};this.canceled_?e(!1,new yf(!1,null,!0)):this.backoffId_=c9(t,e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&u9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class yf{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function g9(n,t){t!==null&&t.length>0&&(n.Authorization="Firebase "+t)}function p9(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function y9(n,t){t&&(n["X-Firebase-GMPID"]=t)}function _9(n,t){t!==null&&(n["X-Firebase-AppCheck"]=t)}function b9(n,t,e,i,r,o,l=!0,u=!1){const d=EC(n.urlParams),f=n.url+d,p=Object.assign({},n.headers);return y9(p,t),g9(p,e),p9(p,o),_9(p,i),new m9(f,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,l,u)}function v9(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function x9(...n){const t=v9();if(t!==void 0){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}else{if(k_())return new Blob(n);throw new ze(Ue.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function w9(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}function E9(n){if(typeof atob>"u")throw a9("base-64");return atob(n)}const Ts={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yy{constructor(t,e){this.data=t,this.contentType=e||null}}function T9(n,t){switch(n){case Ts.RAW:return new yy(TC(t));case Ts.BASE64:case Ts.BASE64URL:return new yy(SC(n,t));case Ts.DATA_URL:return new yy(A9(t),C9(t))}throw I_()}function TC(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(e<n.length-1&&(n.charCodeAt(e+1)&64512)===56320))t.push(239,191,189);else{const o=i,l=n.charCodeAt(++e);i=65536|(o&1023)<<10|l&1023,t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(t)}function S9(n){let t;try{t=decodeURIComponent(n)}catch{throw Bu(Ts.DATA_URL,"Malformed data URL.")}return TC(t)}function SC(n,t){switch(n){case Ts.BASE64:{const r=t.indexOf("-")!==-1,o=t.indexOf("_")!==-1;if(r||o)throw Bu(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ts.BASE64URL:{const r=t.indexOf("+")!==-1,o=t.indexOf("/")!==-1;if(r||o)throw Bu(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=E9(t)}catch(r){throw r.message.includes("polyfill")?r:Bu(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class AC{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(e===null)throw Bu(Ts.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;i!=null&&(this.base64=R9(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}function A9(n){const t=new AC(n);return t.base64?SC(Ts.BASE64,t.rest):S9(t.rest)}function C9(n){return new AC(n).contentType}function R9(n,t){return n.length>=t.length?n.substring(n.length-t.length)===t:!1}class ca{constructor(t,e){let i=0,r="";pT(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(pT(this.data_)){const i=this.data_,r=w9(i,t,e);return r===null?null:new ca(r)}else{const i=new Uint8Array(this.data_.buffer,t,e-t);return new ca(i,!0)}}static getBlob(...t){if(k_()){const e=t.map(i=>i instanceof ca?i.data_:i);return new ca(x9.apply(null,e))}else{const e=t.map(l=>N_(l)?T9(Ts.RAW,l).data:l.data_);let i=0;e.forEach(l=>{i+=l.byteLength});const r=new Uint8Array(i);let o=0;return e.forEach(l=>{for(let u=0;u<l.length;u++)r[o++]=l[u]}),new ca(r,!0)}}uploadData(){return this.data_}}function CC(n){let t;try{t=JSON.parse(n)}catch{return null}return d9(t)?t:null}function I9(n){if(n.length===0)return null;const t=n.lastIndexOf("/");return t===-1?"":n.slice(0,t)}function N9(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return n.length===0?e:n+"/"+e}function RC(n){const t=n.lastIndexOf("/",n.length-2);return t===-1?n:n.slice(t+1)}function k9(n,t){return t}class Un{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||k9}}let _f=null;function D9(n){return!N_(n)||n.length<2?n:RC(n)}function IC(){if(_f)return _f;const n=[];n.push(new Un("bucket")),n.push(new Un("generation")),n.push(new Un("metageneration")),n.push(new Un("name","fullPath",!0));function t(o,l){return D9(l)}const e=new Un("name");e.xform=t,n.push(e);function i(o,l){return l!==void 0?Number(l):l}const r=new Un("size");return r.xform=i,n.push(r),n.push(new Un("timeCreated")),n.push(new Un("updated")),n.push(new Un("md5Hash",null,!0)),n.push(new Un("cacheControl",null,!0)),n.push(new Un("contentDisposition",null,!0)),n.push(new Un("contentEncoding",null,!0)),n.push(new Un("contentLanguage",null,!0)),n.push(new Un("contentType",null,!0)),n.push(new Un("metadata","customMetadata",!0)),_f=n,_f}function M9(n,t){function e(){const i=n.bucket,r=n.fullPath,o=new mi(i,r);return t._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:e})}function O9(n,t,e){const i={};i.type="file";const r=e.length;for(let o=0;o<r;o++){const l=e[o];i[l.local]=l.xform(i,t[l.server])}return M9(i,n),i}function NC(n,t,e){const i=CC(t);return i===null?null:O9(n,i,e)}function P9(n,t,e,i){const r=CC(t);if(r===null||!N_(r.downloadTokens))return null;const o=r.downloadTokens;if(o.length===0)return null;const l=encodeURIComponent;return o.split(",").map(f=>{const p=n.bucket,_=n.fullPath,v="/b/"+l(p)+"/o/"+l(_),E=D_(v,e,i),S=EC({alt:"media",token:f});return E+S})[0]}function L9(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const o=t[r];o.writable&&(e[o.server]=n[o.local])}return JSON.stringify(e)}class kC{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function DC(n){if(!n)throw I_()}function j9(n,t){function e(i,r){const o=NC(n,r,t);return DC(o!==null),o}return e}function V9(n,t){function e(i,r){const o=NC(n,r,t);return DC(o!==null),P9(o,r,n.host,n._protocol)}return e}function MC(n){function t(e,i){let r;return e.getStatus()===401?e.getErrorText().includes("Firebase App Check token is invalid")?r=XU():r=QU():e.getStatus()===402?r=KU(n.bucket):e.getStatus()===403?r=JU(n.path):r=i,r.status=e.getStatus(),r.serverResponse=i.serverResponse,r}return t}function U9(n){const t=MC(n);function e(i,r){let o=t(i,r);return i.getStatus()===404&&(o=WU(n.path)),o.serverResponse=r.serverResponse,o}return e}function z9(n,t,e){const i=t.fullServerUrl(),r=D_(i,n.host,n._protocol),o="GET",l=n.maxOperationRetryTime,u=new kC(r,o,V9(n,e),l);return u.errorHandler=U9(t),u}function B9(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}function F9(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=B9(null,t)),i}function H9(n,t,e,i,r){const o=t.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function u(){let H="";for(let Y=0;Y<2;Y++)H=H+Math.random().toString().slice(2);return H}const d=u();l["Content-Type"]="multipart/related; boundary="+d;const f=F9(t,i,r),p=L9(f,e),_="--"+d+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+d+`\r
Content-Type: `+f.contentType+`\r
\r
`,v=`\r
--`+d+"--",E=ca.getBlob(_,i,v);if(E===null)throw s9();const S={name:f.fullPath},A=D_(o,n.host,n._protocol),C="POST",M=n.maxUploadRetryTime,L=new kC(A,C,j9(n,e),M);return L.urlParams=S,L.headers=l,L.body=E.uploadData(),L.errorHandler=MC(t),L}class q9{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=wo.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=wo.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=wo.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r,o){if(this.sent_)throw _u("cannot .send() more than once");if(Ma(t)&&i&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(e,t,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw _u("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw _u("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw _u("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw _u("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class G9 extends q9{initXhr(){this.xhr_.responseType="text"}}function OC(){return new G9}class ko{constructor(t,e){this._service=t,e instanceof mi?this._location=e:this._location=mi.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new ko(t,e)}get root(){const t=new mi(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return RC(this._location.path)}get storage(){return this._service}get parent(){const t=I9(this._location.path);if(t===null)return null;const e=new mi(this._location.bucket,t);return new ko(this._service,e)}_throwIfRoot(t){if(this._location.path==="")throw o9(t)}}function Y9(n,t,e){n._throwIfRoot("uploadBytes");const i=H9(n.storage,n._location,IC(),new ca(t,!0),e);return n.storage.makeRequestWithTokens(i,OC).then(r=>({metadata:r,ref:n}))}function $9(n){n._throwIfRoot("getDownloadURL");const t=z9(n.storage,n._location,IC());return n.storage.makeRequestWithTokens(t,OC).then(e=>{if(e===null)throw r9();return e})}function W9(n,t){const e=N9(n._location.path,t),i=new mi(n._location.bucket,e);return new ko(n.storage,i)}function K9(n){return/^[A-Za-z]+:\/\//.test(n)}function Q9(n,t){return new ko(n,t)}function PC(n,t){if(n instanceof M_){const e=n;if(e._bucket==null)throw i9();const i=new ko(e,e._bucket);return t!=null?PC(i,t):i}else return t!==void 0?W9(n,t):n}function X9(n,t){if(t&&K9(t)){if(n instanceof M_)return Q9(n,t);throw s0("To use ref(service, url), the first argument must be a Storage instance.")}else return PC(n,t)}function _T(n,t){const e=t?.[xC];return e==null?null:mi.makeFromBucketSpec(e,n)}function J9(n,t,e,i={}){n.host=`${t}:${e}`;const r=Ma(t);r&&(D0(`https://${n.host}/b`),M0("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:WS(o,n.app.options.projectId))}class M_{constructor(t,e,i,r,o,l=!1){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._isUsingEmulator=l,this._bucket=null,this._host=vC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=YU,this._maxUploadRetryTime=$U,this._requests=new Set,r!=null?this._bucket=mi.makeFromBucketSpec(r,this._host):this._bucket=_T(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=mi.makeFromBucketSpec(this._url,t):this._bucket=_T(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){yT("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){yT("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const e=await t.getToken();if(e!==null)return e.accessToken}return null}async _getAppCheckToken(){if(Di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new ko(this,t)}_makeRequest(t,e,i,r,o=!0){if(this._deleted)return new l9(wC());{const l=b9(t,this._appId,i,r,e,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(t,e){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,e,i,r).getPromise()}}const bT="@firebase/storage",vT="0.14.0";const LC="storage";function Z9(n,t,e){return n=Me(n),Y9(n,t,e)}function tz(n){return n=Me(n),$9(n)}function ez(n,t){return n=Me(n),X9(n,t)}function nz(n=_m(),t){n=Me(n);const i=ym(n,LC).getImmediate({identifier:t}),r=GS("storage");return r&&iz(i,...r),i}function iz(n,t,e,i={}){J9(n,t,e,i)}function sz(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new M_(e,i,r,t,Mo)}function rz(){Ao(new Ea(LC,sz,"PUBLIC").setMultipleInstances(!0)),As(bT,vT,""),As(bT,vT,"esm2020")}rz();const az=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oz=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),xT=n=>{const t=oz(n);return t.charAt(0).toUpperCase()+t.slice(1)},jC=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),lz=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var cz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uz=B.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:l,...u},d)=>B.createElement("svg",{ref:d,...cz,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:jC("lucide",r),...!o&&!lz(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>B.createElement(f,p)),...Array.isArray(o)?o:[o]]));const wr=(n,t)=>{const e=B.forwardRef(({className:i,...r},o)=>B.createElement(uz,{ref:o,iconNode:t,className:jC(`lucide-${az(xT(n))}`,`lucide-${n}`,i),...r}));return e.displayName=xT(n),e};const hz=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dz=wr("clock",hz);const fz=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],wT=wr("external-link",fz);const mz=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],gz=wr("funnel",mz);const pz=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],yz=wr("image",pz);const _z=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],bz=wr("lock",_z);const vz=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],xz=wr("play",vz);const wz=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ez=wr("search",wz);const Tz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Sz=wr("star",Tz);const Az=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ET=wr("users",Az),Cz=[{id:"course_01",title:"Estratgia Med",year:"2024",provider:"Drive",professorsCount:4,duration:"20h",rating:4.5,students:1970,progress:.48,level:"Avanado",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Estrat%C3%A9gia%20MED/estrategiaMED.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/logo-estrategiamed.png"},{id:"course_02",title:"Medgrupo",year:"2024",provider:"Drive",professorsCount:3,duration:"18h",rating:4.7,students:2302,progress:0,level:"Bsico",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Medgrupo/medgrupo.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/medgrupo-logo.jpg"},{id:"course_03",title:"Liberdade Mdica",year:"2024",provider:"Drive",professorsCount:3,duration:"16h",rating:4.7,students:2754,progress:.48,level:"Intermedirio",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Liberdade%20M%C3%A9dica/liberdademedica.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/lm-logo.jpg"},{id:"course_04",title:"Raciocnio Clnico na Emergncia",year:"2024",provider:"Drive",professorsCount:3,duration:"19h",rating:4.8,students:2759,progress:.12,level:"Bsico",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Dr%C2%BA.%20Eduardo%20Jo%C3%A3o/raciocinioEmerg%C3%AAncia.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/raciocinioClinicoEmergencia-logo.webp"},{id:"course_05",title:"Afya",year:"2024",provider:"Drive",professorsCount:3,duration:"19h",rating:4.7,students:1483,progress:0,level:"Avanado",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Afya/afya.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/afya-logo.jpg"},{id:"course_06",title:"Neurofcil",year:"2024",provider:"Drive",professorsCount:4,duration:"8h",rating:4.7,students:982,progress:0,level:"Intermedirio",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Neurof%C3%A1cil/neuroflix.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/neurofacil-logo.jpg"},{id:"course_07",title:"PS Zerado",year:"2024",provider:"Drive",professorsCount:1,duration:"17h",rating:4.8,students:1096,progress:0,level:"Bsico",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/PS%20Zerado/pszerado.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/pszerado-logo.jpg"},{id:"course_08",title:"Simm",year:"2024",provider:"Drive",professorsCount:2,duration:"10h",rating:5,students:1668,progress:.25,level:"Intermedirio",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/SIMM/simm.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/simm-logo.png"},{id:"course_09",title:"Emergncia - Dr. Ian Ward",year:"2024",provider:"Drive",professorsCount:4,duration:"17h",rating:4.6,students:657,progress:.12,level:"Bsico",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Emerg%C3%AAncia%20-%20Dr.%20Ian%20Ward/emergenciaIanWard.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/ianward-logo.jpeg"},{id:"course_10",title:"Oftreview",year:"2024",provider:"Drive",professorsCount:3,duration:"20h",rating:4.6,students:1647,progress:0,level:"Intermedirio",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/OFTReview/oftreviewextensivo.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/oftreview-logo.jpg"},{id:"course_11",title:"Medreview",year:"2024",provider:"Drive",professorsCount:1,duration:"11h",rating:4.9,students:951,progress:.48,level:"Intermedirio",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/MEDReview/escolhermedreview.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/medreview-logo.png"},{id:"course_12",title:"T de Clinicagem",year:"2024",provider:"Drive",professorsCount:4,duration:"13h",rating:4.5,students:2715,progress:.48,level:"Bsico",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/T%C3%A1%20de%20Clinicagem/tdc.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/tdc-logo.jpg"},{id:"course_13",title:"Medcof",year:"2024",provider:"Drive",professorsCount:5,duration:"15h",rating:4.7,students:1070,progress:0,level:"Avanado",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Medcof/medcofselecao.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/medcof-logo.jpg"},{id:"course_14",title:"Casal Medresumos",year:"2024",provider:"Drive",professorsCount:1,duration:"15h",rating:4.8,students:1369,progress:.48,level:"Avanado",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/CasalMED%20Resumos/casalMEDResumos.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/casalmedresumos-logo.jpg"},{id:"course_15",title:"Curso de Clnica Mdica Ambulatorial  4 Edio",year:"2024",provider:"Drive",professorsCount:2,duration:"10h",rating:4.9,students:2302,progress:.48,level:"Bsico",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Cl%C3%ADnica%20M%C3%A9dica%20Ambulatorial%20%E2%80%93%20%204%C2%AA%20edi%C3%A7%C3%A3o/clinicaMedicaAmbulatorialIVEd.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/cma4edi-logo.webp"},{id:"course_16",title:"Curso de Clnica Mdica Ambulatorial - 3 Edio: Turma II",year:"2024",provider:"Drive",professorsCount:4,duration:"19h",rating:4.6,students:712,progress:0,level:"Avanado",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Cl%C3%ADnica%20M%C3%A9dica%20Ambulatorial%20-%203%C2%AA%20Edi%C3%A7%C3%A3o%20-%20Turma%20II/clinicaMedicaAmbulatorial3EdTurmaII.html",imageUrl:"https://devjvs.github.io/MedicinaJVS/Imagens/cma3edi-logo.png"},{id:"course_17",title:"Cardiologia",year:"2024",provider:"Drive",professorsCount:4,duration:"9h",rating:4.9,students:2733,progress:.12,level:"Intermedirio",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Cursos%20de%20Cardiologia/cursosCardiologia.html",imageUrl:"https://static.vecteezy.com/ti/vetor-gratis/p1/4212714-icone-cardiologia-coracao-gratis-vetor.jpg"},{id:"course_18",title:"Psiquiatria na Prtica",year:"2024",provider:"Drive",professorsCount:3,duration:"20h",rating:4.7,students:1285,progress:.12,level:"Avanado",tags:[],access:"granted",driveUrl:"https://medicinajvs.github.io/Medicina-JVS---Provis-rio/Psiquiatria%20na%20Prtica/escolherpsiquiatrianapratica.html",imageUrl:"https://psiqpratica.com.br/wp-content/uploads/2023/08/cropped-cropped-logo-psiquiatria-pratica_000.png"},{id:"course_19",title:"HCXFM-USP",year:"2024",provider:"Drive",professorsCount:2,duration:"13h",rating:4.9,students:511,progress:.25,level:"Intermedirio",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/HCXFM-USP/hcxfmUSP.html",imageUrl:"https://hcxfmusp.org.br/portal/wp-content/uploads/2024/03/logo-hcx-fmusp.png"},{id:"course_20",title:"Neuropost",year:"2024",provider:"Drive",professorsCount:4,duration:"12h",rating:4.5,students:1430,progress:.25,level:"Avanado",tags:[],access:"granted",driveUrl:"https://devjvs.github.io/MedicinaJVS/Neuropost/selecaoCurso.html",imageUrl:"https://i.scdn.co/image/ab67656300005f1f3be8ff55415861f93209dc5a"}];function Fu(...n){return n.filter(Boolean).join(" ")}function Rz(n){return`${Math.round((n||0)*100)}%`}function Iz(n){return typeof n!="number"?"":n>=1e3?`${(n/1e3).toFixed(1)}k`:String(n)}function Rl({children:n,tone:t="neutral"}){const e={neutral:"bg-slate-100 text-slate-700 border-slate-200",success:"bg-emerald-50 text-emerald-700 border-emerald-200",warning:"bg-amber-50 text-amber-800 border-amber-200",danger:"bg-rose-50 text-rose-700 border-rose-200",brand:"bg-blue-50 text-blue-700 border-blue-200"};return b.jsx("span",{className:Fu("inline-flex items-center gap-1 rounded-full border px-2 py-0.5 text-xs font-medium",e[t]),children:n})}function Nz({value:n}){const t=Math.max(0,Math.min(1,n||0));return b.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-100",children:b.jsx("div",{className:"h-full rounded-full bg-blue-600 transition-all",style:{width:`${t*100}%`}})})}function kz({src:n,alt:t,size:e="xl"}){const i=e==="sm"?"h-16 w-16":e==="md"?"h-20 w-20":e==="lg"?"h-24 w-24":"h-28 w-28";return b.jsx("div",{className:Fu("relative flex items-center justify-center overflow-hidden rounded-2xl border bg-white shadow-sm",i),children:n?b.jsx("img",{src:n,alt:t,className:"h-full w-full object-contain p-2",loading:"lazy"}):b.jsxs("div",{className:"flex flex-col items-center justify-center text-slate-400",children:[b.jsx(yz,{className:"h-6 w-6"}),b.jsx("span",{className:"mt-1 text-[11px]",children:"Imagem"})]})})}function Dz({course:n,onOpenCourse:t}){const e=n.access==="locked",i=n.access==="soon",r=(n.progress||0)>0,o=!!n.driveUrl&&!e&&!i;return b.jsxs("div",{className:Fu("group relative overflow-hidden rounded-2xl border bg-white shadow-sm transition","hover:-translate-y-0.5 hover:shadow-lg",e&&"opacity-95"),children:[b.jsxs("div",{className:"p-4",children:[b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx(kz,{src:n.imageUrl,alt:n.title,size:"xl"}),b.jsxs("div",{className:"min-w-0 flex-1",children:[b.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.year&&b.jsx(Rl,{tone:"neutral",children:n.year}),n.level&&b.jsx(Rl,{tone:"neutral",children:n.level}),e&&b.jsx(Rl,{tone:"danger",children:"Bloqueado"}),i&&b.jsx(Rl,{tone:"warning",children:"Em breve"}),!e&&!i&&b.jsx(Rl,{tone:"success",children:"Liberado"})]}),b.jsx("h3",{className:"mt-3 line-clamp-2 text-base font-semibold text-slate-900",children:n.title}),b.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-slate-600",children:[n.provider&&b.jsx("span",{className:"inline-flex items-center gap-1",children:b.jsx("span",{className:"font-medium",children:n.provider})}),typeof n.professorsCount=="number"&&b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx(ET,{className:"h-4 w-4"}),n.professorsCount," prof."]}),n.duration&&b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx(dz,{className:"h-4 w-4"}),n.duration]}),typeof n.rating=="number"&&b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx(Sz,{className:"h-4 w-4"}),n.rating]}),typeof n.students=="number"&&b.jsxs("span",{className:"inline-flex items-center gap-1",children:[b.jsx(ET,{className:"h-4 w-4"}),Iz(n.students)," alunos"]})]}),!!(n.tags||[]).length&&b.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:(n.tags||[]).slice(0,3).map(l=>b.jsx(Rl,{tone:"neutral",children:l},l))})]})]}),b.jsxs("div",{className:"mt-4",children:[b.jsxs("div",{className:"mb-2 flex items-center justify-between text-xs text-slate-600",children:[b.jsx("span",{children:"Progresso"}),b.jsx("span",{className:"font-medium",children:Rz(n.progress)})]}),b.jsx(Nz,{value:n.progress})]}),b.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[b.jsx("button",{onClick:()=>!e&&!i&&t?.(n),disabled:e||i,className:Fu("inline-flex flex-1 items-center justify-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold transition",e||i?"cursor-not-allowed bg-slate-100 text-slate-400":"bg-blue-600 text-white hover:bg-blue-700"),children:e?b.jsxs(b.Fragment,{children:[b.jsx(bz,{className:"h-4 w-4"}),"Bloqueado"]}):b.jsxs(b.Fragment,{children:[b.jsx(xz,{className:"h-4 w-4"}),r?"Continuar":"Acessar curso"]})}),o?b.jsxs("a",{href:n.driveUrl,target:"_blank",rel:"noopener noreferrer",className:Fu("inline-flex items-center justify-center gap-2 rounded-xl border px-3 py-2 text-sm font-semibold transition","border-slate-200 bg-white text-slate-700 hover:bg-slate-50"),title:"Abrir no Drive",children:[b.jsx(wT,{className:"h-4 w-4"}),"Drive"]}):b.jsxs("button",{type:"button",disabled:!0,className:"inline-flex items-center justify-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm font-semibold text-slate-300",title:"Drive indisponvel (curso no liberado)",children:[b.jsx(wT,{className:"h-4 w-4"}),"Drive"]})]}),(e||i)&&b.jsx("p",{className:"mt-3 text-xs text-slate-500",children:e?"Este curso est bloqueado. Libere o acesso para continuar.":"Contedo em preparao. Voc ser avisado quando liberar."})]}),b.jsx("div",{className:"pointer-events-none absolute inset-0 rounded-2xl ring-0 ring-blue-500/15 transition group-hover:ring-4"})]})}function Mz({courses:n=Cz,onOpenCourse:t,title:e="Meus Cursos",subtitle:i="Todos os dados do card so dinmicos (20 cursos no mock)."}){const[r,o]=B.useState(""),[l,u]=B.useState("all"),[d,f]=B.useState("recent"),p=B.useMemo(()=>{const _=(n||[]).filter(S=>(S.title||"").toLowerCase().includes(r.trim().toLowerCase()));return[...l==="all"?_:_.filter(S=>S.access===l)].sort((S,A)=>d==="rating"?(A.rating||0)-(S.rating||0):d==="progress"?(A.progress||0)-(S.progress||0):0)},[n,r,l,d]);return b.jsxs("div",{className:"w-full",children:[b.jsxs("div",{className:"mb-6 flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-xl font-bold text-slate-900",children:e}),b.jsx("p",{className:"text-sm text-slate-600",children:i})]}),b.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[b.jsxs("div",{className:"relative",children:[b.jsx(Ez,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),b.jsx("input",{value:r,onChange:_=>o(_.target.value),placeholder:"Buscar curso...",className:"w-full rounded-xl border bg-white py-2 pl-9 pr-3 text-sm outline-none transition focus:ring-4 focus:ring-blue-500/10 sm:w-64"})]}),b.jsxs("div",{className:"inline-flex items-center gap-2",children:[b.jsx(gz,{className:"h-4 w-4 text-slate-500"}),b.jsxs("select",{value:l,onChange:_=>u(_.target.value),className:"rounded-xl border bg-white px-3 py-2 text-sm outline-none transition focus:ring-4 focus:ring-blue-500/10",children:[b.jsx("option",{value:"all",children:"Todos"}),b.jsx("option",{value:"granted",children:"Liberados"}),b.jsx("option",{value:"locked",children:"Bloqueados"}),b.jsx("option",{value:"soon",children:"Em breve"})]})]}),b.jsxs("select",{value:d,onChange:_=>f(_.target.value),className:"rounded-xl border bg-white px-3 py-2 text-sm outline-none transition focus:ring-4 focus:ring-blue-500/10",children:[b.jsx("option",{value:"recent",children:"Ordenar: padro"}),b.jsx("option",{value:"rating",children:"Ordenar: avaliao"}),b.jsx("option",{value:"progress",children:"Ordenar: progresso"})]})]})]}),b.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:p.map(_=>b.jsx(Dz,{course:_,onOpenCourse:t},_.id))}),p.length===0&&b.jsx("div",{className:"mt-10 rounded-2xl border bg-white p-8 text-center",children:b.jsx("p",{className:"text-sm text-slate-600",children:"Nenhum curso encontrado."})})]})}const dr=n=>{const t="/login/",e=t.endsWith("/")?t:t+"/",i=n.startsWith("/")?n.slice(1):n;return e+i},Oi="pages/institucional";function bf({to:n,newTab:t=!1}){return B.useEffect(()=>{const e=dr(n);t?window.open(e,"_blank","noopener,noreferrer"):window.location.assign(e)},[n,t]),null}const VC=`
  @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700&display=swap');

  body.login-mode {
      margin: 0;
      padding: 0;
      height: 100vh;
      width: 100vw;
      font-family: 'Plus Jakarta Sans', sans-serif;
      background-color: #f8fafc;
      overflow: hidden;
  }

  /* Garante que o template do Vite no limite largura no Login */
  body.login-mode #root {
      width: 100%;
      max-width: none !important;
      margin: 0 !important;
      padding: 0 !important;
  }

  .bg-grid-pattern {
      background-image: radial-gradient(#cbd5e1 1px, transparent 1px);
      background-size: 24px 24px;
  }

  @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.95); }
      to { opacity: 1; transform: scale(1); }
  }
  .animate-fade-in { animation: fadeIn 0.5s ease-out forwards; }
    
  .text-medical-600 { color: #0d9488; }
  .text-medical-500 { color: #14b8a6; }
  .bg-medical-600 { background-color: #0d9488; }
  .bg-medical-500 { background-color: #14b8a6; }
  .border-medical-500 { border-color: #14b8a6; }
  .hover:bg-medical-700:hover { background-color: #0f766e; }
  .focus:ring-medical-500/20:focus { --tw-ring-color: rgb(20 184 166 / 0.2); }
`,Oz=`
  html, body, #root { height: 100%; width: 100%; }
  #root { max-width: none !important; margin: 0 !important; padding: 0 !important; }
  html body { background: #f8fafc !important; }
  /* ==== FORA FUNDO CLARO EM TUDO (mata o "preto atrs") ==== */
html, body, #root {
  width: 100%;
  min-height: 100%;
  background: #f8fafc !important; /* mesmo fundo do site */
}

/* Evita qualquer "transparncia" em wrappers */
.main-layout-wrapper,
#app-shell,
.app-shell,
.dashboard-shell,
main {
  background: #f8fafc !important;
}

`,Pz=`
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');

  @keyframes slideUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
  }
  .animate-slide-up { animation: slideUp 0.8s ease-out forwards; }

  .coming-soon-fixed {
      position: fixed;
      top: 0; 
      right: 0;
      bottom: 0; 
      z-index: 40; 
      background-color: #f8fafc; 
      width: calc(100% - 6.5rem); 
      transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      overflow-y: auto;
  }

  body.sidebar-expanded .coming-soon-fixed {
      width: calc(100% - 16rem);
  }
`,Lz=`
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

  body.dashboard-mode {
      font-family: 'Inter', sans-serif;
      background-color: #f8fafc;
      color: #334155;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
  }

  /* Garante que o template do Vite no limite largura no Dashboard */
  body.dashboard-mode #root {
      width: 100%;
      max-width: none !important;
      margin: 0 !important;
      padding: 0 !important;
  }


  /* SIDEBAR DINMICA */
  #sidebar {
      position: fixed; 
      top: 0; 
      left: 0; 
      z-index: 60;
      width: 6.5rem;
      height: 100vh;
      background-color: white;
      border-right: 1px solid #e2e8f0;
      transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
  }
    
  body.sidebar-expanded #sidebar { 
      width: 16rem; 
  }

  /* LAYOUT WRAPPER */
  .main-layout-wrapper {
      position: relative;
      margin-left: 6.5rem;
      width: calc(100% - 6.5rem);
      min-height: 100vh;
      background-color: #f8fafc;
      display: flex;
      flex-direction: column;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  body.sidebar-expanded .main-layout-wrapper { 
      margin-left: 16rem; 
      width: calc(100% - 16rem);
  }

  .dashboard-header {
      position: fixed;
      top: 0;
      right: 0;
      z-index: 50;
      background-color: white;
      border-bottom: 1px solid #e2e8f0;
      box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      width: calc(100% - 6.5rem); 
      transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  body.sidebar-expanded .dashboard-header {
      width: calc(100% - 16rem);
  }

  #sidebar .sidebar-link-text, #sidebar .logo-text {
      opacity: 0; transform: translateX(-10px);
      transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
      pointer-events: none; white-space: nowrap; width: 0; overflow: hidden;
  }
  body.sidebar-expanded #sidebar .sidebar-link-text, body.sidebar-expanded #sidebar .logo-text {
      opacity: 1; transform: translateX(0); pointer-events: auto; width: auto;
  }
    
  .sidebar-link {
      display: flex; align-items: center; padding: 0.75rem; width: 100%;
      border-radius: 0.75rem; justify-content: center;
      color: #64748b;
      text-decoration: none;
  }
  body.sidebar-expanded .sidebar-link { justify-content: flex-start; }
    
  .sidebar-link .icon-container {
      display: flex; align-items: center; justify-content: center;
      min-width: 2.5rem; min-height: 2.5rem; border-radius: 0.5rem;
      transition: background-color 0.2s ease, color 0.2s ease;
  }
  .sidebar-link svg { stroke: currentColor; fill: none; transition: all 0.2s ease; }
    
  .sidebar-link.active .icon-container { background-color: #0d9488; color: white; }
  .sidebar-link.active svg { stroke: white; }
  body.sidebar-expanded .sidebar-link.active { background-color: #0d9488; color: white; }
  body.sidebar-expanded .sidebar-link.active .icon-container { background-color: transparent; }
    
  .sidebar-link:hover .icon-container { background-color: #ccfbf1; color: #0f766e; }
  .sidebar-link:hover svg { stroke: currentColor; }
  body.sidebar-expanded .sidebar-link:hover { background-color: #ccfbf1; color: #0f766e; }
  body.sidebar-expanded .sidebar-link:hover .icon-container { background-color: transparent; }
    
  .sidebar-scrollable { scrollbar-width: thin; scrollbar-color: #cbd5e1 transparent; }
  .sidebar-scrollable::-webkit-scrollbar { width: 6px; }
  .sidebar-scrollable::-webkit-scrollbar-track { background: transparent; }
  .sidebar-scrollable::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 10px; }

  /* Elementos de UI do Dashboard */
  .filter-input {
      appearance: none; -webkit-appearance: none; background-color: white;
      border: 1px solid transparent;
      border-radius: 0.5rem; padding: 0.625rem 1rem;
      font-size: 0.875rem; color: #475569; 
      box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      transition: all 0.2s ease;
  }
  .filter-input:hover { background-color: #f8fafc; } 
  .filter-input:focus { outline: none; box-shadow: 0 0 0 2px rgb(59 130 246 / 0.1); background-color: white; }
    
  .view-toggle-button {
      background-color: white; border: 1px solid transparent; padding: 0.625rem;
      border-radius: 0.5rem; color: #94a3b8; transition: all 0.2s ease;
  }
  .view-toggle-button.active { color: #3b82f6; background-color: #eff6ff; }
    
  .custom-select-panel { 
      max-height: 250px; overflow-y: auto; 
      box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1); 
      border: 1px solid #f1f5f9; 
  }
    
  #autocomplete-list { 
      max-height: 250px; overflow-y: auto; 
      border: 1px solid #f1f5f9; 
      box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1); 
  }
  #autocomplete-list div:hover { background-color: #f8fafc; }

  /* Estilos especficos da rea de Conta */
  .tag-button {
      padding: 0.5rem 1rem;
      border-radius: 9999px;
      border: 1px solid #e5e7eb;
      background-color: white;
      color: #374151;
      font-size: 0.875rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
  }
  .tag-button:hover { background-color: #f9fafb; border-color: #d1d5db; }
  .tag-button.active { background-color: #eff6ff; color: #2563eb; border-color: #2563eb; }

  .form-label { display: block; font-size: 0.75rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.05em; }
  .form-input { display: block; width: 100%; border-radius: 0.5rem; border: 1px solid #d1d5db; padding: 0.75rem; font-size: 0.875rem; color: #111827; transition: border-color 0.2s; }
  .form-input:focus { outline: none; border-color: #2563eb; ring: 2px solid #eff6ff; }
  .input-with-icon { position: relative; }
  .input-with-icon input { padding-right: 2.5rem; }
  .input-with-icon i { position: absolute; right: 1rem; top: 50%; transform: translateY(-50%); color: #9ca3af; }

  .btn-primary {
      background-color: #0d9488;
      color: white;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      font-weight: 600;
      font-size: 0.875rem;
      border: none;
      cursor: pointer;
      transition: background-color 0.2s;
      box-shadow: 0 1px 2px rgba(0,0,0,0.1);
  }
  .btn-primary:hover {
      background-color: #0f766e;
  }

  .btn-secondary {
      background-color: white;
      color: #64748b;
      padding: 0.75rem 1.5rem;
      border-radius: 0.5rem;
      font-weight: 600;
      font-size: 0.875rem;
      border: 1px solid #e2e8f0; 
      cursor: pointer;
      transition: all 0.2s;
  }
  .btn-secondary:hover {
      background-color: #f8fafc;
      color: #334155;
      border-color: #cbd5e1;
  }
`;function jz({label:n="Iniciando"}){const[t,e]=B.useState(0),[i,r]=B.useState(n);return B.useEffect(()=>{const o=document.body.style.overflow;document.body.style.overflow="hidden";let l=0;const u=setInterval(()=>{l+=Math.random()*4,l>=100?(l=100,e(100),r("Bem-vindo"),clearInterval(u)):e(l)},50);return()=>{clearInterval(u),document.body.style.overflow=o||"auto"}},[]),b.jsxs("div",{id:"loader-wrapper",className:"fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-slate-50",children:[b.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;500;600;700&display=swap');
        :root { --medical-primary: #0ea5e9; --medical-dark: #0f172a; }
        #loader-wrapper { font-family: 'Plus Jakarta Sans', sans-serif; }
        .glass-card {
          background: rgba(255, 255, 255, 0.7);
          backdrop-filter: blur(20px);
          -webkit-backdrop-filter: blur(20px);
          border: 1px solid rgba(255, 255, 255, 0.8);
          box-shadow: 0 20px 50px -12px rgba(14, 165, 233, 0.15);
          padding: 3rem 4rem;
          border-radius: 2rem;
          display: flex;
          flex-direction: column;
          align-items: center;
          position: relative;
        }
        .logo-text {
          font-size: 2.5rem;
          font-weight: 800;
          background: linear-gradient(135deg, #0f172a 30%, #0ea5e9 100%);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          margin-bottom: 2rem;
          letter-spacing: -0.02em;
        }
        .ecg-container { width: 240px; height: 80px; position: relative; }
        .ecg-svg { width: 100%; height: 100%; overflow: visible; }
        .ecg-bg {
          fill: none; stroke: #cbd5e1; stroke-width: 2; stroke-opacity: 0.3;
          stroke-linecap: round; stroke-linejoin: round;
        }
        .ecg-line {
          fill: none; stroke: #0ea5e9; stroke-width: 3;
          stroke-linecap: round; stroke-linejoin: round;
          stroke-dasharray: 600; stroke-dashoffset: 600;
          animation: ecgDash 2.5s infinite linear;
          filter: drop-shadow(0 0 6px rgba(14, 165, 233, 0.6));
        }
        @keyframes ecgDash { 0% { stroke-dashoffset: 600; } 50% { stroke-dashoffset: 0; } 100% { stroke-dashoffset: -600; } }
        .loading-info { display: flex; flex-direction: column; align-items: center; width: 100%; margin-top: 1.5rem; }
        .loading-label {
          font-size: 0.75rem; font-weight: 600; text-transform: uppercase;
          letter-spacing: 0.15em; color: #64748b; margin-bottom: 0.75rem;
        }
        .progress-track { width: 180px; height: 6px; background: #f1f5f9; border-radius: 10px; overflow: hidden; }
        .progress-bar { height: 100%; background: linear-gradient(90deg, #0ea5e9, #38bdf8); width: 0%; border-radius: 10px; transition: width 0.1s linear; }
        .ambient-light { position: absolute; border-radius: 50%; filter: blur(80px); opacity: 0.6; animation: floatAmbient 10s infinite ease-in-out alternate; pointer-events:none; }
        .orb-1 { top: -10%; left: -10%; width: 50vw; height: 50vw; background: radial-gradient(circle, #bae6fd 0%, transparent 70%); }
        .orb-2 { bottom: -10%; right: -10%; width: 60vw; height: 60vw; background: radial-gradient(circle, #e0f2fe 0%, transparent 70%); }
        @keyframes floatAmbient { to { transform: translate(30px, 30px); } }
      `}),b.jsx("div",{className:"ambient-light orb-1"}),b.jsx("div",{className:"ambient-light orb-2"}),b.jsxs("div",{className:"glass-card",children:[b.jsx("div",{className:"logo-text",children:"MEDJVS"}),b.jsx("div",{className:"ecg-container",children:b.jsxs("svg",{className:"ecg-svg",viewBox:"0 0 300 100","aria-hidden":"true",children:[b.jsx("defs",{children:b.jsx("path",{id:"ecgPath",d:"M0,50 L40,50 L55,50 L65,20 L80,80 L95,50 L120,50 L130,30 L140,60 L150,50 L300,50"})}),b.jsx("use",{href:"#ecgPath",className:"ecg-bg"}),b.jsx("use",{href:"#ecgPath",className:"ecg-line"}),b.jsx("circle",{fill:"#38bdf8",r:"4",style:{filter:"drop-shadow(0 0 8px rgba(56,189,248,0.9))"},children:b.jsx("animateMotion",{dur:"2.5s",repeatCount:"indefinite",rotate:"auto",children:b.jsx("mpath",{href:"#ecgPath"})})})]})}),b.jsxs("div",{className:"loading-info",children:[b.jsx("div",{className:"loading-label",children:i}),b.jsx("div",{className:"progress-track",children:b.jsx("div",{className:"progress-bar",style:{width:`${t}%`}})})]})]})]})}const Vz=[{id:1,title:"Atualizaes Para Residncia Mdica e Revalida",category:"Reviso",specialty:"",teachers:"4 Professores",driveLink:"https://drive.google.com/drive/folders/1eGQPdQ1_CojEh6L0CTveZsQAPn_CG1oS?usp=drive_link",image:"Imagens/logo-estrategiamed.png",url:""},{id:2,title:"Cardiologia",category:"2024",specialty:"",teachers:"7 Professores",driveLink:"https://drive.google.com/drive/folders/166yD5_xofQdFSzA5-E7d7PLjQjE12wd9?usp=drive_link",image:"Imagens/medgrupo-logo.jpg",url:""},{id:3,title:"Cirurgia",category:"2024",specialty:"",teachers:"9 Professores",driveLink:"https://drive.google.com/drive/folders/1BDVRDqPwgWlPsqzlR2ERtIftb2fwNYgi?usp=drive_link",image:"Imagens/lm-logo.jpg",url:""},{id:4,title:"Cronograma e Guias Estatsticos",category:"Guia",specialty:"",teachers:"Dr. Eduardo Joo",driveLink:"https://drive.google.com/drive/folders/1ZNplTcdvkess8oPOxkUCyR_IjZrkf9oC?usp=drive_link",image:"Imagens/raciocinioClinicoEmergencia-logo.webp",url:""},{id:5,title:"Curso Multimdia e Radiologia (Bnus)",category:"Bnus",specialty:"",teachers:"2 Professores",driveLink:"https://drive.google.com/drive/folders/1qOULSLrAGEqCm4vRZoN-lYFI4NZrF1qo?usp=drive_link",image:"Imagens/afya-logo.jpg",url:""},{id:6,title:"Dermatologia",category:"2024",specialty:"",teachers:"3 Professores",driveLink:"https://drive.google.com/drive/folders/1dp2EH-kNM5NPYeaTyJNP2YBXEQ6eXbXy?usp=drive_link",image:"Imagens/neurofacil-logo.jpg",url:""},{id:7,title:"Ginecologia",category:"2024",specialty:"",teachers:"6 Professores",driveLink:"https://drive.google.com/drive/folders/1oy1MOL3X9Vy2WTOspbPZc1x9anym6d8P?usp=drive_link",image:"Imagens/pszerado-logo.jpg",url:""},{id:8,title:"Endocrinologia",category:"2024",specialty:"",teachers:"4 Professores",driveLink:"https://drive.google.com/drive/folders/15fz3Faks8MrYDRwmqxs3-GEIBZ8HLFyJ?usp=drive_link",image:"Imagens/simm-logo.png",url:""},{id:9,title:"Hematologia",category:"2024",specialty:"",teachers:"3 Professores",driveLink:"https://drive.google.com/drive/folders/1dgaEtPzHrCDY7Rcq3st7vmtPGbkKeAy8?usp=drive_link",image:"Imagens/ianward-logo.jpeg",url:""},{id:10,title:"Hepatologia",category:"2024",specialty:"",teachers:"2 Professores",driveLink:"https://drive.google.com/drive/folders/18_JCUHK2y-x7sxNkknK-u1PTo1AO5lFF?usp=drive_link",image:"Imagens/oftreview-logo.jpg",url:""},{id:11,title:"Medicina Preventiva",category:"2024",specialty:"",teachers:"4 Professores",driveLink:"https://drive.google.com/drive/folders/1MysKJnL8jR1GqZrEpJwKoYAN7Qdc9JDM?usp=drive_link",image:"Imagens/medreview-logo.png",url:""},{id:12,title:"Infectologia",category:"2024",specialty:"",teachers:"5 Professores",driveLink:"https://drive.google.com/drive/folders/1AcoBsbnlP4mX2ygoOMjFfqHuYNLpK2vi?usp=drive_link",image:"Imagens/tdc-logo.jpg",url:""},{id:13,title:"Gastroenterologia",category:"2024",specialty:"",teachers:"5 Professores",driveLink:"https://drive.google.com/drive/folders/1Z_vpQfOZLkyGu3NMaz82C1pLLPfTvcC0?usp=drive_link",image:"Imagens/medcof-logo.jpg",url:""},{id:14,title:"Obstetrcia",category:"2024",specialty:"",teachers:"2 Professores",driveLink:"https://drive.google.com/drive/folders/1RJABk5JK75LCIC735K1n56kPI3gWeaTd?usp=drive_link",image:"Imagens/casalmedresumos-logo.jpg",url:""},{id:15,title:"Nefrologia",category:"2024",specialty:"",teachers:"3 Professores",driveLink:"https://drive.google.com/drive/folders/1to463vVYk9DB7sX--hLIblY7TQkgIL3j?usp=drive_link",image:"Imagens/cma4edi-logo.webp",url:""},{id:16,title:"Neurologia",category:"2024",specialty:"",teachers:"5 Professores",driveLink:"https://drive.google.com/drive/folders/1Skrz3DbqeEUayGbq-tJjGwFGSVpY1pqm?usp=drive_link",image:"Imagens/cma3edi-logo.png",url:""},{id:17,title:"Oftalmologia",category:"2024",specialty:"",teachers:"2 Professores",driveLink:"#",image:"Imagens/cardiologia-logo.jpg",url:""},{id:18,title:"Pediatria",category:"2024",specialty:"",teachers:"2 Professores",driveLink:"https://drive.google.com/drive/folders/1gHzWvFPJvqFmzUTf_vleEFLQVaolGv1P?usp=drive_link",image:"Imagens/psiquiatria-pratica-logo.png",url:""},{id:19,title:"Pneumologia",category:"2024",specialty:"",teachers:"3 Professores",driveLink:"https://drive.google.com/drive/folders/1A39rmG1Km6xoprTdUJROWypgDoeVsGhA?usp=drive_link",image:"Imagens/hcx-logo.png",url:""},{id:20,title:"Psiquiatria",category:"2025",specialty:"",teachers:"4 Professores",driveLink:"https://drive.google.com/drive/folders/1fvmXJ26JgIURuZDvY7AGtsuBk2qaLW0t?usp=drive_link",image:"Imagens/neuropost-logo.jpg",url:""}],Uz={apiKey:"AIzaSyAHrOwcOuEp4uaQpq6ntmw3d0O3zsv1QU8",authDomain:"medicinajvs-e6f81.firebaseapp.com",projectId:"medicinajvs-e6f81",storageBucket:"medicinajvs-e6f81.firebasestorage.app",messagingSenderId:"550614193077",appId:"1:550614193077:web:ec11fe90db0d7d3a33bffc",measurementId:"G-RFF2NCK5F5"},O_=JL().length?_m():XS(Uz),uh=S5(O_),Hl=kU(O_),zz=nz(O_),zn=(n="")=>n.toString().normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().trim(),UC=()=>b.jsx("footer",{className:"w-full mt-12 border-t border-slate-200 bg-white",children:b.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:b.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center md:justify-between gap-6 text-center",children:[b.jsxs("div",{className:"text-sm text-slate-500",children:[b.jsx("span",{className:"font-semibold text-slate-700",children:"Medicina JVS"}),"  Estudos mdicos com foco em prtica e performance.",b.jsxs("div",{className:"mt-1 text-xs text-slate-400",children:[" ",new Date().getFullYear()," Medicina JVS. Todos os direitos reservados."]})]}),b.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-6 text-sm",children:[b.jsx("a",{href:dr(`${Oi}/suporte.html`),className:"text-slate-600 hover:text-slate-900",target:"_blank",rel:"noreferrer",children:"Suporte"}),b.jsx("a",{href:dr(`${Oi}/politicaPrivacidade.html`),className:"text-slate-600 hover:text-slate-900",target:"_blank",rel:"noreferrer",children:"Privacidade"}),b.jsx("a",{href:dr(`${Oi}/termosUso.html`),className:"text-slate-600 hover:text-slate-900",target:"_blank",rel:"noreferrer",children:"Termos"}),b.jsx("a",{href:dr(`${Oi}/cookies.html`),className:"text-slate-600 hover:text-slate-900",target:"_blank",rel:"noreferrer",children:"Cookies"})]}),b.jsxs("div",{className:"text-sm text-slate-500",children:[b.jsx("div",{className:"font-semibold text-slate-700",children:"Contato"}),b.jsx("div",{className:"text-slate-600",children:"suporte@medicinajvs.com"})]})]})})}),Bz=()=>{const[n,t]=B.useState({days:0,hours:0,minutes:0,seconds:0});B.useEffect(()=>{const i="medjvs_launchAtMs";let r=Number(localStorage.getItem(i)||0);(!r||Number.isNaN(r))&&(r=Date.now()+360*60*60*1e3,localStorage.setItem(i,String(r)));const o=()=>{const u=r-Date.now();if(u<=0){t({days:0,hours:0,minutes:0,seconds:0});return}const d=Math.floor(u/(1e3*60*60*24)),f=Math.floor(u%(1e3*60*60*24)/(1e3*60*60)),p=Math.floor(u%(1e3*60*60)/(1e3*60)),_=Math.floor(u%(1e3*60)/1e3);t({days:d,hours:f,minutes:p,seconds:_})};o();const l=setInterval(o,1e3);return()=>clearInterval(l)},[]);const e=i=>i<10?`0${i}`:i;return b.jsxs("div",{className:"coming-soon-fixed font-sans text-slate-800 flex flex-col min-h-screen bg-slate-50 pt-24",children:[b.jsx("style",{children:Pz}),b.jsx("main",{className:"flex-grow flex items-center justify-center p-4 relative w-full",children:b.jsxs("div",{className:"z-10 w-full max-w-3xl text-center space-y-8 animate-slide-up",children:[b.jsx("div",{className:"mb-8",children:b.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-blue-100 text-blue-700 text-sm font-semibold tracking-wider border border-blue-200",children:"NOVAS EXPERINCIAS"})}),b.jsx("h1",{className:"text-5xl md:text-7xl font-bold tracking-tight text-slate-800 pb-2",children:"Em Breve"}),b.jsx("p",{className:"text-lg md:text-xl text-slate-500 max-w-2xl mx-auto leading-relaxed",children:"Estamos a trabalhar arduamente nos bastidores para criar algo incrvel para si. O nosso novo site ser lanado muito em breve."}),b.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 max-w-2xl mx-auto py-8",children:["Dias","Horas","Minutos","Segundos"].map((i,r)=>{const o=[n.days,n.hours,n.minutes,n.seconds][r];return b.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-gray-100 p-4 flex flex-col items-center justify-center hover:shadow-lg transition duration-300",children:[b.jsx("span",{className:`text-3xl md:text-4xl font-bold mb-1 ${r===3?"text-blue-600":"text-slate-800"}`,children:e(o)}),b.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-widest font-semibold",children:i})]},i)})})]})}),b.jsx(UC,{})]})},Fz=()=>{const n=dh(),[t,e]=B.useState(""),[i,r]=B.useState(""),[o,l]=B.useState(!1),[u,d]=B.useState(!1),[f,p]=B.useState({show:!1,message:"",type:"success"});B.useEffect(()=>(document.body.classList.add("login-mode"),document.body.classList.remove("dashboard-mode"),document.body.classList.remove("sidebar-expanded"),()=>{document.body.classList.remove("login-mode")}),[]);const _=(S,A="success")=>{p({show:!0,message:S,type:A}),setTimeout(()=>p(C=>({...C,show:!1})),4e3)},v=async S=>{S.preventDefault(),d(!0);try{const C=(await hV(uh,t.trim(),i)).user;if(!C.emailVerified){await TA(C),_("Enviamos um e-mail de verificao. Verifique sua caixa de entrada.","success"),n("/verifique-email",{replace:!0});return}n("/",{replace:!0})}catch(A){const C=A?.code==="auth/invalid-credential"?"Email ou senha invlidos.":A?.code==="auth/user-not-found"?"Usurio no encontrado.":A?.code==="auth/too-many-requests"?"Muitas tentativas. Aguarde um pouco e tente novamente.":"No foi possvel fazer login. Tente novamente.";_(C,"error")}finally{d(!1)}},E=async()=>{const S=t.trim();if(!S){_("Digite seu e-mail para receber o link de redefinio.","error");return}d(!0);try{await uV(uh,S),_("Enviamos um link de redefinio de senha para seu e-mail.","success")}catch(A){const C=A?.code==="auth/user-not-found"?"No encontramos um usurio com esse e-mail.":A?.code==="auth/invalid-email"?"E-mail invlido.":"No foi possvel enviar o e-mail de redefinio.";_(C,"error")}finally{d(!1)}};return b.jsxs("div",{className:"min-h-screen w-full grid place-items-center px-4",children:[b.jsx("style",{children:VC}),f.show&&b.jsx("div",{className:`fixed top-6 right-6 z-50 px-4 py-3 rounded-lg shadow-lg text-white ${f.type==="error"?"bg-red-600":"bg-emerald-600"}`,children:f.message}),b.jsx("div",{className:"w-full max-w-md bg-white/90 backdrop-blur rounded-2xl shadow-xl border border-slate-200 overflow-hidden animate-fade-in",children:b.jsxs("div",{className:"p-8",children:[b.jsxs("div",{className:"mb-8 text-center",children:[b.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-2xl bg-blue-600 flex items-center justify-center text-white font-bold",children:"M"}),b.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Medicina JVS"}),b.jsx("p",{className:"text-slate-500 mt-1",children:"Entre com seu e-mail e senha"})]}),b.jsxs("form",{onSubmit:v,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Email"}),b.jsx("input",{type:"email",value:t,onChange:S=>e(S.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 outline-none focus:ring-2 focus:ring-blue-500",placeholder:"seuemail@exemplo.com",required:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Senha"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:o?"text":"password",value:i,onChange:S=>r(S.target.value),className:"w-full rounded-xl border border-slate-200 px-4 py-3 pr-12 outline-none focus:ring-2 focus:ring-blue-500",placeholder:"",required:!0}),b.jsx("button",{type:"button",onClick:()=>l(S=>!S),className:"absolute right-3 top-1/2 -translate-y-1/2 rounded-lg p-2 text-slate-500 transition hover:bg-slate-100 hover:text-slate-700 focus:outline-none focus:ring-4 focus:ring-blue-100","aria-label":o?"Ocultar senha":"Mostrar senha",children:o?b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M17.94 17.94A10.94 10.94 0 0 1 12 20c-7 0-10-8-10-8a21.77 21.77 0 0 1 5.06-6.94"}),b.jsx("path",{d:"M1 1l22 22"}),b.jsx("path",{d:"M9.9 4.24A10.94 10.94 0 0 1 12 4c7 0 10 8 10 8a21.77 21.77 0 0 1-4.87 6.85"}),b.jsx("path",{d:"M14.12 14.12a3 3 0 0 1-4.24-4.24"})]}):b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("path",{d:"M2 12s3-8 10-8 10 8 10 8-3 8-10 8-10-8-10-8Z"}),b.jsx("circle",{cx:"12",cy:"12",r:"3"})]})})]})]}),b.jsx("button",{type:"submit",disabled:u,className:"w-full rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 transition disabled:opacity-60",children:u?"Entrando...":"Entrar"}),b.jsx("div",{className:"flex items-center justify-center",children:b.jsx("button",{type:"button",onClick:E,className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-blue-700 shadow-sm transition hover:bg-blue-50 hover:border-blue-200 focus:outline-none focus:ring-4 focus:ring-blue-100",children:"Esqueci minha senha"})}),b.jsx("div",{className:"pt-2 text-center text-xs text-slate-500",children:"Precisa de acesso? Fale com o suporte."}),b.jsxs("div",{className:"mt-4 flex flex-wrap items-center justify-center gap-4 text-xs text-slate-500",children:[b.jsx("a",{href:dr(`${Oi}/suporte.html`),className:"hover:text-slate-800 hover:underline",target:"_blank",rel:"noreferrer",children:"Suporte"}),b.jsx("a",{href:dr(`${Oi}/politicaPrivacidade.html`),className:"hover:text-slate-800 hover:underline",target:"_blank",rel:"noreferrer",children:"Privacidade"}),b.jsx("a",{href:dr(`${Oi}/termosUso.html`),className:"hover:text-slate-800 hover:underline",target:"_blank",rel:"noreferrer",children:"Termos"}),b.jsx("a",{href:dr(`${Oi}/cookies.html`),className:"hover:text-slate-800 hover:underline",target:"_blank",rel:"noreferrer",children:"Cookies"})]})]})]})})]})},Hz=({authUser:n})=>{const t=dh(),[e,i]=B.useState({show:!1,message:"",type:"success"}),[r,o]=B.useState(!1),l=(p,_="success")=>{i({show:!0,message:p,type:_}),setTimeout(()=>i(v=>({...v,show:!1})),4e3)};B.useEffect(()=>(document.body.classList.add("login-mode"),document.body.classList.remove("dashboard-mode"),document.body.classList.remove("sidebar-expanded"),()=>document.body.classList.remove("login-mode")),[]);const u=async()=>{if(n){o(!0);try{await TA(n),l("E-mail de verificao reenviado.","success")}catch{l("No foi possvel reenviar. Tente novamente.","error")}finally{o(!1)}}},d=async()=>{if(n)try{await n.reload(),n.emailVerified?t("/",{replace:!0}):l("Ainda no consta como verificado. Atualize aps confirmar no e-mail.","error")}catch{l("Falha ao atualizar status. Tente novamente.","error")}},f=async()=>{await SA(uh),t("/login",{replace:!0})};return b.jsxs("div",{className:"min-h-screen w-full grid place-items-center px-4",children:[b.jsx("style",{children:VC}),e.show&&b.jsx("div",{className:`fixed top-6 right-6 z-50 px-4 py-3 rounded-lg shadow-lg text-white ${e.type==="error"?"bg-red-600":"bg-emerald-600"}`,children:e.message}),b.jsx("div",{className:"w-full max-w-md bg-white/90 backdrop-blur rounded-2xl shadow-xl border border-slate-200 overflow-hidden animate-fade-in",children:b.jsxs("div",{className:"p-8 text-center",children:[b.jsx("div",{className:"mx-auto mb-4 h-12 w-12 rounded-2xl bg-blue-600 flex items-center justify-center text-white font-bold",children:""}),b.jsx("h1",{className:"text-2xl font-bold text-slate-900",children:"Verifique seu e-mail"}),b.jsxs("p",{className:"text-slate-600 mt-2",children:["Enviamos um link de verificao para ",b.jsx("span",{className:"font-semibold",children:n?.email}),". Voc precisa confirmar para acessar a plataforma."]}),b.jsxs("div",{className:"mt-6 space-y-3",children:[b.jsx("button",{onClick:d,className:"w-full rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 transition",children:"J verifiquei, continuar"}),b.jsx("button",{onClick:u,disabled:r,className:"w-full rounded-xl border border-slate-200 hover:bg-slate-50 text-slate-800 font-semibold py-3 transition disabled:opacity-60",children:r?"Reenviando...":"Reenviar e-mail"}),b.jsx("button",{onClick:f,className:"w-full rounded-xl text-slate-500 hover:text-slate-700 text-sm py-2",children:"Sair"})]}),b.jsx("div",{className:"mt-6 text-xs text-slate-500",children:"Dica: verifique tambm spam/lixo eletrnico."})]})})]})},qz=({authUser:n,userData:t,setUserData:e,userRole:i,courses:r})=>{const o=dh(),[l,u]=B.useState(!1),[d,f]=B.useState("courses-view"),[p,_]=B.useState("Meus Cursos"),[v,E]=B.useState("access-content"),[S,A]=B.useState(!1),[C,M]=B.useState(!1),[L,H]=B.useState(""),[Y,$]=B.useState(""),[et,N]=B.useState(!0),[I,D]=B.useState(3),[j,P]=B.useState(!1),[U,O]=B.useState(!1),[Nt,bt]=B.useState(!1),[Q,lt]=B.useState(!1),[ft,yt]=B.useState(!1);B.useEffect(()=>(document.body.classList.add("dashboard-mode"),document.body.classList.remove("login-mode"),l?document.body.classList.add("sidebar-expanded"):document.body.classList.remove("sidebar-expanded"),()=>{document.body.classList.remove("dashboard-mode"),document.body.classList.remove("sidebar-expanded")}),[l]),B.useEffect(()=>{const ct=localStorage.getItem("medJVS_currentUserEmail");if(ct){const Bt=localStorage.getItem(`medJVS_data_${ct}`);Bt&&e(JSON.parse(Bt))}},[]);const St=async ct=>{const Bt={...t||{},...ct,updatedAt:Kn()};if(e(Be=>({...Be||{},...ct})),!!n)try{await i0(Zl(Hl,"users",n.uid),Bt)}catch{try{await C_(Zl(Hl,"users",n.uid),{...Bt,createdAt:Kn()},{merge:!0})}catch{}}},z=async ct=>{ct.preventDefault(),await SA(uh),o("/login",{replace:!0})},nt=ct=>u(ct),ut=(ct,Bt)=>{f(ct),_(Bt)},dt=(ct,Bt)=>{f(ct),_("Minha Conta"),E(Bt),O(!1),A(!1),M(!1)},xt=ct=>{const Bt=t.favorites||[];let Be;Bt.includes(ct)?Be=Bt.filter(Ke=>Ke!==ct):Be=[...Bt,ct],St({favorites:Be})},Tt=async ct=>{const Bt=ct.target.files?.[0];if(!Bt||!n)return;if(!["image/jpeg","image/png","image/webp"].includes(Bt.type)){alert("Formato invlido. Use JPG, PNG ou WEBP.");return}if(Bt.size>5*1024*1024){alert("Arquivo muito grande. Use at 5MB.");return}try{const Ke=`users/${n.uid}/profile.jpg`,ti=ez(zz,Ke);await Z9(ti,Bt,{contentType:Bt.type});const pi=await tz(ti);await St({image:pi})}catch(Ke){console.error(Ke),alert("No foi possvel enviar a imagem.")}},zt=ct=>{console.log("Acessando curso:",ct.title)},re=ct=>{const Bt=ct.target.value;H(Bt),yt(Bt.length>0)};(r||[]).filter(ct=>{const Bt=zn(L),Be=zn([ct.title,ct.searchTitle,ct.category,ct.specialty,ct.teachers,ct.professor,Array.isArray(ct.tags)?ct.tags.join(" "):""].filter(Boolean).join(" ")),Ke=!Bt||Be.includes(Bt),ti=!Y||zn(ct.specialty||"").includes(zn(Y));return Ke&&ti});const ce=[...new Set((r||[]).map(ct=>ct.specialty).filter(Boolean))].sort(),Zn=(r||[]).filter(ct=>L&&(ct.title||"").toLowerCase().includes(L.toLowerCase())).slice(0,5);return b.jsxs(b.Fragment,{children:[b.jsx("style",{children:Lz}),b.jsx("aside",{id:"sidebar",className:"shadow-xl",onMouseEnter:()=>nt(!0),onMouseLeave:()=>nt(!1),children:b.jsx("div",{className:"flex flex-col h-full bg-white",children:b.jsx("div",{className:"flex-1 w-full overflow-y-auto sidebar-scrollable pt-6",children:b.jsxs("ul",{className:"w-full px-3 space-y-2",children:[b.jsx("li",{className:"mb-8 pl-1",children:b.jsxs("a",{href:"#",className:"sidebar-link hover:bg-transparent",onClick:ct=>ct.preventDefault(),children:[b.jsx("div",{className:"icon-container bg-teal-500 text-white shadow-md w-10 h-10 rounded-lg",children:b.jsx("span",{className:"font-bold text-lg",children:"MJ"})}),b.jsx("span",{className:"logo-text text-xl font-bold text-slate-800 ml-3 tracking-tight",children:"Medicina JVS"})]})}),[{id:"study-desk-view",title:"Mesa de estudo",icon:b.jsx("path",{strokeWidth:"1.5",d:"M3 5a2 2 0 012-2h10a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V5z M6 7h8M6 11h8"})},{id:"courses-view",title:"Meus Cursos",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"})},{id:"flashcards-view",title:"Flashcards",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v13m-7-6h14M6 4h12a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2z"})},{id:"questions-view",title:"Questes",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})},{id:"simulados-view",title:"Simulados",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})},{id:"performance-view",title:"Desempenho",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"})},{id:"rankings-view",title:"Rankings",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})},{id:"cast-view",title:"Cast",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2z"})},{id:"vip-view",title:"Sala VIP",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})},{id:"favorites-view",title:"Favoritos",icon:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.539 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.196-1.539-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})}].map(ct=>b.jsx("li",{children:b.jsxs("a",{href:"#",title:ct.title,className:`sidebar-link ${d===ct.id?"active":""}`,onClick:Bt=>{Bt.preventDefault(),ut(ct.id,ct.title)},children:[b.jsx("div",{className:"icon-container",children:b.jsx("svg",{className:"h-6 w-6",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:ct.icon})}),b.jsx("span",{className:"ms-4 sidebar-link-text font-medium",children:ct.title})]})},ct.id))]})})})}),b.jsxs("div",{className:"main-layout-wrapper",children:[b.jsx("div",{className:"dashboard-header w-full",children:b.jsxs("div",{className:"w-full px-4 md:px-8 py-4",children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("div",{className:"flex items-center",children:b.jsx("span",{id:"header-title",className:"text-2xl font-bold text-slate-800 tracking-tight",children:p})}),b.jsxs("div",{className:"flex items-center space-x-4",children:[b.jsxs("button",{onClick:()=>{f("favorites-view"),_("Favoritos")},className:"bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-4 rounded-lg flex items-center space-x-2 transition shadow-sm",children:[b.jsx("i",{className:"fa-solid fa-heart"}),b.jsx("span",{className:"hidden sm:inline",children:"Favoritos"}),b.jsx("span",{className:"bg-white text-rose-500 text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center ml-1",children:t.favorites?t.favorites.length:0})]}),b.jsxs("div",{className:"relative",children:[b.jsxs("button",{className:"bg-transparent text-slate-500 hover:text-slate-800 p-2 rounded-full hover:bg-gray-100 transition",onClick:ct=>{ct.stopPropagation(),P(!j),O(!1)},children:[b.jsx("i",{className:"fa-regular fa-bell text-xl"}),I>0&&b.jsx("span",{className:"absolute top-1 right-1 bg-red-500 text-white text-[10px] font-bold rounded-full h-4 w-4 flex items-center justify-center border-2 border-white",children:I})]}),j&&b.jsxs("div",{className:"absolute top-full right-0 mt-2 w-80 sm:w-96 bg-white rounded-xl shadow-xl border border-gray-100 z-50 overflow-hidden",children:[b.jsxs("div",{className:"bg-teal-600 text-white p-4 flex justify-between items-center",children:[b.jsx("h3",{className:"font-bold text-lg",children:"Notificaes"}),b.jsx("button",{onClick:()=>P(!1),className:"text-white hover:text-teal-200",children:b.jsx("i",{className:"fa-solid fa-xmark"})})]}),b.jsx("div",{className:"p-2 max-h-96 overflow-y-auto bg-gray-50",children:b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 mb-2",children:[b.jsx("span",{className:"text-[10px] font-bold bg-orange-100 text-orange-600 px-2 py-1 rounded uppercase tracking-wider",children:"News"}),b.jsx("h4",{className:"font-bold text-slate-800 mt-2 text-sm",children:"MEC endurece avaliao"}),b.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Novas regras para cursos de medicina."})]})})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx("button",{id:"profile-button",className:"w-10 h-10 bg-teal-500 rounded-full flex items-center justify-center text-white font-semibold shadow-md overflow-hidden",onClick:ct=>{ct.stopPropagation(),O(!U),P(!1)},children:t.image?b.jsx("img",{src:t.image,alt:"Profile",className:"w-full h-full object-cover"}):t.name?t.name.charAt(0).toUpperCase():"U"}),U&&b.jsxs("div",{id:"profile-menu",className:"absolute top-full right-0 mt-2 w-52 bg-white rounded-lg shadow-lg z-50 py-1 border border-gray-100",children:[b.jsxs("a",{href:"#",onClick:ct=>{ct.preventDefault(),dt("account-view","profile-content")},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[b.jsx("i",{className:"fa-regular fa-user w-6"}),"Minha conta"]}),b.jsxs("a",{href:"#",onClick:ct=>{ct.preventDefault(),dt("account-view","data-content")},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[b.jsx("i",{className:"fa-solid fa-tag w-6"}),"Minhas compras"]}),b.jsxs("a",{href:"#",onClick:ct=>{ct.preventDefault(),dt("account-view","access-content")},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[b.jsx("i",{className:"fa-regular fa-circle-question w-6"}),"Ajuda"]}),b.jsx("div",{className:"border-t border-gray-100 my-1"}),b.jsxs("a",{href:"#",onClick:z,className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[b.jsx("i",{className:"fa-solid fa-arrow-right-from-bracket w-6"}),"Sair"]})]})]})]})]}),b.jsxs("div",{className:"flex flex-wrap md:flex-nowrap items-center gap-4 w-full",children:[b.jsxs("div",{className:"relative custom-select-container w-full md:w-auto md:min-w-[240px]",children:[b.jsxs("button",{onClick:()=>bt(!Nt),className:"filter-input w-full text-left flex justify-between items-center custom-select-trigger cursor-pointer hover:border-blue-400",children:[b.jsx("span",{className:"truncate",children:"Navegar para..."}),b.jsx("i",{className:"fa-solid fa-chevron-down text-xs text-gray-400"})]}),Nt&&b.jsxs("div",{className:"absolute top-full left-0 mt-1 w-full bg-white rounded-lg z-50 custom-select-panel",children:[b.jsx("div",{className:"p-3 text-sm cursor-pointer hover:bg-gray-50 text-slate-700",onClick:()=>{ut("study-desk-view","Mesa de estudo"),bt(!1)},children:"Mesa de estudo"}),b.jsx("div",{className:"p-3 text-sm cursor-pointer hover:bg-gray-50 text-slate-700",onClick:()=>{ut("courses-view","Meus Cursos"),bt(!1)},children:"Meus Cursos"})]})]}),b.jsxs("div",{className:"relative custom-select-container w-full md:w-auto md:min-w-[240px]",children:[b.jsxs("button",{onClick:()=>lt(!Q),className:"filter-input w-full text-left flex justify-between items-center custom-select-trigger cursor-pointer hover:border-blue-400",children:[b.jsx("span",{className:"truncate",children:Y||"Todas as Especialidades"}),b.jsx("i",{className:"fa-solid fa-chevron-down text-xs text-gray-400"})]}),Q&&b.jsxs("div",{className:"absolute top-full left-0 mt-1 w-full bg-white rounded-lg z-50 custom-select-panel max-h-60 overflow-y-auto",children:[b.jsx("div",{className:"p-3 text-sm cursor-pointer hover:bg-gray-50 text-slate-700 font-semibold",onClick:()=>{$(""),lt(!1)},children:"Todas as Especialidades"}),ce.map(ct=>b.jsx("div",{className:"p-3 text-sm cursor-pointer hover:bg-gray-50 text-slate-700",onClick:()=>{$(ct),lt(!1)},children:ct},ct))]})]}),b.jsxs("div",{className:"relative flex-grow w-full md:w-auto",children:[b.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-4 z-10",children:b.jsx("i",{className:"fa-solid fa-magnifying-glass text-gray-400"})}),b.jsx("input",{type:"text",value:L,onChange:re,placeholder:"Buscar por ttulo, categoria, professor...",className:"filter-input w-full !pl-12 hover:border-blue-400 focus:border-blue-500"}),ft&&Zn.length>0&&b.jsx("div",{id:"autocomplete-list",className:"absolute top-full left-0 mt-1 w-full bg-white rounded-lg z-50 shadow-xl border border-gray-100",children:Zn.map(ct=>b.jsx("div",{onClick:()=>{H(ct.title),yt(!1)},className:"p-3 text-sm cursor-pointer hover:bg-gray-50 text-slate-700 border-b border-gray-50 last:border-0",children:ct.title},ct.id))})]}),b.jsxs("div",{className:"flex items-center space-x-2 bg-white p-1 rounded-lg border border-gray-200 shrink-0",children:[b.jsx("button",{onClick:()=>N(!0),className:`view-toggle-button border-0 ${et?"active shadow-sm":"hover:bg-gray-50"}`,children:b.jsx("i",{className:"fa-solid fa-grip"})}),b.jsx("button",{onClick:()=>N(!1),className:`view-toggle-button border-0 ${et?"hover:bg-gray-50":"active shadow-sm"}`,children:b.jsx("i",{className:"fa-solid fa-list"})})]})]})]})}),b.jsxs("main",{id:"main-content",className:"flex-1 w-full px-4 md:px-8 pt-40 md:pt-40 pb-10 flex flex-col",children:[b.jsx(zC,{children:b.jsxs("div",{className:"w-full flex-grow",children:[d==="courses-view"&&b.jsx("div",{id:"courses-view",className:"w-full animate-fade-in",children:b.jsx(Mz,{title:"Meus Cursos",subtitle:"Cursos disponveis na Plataforma Medicina JVS.",onOpenCourse:ct=>{ct?.driveUrl&&window.open(ct.driveUrl,"_blank","noopener,noreferrer")}})}),d==="flashcards-view"&&b.jsx("div",{id:"flashcards-view",className:"w-full animate-fade-in",children:b.jsx($z,{authUser:n,userRole:i,db:Hl})}),d==="favorites-view"&&b.jsxs("div",{id:"favorites-view",className:"w-full",children:[b.jsx("div",{className:"mb-8 border-b border-gray-200 pb-4",children:b.jsxs("h2",{className:"text-2xl font-bold text-slate-800",children:["Meus Favoritos ",b.jsxs("span",{className:"text-sm font-normal text-slate-500 ml-2",children:["(",t.favorites?t.favorites.length:0,")"]})]})}),t.favorites&&t.favorites.length>0?b.jsx("div",{id:"favorites-grid",className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-6",children:r.filter(ct=>t.favorites.includes(ct.id)).map(ct=>b.jsxs("div",{className:"bg-white rounded-lg shadow-md border border-gray-200 overflow-hidden flex flex-col h-full",children:[b.jsx("div",{className:"w-full aspect-video bg-gray-200 flex items-center justify-center text-gray-500",children:b.jsx("i",{className:"fa-solid fa-image text-3xl opacity-50"})}),b.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[b.jsxs("div",{className:"flex justify-between items-center mb-2",children:[b.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded ${ct.tagColor}`,children:ct.category}),b.jsx("button",{onClick:()=>xt(ct.id),className:"focus:outline-none transform active:scale-90 transition bg-transparent",children:b.jsx("i",{className:"fa-solid fa-heart text-red-500 text-lg"})})]}),b.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:ct.title}),b.jsx("button",{className:"mt-auto w-full bg-blue-600 text-white text-sm font-medium py-2 rounded-md hover:bg-blue-700 transition-colors",onClick:()=>zt(ct),children:"Acessar"})]})]},ct.id))}):b.jsxs("div",{className:"text-center py-20 w-full",children:[b.jsx("div",{className:"bg-rose-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:b.jsx("i",{className:"fa-solid fa-heart-crack text-3xl text-rose-300"})}),b.jsx("h3",{className:"mt-2 text-xl font-bold text-slate-800",children:"Nenhum favorito ainda"}),b.jsx("p",{className:"mt-1 text-slate-500",children:"Marque cursos com o corao para acess-los rapidamente aqui."})]})]}),d==="account-view"&&b.jsxs("div",{id:"account-view",className:"w-full flex flex-col animate-fade-in",children:[b.jsxs("div",{className:"w-full bg-blue-600 rounded-xl p-6 md:p-10 text-white relative overflow-hidden mb-8 shadow-lg flex flex-col md:flex-row items-center gap-6",children:[b.jsx("div",{className:"relative w-24 h-24 md:w-28 md:h-28 bg-teal-500 rounded-full flex items-center justify-center text-white text-4xl font-bold border-4 border-white/20 flex-shrink-0",children:t.image?b.jsx("img",{src:t.image,alt:"Perfil",className:"w-full h-full rounded-full object-cover"}):b.jsx("span",{children:t.name?t.name.charAt(0).toUpperCase():"U"})}),b.jsxs("div",{className:"flex-grow text-center md:text-left z-10",children:[b.jsx("p",{className:"text-blue-100 text-lg mb-1",children:"Bem-vindo(a),"}),b.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-3",children:t.name}),b.jsxs("label",{className:"inline-flex items-center gap-2 text-sm font-semibold bg-white/20 hover:bg-white/30 px-4 py-2 rounded-lg cursor-pointer transition-colors w-fit mx-auto md:mx-0",children:[b.jsx("i",{className:"fa-solid fa-camera"}),b.jsx("span",{children:"Alterar foto"}),b.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Tt})]})]}),b.jsx("div",{className:"absolute -right-16 -bottom-32 w-80 h-80 bg-white/10 rounded-full pointer-events-none"}),b.jsx("div",{className:"absolute right-20 -top-20 w-40 h-40 bg-white/5 rounded-full pointer-events-none"})]}),b.jsx("div",{className:"w-full mb-8",children:b.jsx("nav",{className:"flex flex-wrap gap-4 w-full",children:[{id:"profile-content",icon:"fa-user",label:"Meu Perfil"},{id:"data-content",icon:"fa-address-card",label:"Meus Dados"},{id:"access-content",icon:"fa-lock",label:"Meus Acessos"},{id:"donations-content",icon:"fa-hand-holding-heart",label:"Doaes"}].map(ct=>b.jsxs("button",{onClick:()=>E(ct.id),className:`px-6 py-3 rounded-lg font-medium text-sm flex items-center gap-2 transition-all transform active:scale-95 ${v===ct.id?"bg-slate-900 text-white shadow-md":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"}`,children:[b.jsx("i",{className:`fa-solid ${ct.icon}`}),ct.label]},ct.id))})}),b.jsxs("div",{className:"w-full",children:[v==="profile-content"&&b.jsxs("div",{className:"animate-fade-in w-full",children:[b.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 w-full",children:[b.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4 md:mb-0",children:"Detalhes do Perfil"}),!S&&b.jsxs("button",{onClick:()=>A(!0),className:"bg-teal-600 hover:bg-teal-700 text-white font-medium py-2 px-4 rounded-lg shadow-sm transition-colors flex items-center gap-2",children:[b.jsx("i",{className:"fa-solid fa-pencil"}),"Editar Perfil"]})]}),S?b.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm w-full",children:[b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 w-full",children:[b.jsxs("div",{className:"space-y-6 w-full",children:[b.jsxs("div",{children:[b.jsx("label",{className:"form-label mb-2",children:"Selecione seus Interesses"}),b.jsx("div",{className:"flex flex-wrap gap-2",children:["Medicina","Residncia","Concursos","Cardiologia","Pediatria"].map(ct=>b.jsx("button",{className:"px-3 py-1 rounded-full border border-gray-200 text-sm font-medium hover:bg-gray-50 text-gray-600 transition-colors",children:ct},ct))})]}),b.jsxs("div",{children:[b.jsx("label",{className:"form-label mb-2",children:"Redes Sociais"}),b.jsxs("div",{className:"flex flex-wrap gap-3",children:[b.jsx("button",{className:"w-10 h-10 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-pink-600 hover:border-pink-200",children:b.jsx("i",{className:"fa-brands fa-instagram"})}),b.jsx("button",{className:"w-10 h-10 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-blue-600 hover:border-blue-200",children:b.jsx("i",{className:"fa-brands fa-linkedin-in"})}),b.jsx("button",{className:"w-10 h-10 rounded-full border border-gray-200 flex items-center justify-center text-gray-500 hover:text-sky-500 hover:border-sky-200",children:b.jsx("i",{className:"fa-brands fa-twitter"})})]})]})]}),b.jsxs("div",{className:"w-full",children:[b.jsx("label",{className:"form-label mb-2",children:"Biografia"}),b.jsx("textarea",{className:"form-input h-48 resize-none w-full",placeholder:"Conte um pouco sobre voc...",value:t.bio||"",onChange:ct=>St({bio:ct.target.value})})]})]}),b.jsxs("div",{className:"flex justify-end gap-3 mt-8 pt-6 border-t border-gray-100",children:[b.jsx("button",{className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50",onClick:()=>A(!1),children:"Cancelar"}),b.jsx("button",{className:"px-4 py-2 rounded-lg bg-teal-600 text-white font-medium hover:bg-teal-700 shadow-sm",onClick:()=>A(!1),children:"Salvar Alteraes"})]})]}):b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 w-full",children:[b.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm w-full",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-50 flex items-center justify-center text-blue-600",children:b.jsx("i",{className:"fa-solid fa-location-dot text-lg"})}),b.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:"Localizao e Contato"})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Cidade / Estado"}),b.jsxs("p",{className:"font-semibold text-gray-800",children:[t.address?.city||"No informado"," - ",t.address?.state||""]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-1",children:"Redes Sociais"}),b.jsx("p",{className:"text-gray-500 italic",children:"Nenhuma rede vinculada"})]})]})]}),b.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm w-full",children:[b.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[b.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-50 flex items-center justify-center text-purple-600",children:b.jsx("i",{className:"fa-solid fa-align-left text-lg"})}),b.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:"Biografia"})]}),b.jsx("p",{className:"text-gray-600 leading-relaxed",children:t.bio||"Ol! Eu estou usando a plataforma Medicina JVS para impulsionar meus estudos."})]})]})]}),v==="data-content"&&b.jsxs("div",{className:"animate-fade-in w-full",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 w-full",children:[b.jsx("h3",{className:"text-2xl font-bold text-slate-800",children:"Meus Dados"}),!C&&b.jsxs("button",{onClick:()=>M(!0),className:"text-blue-600 font-medium hover:underline flex items-center gap-2",children:[b.jsx("i",{className:"fa-solid fa-pen"}),"Editar"]})]}),C?b.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm w-full",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6 w-full",children:[b.jsxs("div",{children:[b.jsx("label",{className:"form-label",children:"Nome Completo"}),b.jsx("input",{type:"text",className:"form-input",value:t.name,onChange:ct=>St({name:ct.target.value})})]}),b.jsxs("div",{children:[b.jsx("label",{className:"form-label",children:"Celular"}),b.jsx("input",{type:"text",className:"form-input",value:t.phone,onChange:ct=>St({phone:ct.target.value})})]}),b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("label",{className:"form-label",children:"Email (No editvel)"}),b.jsx("input",{type:"email",className:"form-input bg-gray-50 text-gray-500",value:t.email,disabled:!0})]})]}),b.jsxs("div",{className:"flex justify-end gap-3",children:[b.jsx("button",{className:"px-4 py-2 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50",onClick:()=>M(!1),children:"Cancelar"}),b.jsx("button",{className:"px-4 py-2 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700",onClick:()=>M(!1),children:"Salvar Dados"})]})]}):b.jsxs("div",{className:"space-y-6 w-full",children:[b.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm w-full",children:[b.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 pb-2 border-b border-gray-100",children:"Informaes Pessoais"}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6 w-full",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Nome Completo"}),b.jsx("p",{className:"font-semibold text-gray-900 break-words",children:t.name})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"CPF"}),b.jsx("p",{className:"font-semibold text-gray-900",children:t.cpf||"***.***.***-**"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Email"}),b.jsx("p",{className:"font-semibold text-gray-900 break-words",children:t.email})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Celular"}),b.jsx("p",{className:"font-semibold text-gray-900",children:t.phone||"(00) 00000-0000"})]})]})]}),b.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm w-full",children:[b.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 pb-2 border-b border-gray-100",children:"Endereo"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 w-full",children:[b.jsxs("div",{className:"md:col-span-2",children:[b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Logradouro"}),b.jsxs("p",{className:"font-semibold text-gray-900",children:[t.address?.street||"No informado",", ",t.address?.number]})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"CEP"}),b.jsx("p",{className:"font-semibold text-gray-900",children:t.address?.zip||"00000-000"})]})]})]})]})]}),v==="access-content"&&b.jsxs("div",{className:"animate-fade-in w-full",children:[b.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:"Meus Acessos"}),b.jsx("p",{className:"text-gray-500 mb-6",children:"Histrico de produtos adquiridos."}),b.jsx("div",{className:"flex flex-col gap-4 w-full",children:[{title:"Extensivo Residncia Mdica 2026",status:"Ativo",id:"#MED-9921"},{title:"Curso de Procedimentos Prticos",status:"Ativo",id:"#MED-9984"},{title:"Mentoria Semestral",status:"Expirado",id:"#MED-8122"}].map((ct,Bt)=>b.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-shadow flex flex-col md:flex-row justify-between items-start md:items-center gap-4 w-full",children:[b.jsxs("div",{className:"flex items-start gap-4",children:[b.jsx("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center text-white text-xl flex-shrink-0 ${ct.status==="Ativo"?"bg-teal-500":"bg-gray-400"}`,children:b.jsx("i",{className:"fa-solid fa-graduation-cap"})}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-gray-800 text-lg",children:ct.title}),b.jsxs("p",{className:"text-sm text-gray-500",children:["ID do Pedido: ",ct.id]})]})]}),b.jsx("span",{className:`px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide border ${ct.status==="Ativo"?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-600 border-gray-200"}`,children:ct.status==="Ativo"?b.jsxs(b.Fragment,{children:[b.jsx("i",{className:"fa-solid fa-circle-check mr-1.5"}),"Acesso Liberado"]}):"Expirado"})]},Bt))})]}),v==="donations-content"&&b.jsx("div",{className:"animate-fade-in w-full",children:b.jsxs("div",{className:"w-full bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-10 text-white text-center shadow-lg",children:[b.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-6 backdrop-blur-sm",children:b.jsx("i",{className:"fa-solid fa-heart text-3xl text-white"})}),b.jsx("h3",{className:"text-3xl font-bold mb-4",children:"Apoie o Projeto"}),b.jsx("p",{className:"text-indigo-100 text-lg max-w-2xl mx-auto mb-8 leading-relaxed",children:"Sua contribuio  fundamental para manter a plataforma ativa e trazer cada vez mais contedos de qualidade para estudantes de medicina."}),b.jsx("button",{className:"bg-white text-indigo-600 font-bold py-3.5 px-8 rounded-full shadow-lg hover:bg-gray-50 hover:scale-105 transition-all duration-200",children:"Fazer uma Doao"})]})})]})]}),!["courses-view","favorites-view","account-view","flashcards-view"].includes(d)&&b.jsx(Bz,{})]})}),d!=="undefined_view"&&b.jsx(UC,{})]})]})]})},Gz=({children:n,authReady:t,authUser:e})=>t?e?e.emailVerified?n:b.jsx(by,{to:"/verifique-email",replace:!0}):b.jsx(by,{to:"/login",replace:!0}):b.jsx(jz,{label:"Preparando sua sesso"});function Il(n){const t=n.getFullYear(),e=String(n.getMonth()+1).padStart(2,"0"),i=String(n.getDate()).padStart(2,"0");return`${t}-${e}-${i}`}function r0(n,t){const e=new Date(n);return e.setDate(e.getDate()+t),e}function Yz({easeFactor:n=2.5,interval:t=0,repetitions:e=0},i){const o={1:1,2:2,3:4,4:5}[i]??3;let l=n;l=l+(.1-(5-o)*(.08+(5-o)*.02)),l<1.3&&(l=1.3);let u=e,d=t;return o<3?(u=0,d=1):(u=u+1,u===1?d=1:u===2?d=6:d=Math.round(d*l)),{easeFactor:l,interval:d,repetitions:u,dueAt:r0(new Date,d)}}function Nl({children:n}){return b.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-semibold bg-blue-50 text-blue-700 border border-blue-100",children:n})}function TT({open:n,title:t,onClose:e,children:i}){return n?b.jsxs("div",{className:"fixed inset-0 z-[999] flex items-center justify-center p-4",children:[b.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:e}),b.jsxs("div",{className:"relative w-full max-w-3xl max-h-[90vh] bg-white rounded-2xl shadow-xl border border-slate-200 overflow-hidden flex flex-col",children:[b.jsxs("div",{className:"px-6 py-4 border-b border-slate-200 flex items-center justify-between",children:[b.jsx("h3",{className:"font-bold text-slate-900",children:t}),b.jsx("button",{onClick:e,className:"px-3 py-1.5 rounded-lg border border-slate-200 text-slate-700 hover:bg-slate-50",children:"Fechar"})]}),b.jsx("div",{className:"p-6",children:i})]})]}):null}class zC extends xI.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,e){console.error(t,e)}render(){return this.state.hasError?b.jsx("div",{className:"min-h-screen w-full grid place-items-center p-6",children:b.jsxs("div",{className:"max-w-xl w-full rounded-2xl border border-red-200 bg-red-50 p-6",children:[b.jsx("div",{className:"text-lg font-bold text-red-800",children:"Opa  algo deu errado nesta tela"}),b.jsx("div",{className:"mt-2 text-sm text-red-700 break-words",children:String(this.state.error)}),b.jsx("button",{className:"mt-4 rounded-xl bg-red-600 px-4 py-2 text-sm font-bold text-white",onClick:()=>window.location.reload(),children:"Recarregar"})]})}):this.props.children}}function $z({authUser:n,userRole:t,db:e}){const i=n?.uid,r=t==="admin",[o,l]=B.useState(!0),[u,d]=B.useState([]),[f,p]=B.useState("all"),[_,v]=B.useState("today"),[E,S]=B.useState(""),[A,C]=B.useState(!1),[M,L]=B.useState(!1),[H,Y]=B.useState(!1),[$,et]=B.useState(""),[N,I]=B.useState(new Set),[D,j]=B.useState(!1),[P,U]=B.useState(!1),[O,Nt]=B.useState("all"),[bt,Q]=B.useState([]),[lt,ft]=B.useState(0),[yt,St]=B.useState(!1),[z,nt]=B.useState({studiedToday:0,accuracyToday:0,streak:0,dueNow:0}),[ut,dt]=B.useState([]),[xt,Tt]=B.useState([]),zt=B.useRef(null),re=B.useRef(null),[ce,Zn]=B.useState(""),[ct,Bt]=B.useState(""),[Be,Ke]=B.useState(null),[ti,pi]=B.useState(""),[Er,Tr]=B.useState(""),[ke,Pe]=B.useState(""),[Pi,jo]=B.useState(""),[Va,dn]=B.useState(null);function Qe(tt,gt="info"){dn({msg:tt,kind:gt}),setTimeout(()=>dn(null),2800)}B.useEffect(()=>{if(!i)return;let tt=!1;return(async()=>{try{l(!0);const gt=ws(e,"users",i,"flashDecks"),Vt=my(gt,gy("createdAt","desc")),It=await Iu(Vt);if(tt)return;const te=It.docs.map(ee=>({id:ee.id,...ee.data()}));d(te)}catch(gt){console.error("Erro ao carregar decks:",gt)}finally{tt||l(!1)}})(),()=>{tt=!0}},[i,e]),B.useEffect(()=>{if(!i)return;let tt=!1;return(async()=>{try{const gt=Il(new Date),Vt=ws(e,"users",i,"flashDaily"),It=my(Vt,gy("dateKey","desc"),fT(60)),te=await Iu(It);if(tt)return;const ee=te.docs.map(ue=>({id:ue.id,...ue.data()})),De=ee.find(ue=>ue.dateKey===gt),Jt=Number(De?.studied||0),Fe=Number(De?.correct||0),kt=Jt>0?Math.round(Fe/Jt*100):0,ln=new Map(ee.map(ue=>[ue.dateKey,ue]));let _n=0,bn=new Date;for(let ue=0;ue<365;ue++){const ei=Il(bn),ji=ln.get(ei);if(ji&&Number(ji.studied||0)>0)_n+=1;else break;bn=r0(bn,-1)}const Sr=[];for(let ue=13;ue>=0;ue--){const ei=r0(new Date,-ue),ji=Il(ei),ni=ln.get(ji);Sr.push({dateKey:ji,studied:Number(ni?.studied||0),correct:Number(ni?.correct||0),incorrect:Number(ni?.incorrect||0)})}dt(Sr);let Ls=0;for(const ue of u){const ei=ws(e,"users",i,"flashDecks",ue.id,"cards"),ji=await Iu(ei);if(tt)return;ji.forEach(ni=>{const ns=ni.data(),Ar=ns.dueAt?.toMillis?ns.dueAt.toMillis():typeof ns.dueAt=="number"?ns.dueAt:0;Ar&&Ar<=Date.now()&&(Ls+=1)})}nt({studiedToday:Jt,accuracyToday:kt,streak:_n,dueNow:Ls})}catch(gt){console.error("Erro ao carregar mtricas:",gt)}})(),()=>{tt=!0}},[i,e,u]),B.useEffect(()=>{const tt=new Date,gt=new Date(tt.getFullYear(),tt.getMonth(),1),Vt=new Date(tt.getFullYear(),tt.getMonth()+1,0),It=gt.getDay(),te=Vt.getDate(),ee=new Map(ut.map(Jt=>[Jt.dateKey,Jt.studied])),De=[];for(let Jt=0;Jt<It;Jt++)De.push({key:`pad-${Jt}`,day:null,studied:0,isToday:!1});for(let Jt=1;Jt<=te;Jt++){const Fe=new Date(tt.getFullYear(),tt.getMonth(),Jt),kt=Il(Fe);De.push({key:kt,day:Jt,studied:ee.get(kt)||0,isToday:kt===Il(new Date)})}Tt(De)},[ut]),B.useEffect(()=>{if(!zt.current)return;const tt=ut.map(It=>It.dateKey.slice(5)),gt=ut.map(It=>It.studied),Vt=ut.map(It=>It.correct);if(re.current){re.current.data.labels=tt,re.current.data.datasets[0].data=gt,re.current.data.datasets[1].data=Vt,re.current.update();return}return re.current=new N0(zt.current,{type:"line",data:{labels:tt,datasets:[{label:"Cards estudados",data:gt,tension:.25},{label:"Acertos",data:Vt,tension:.25}]},options:{responsive:!0,plugins:{legend:{position:"bottom"},tooltip:{mode:"index",intersect:!1}},interaction:{mode:"nearest",axis:"x",intersect:!1},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}}}),()=>{re.current&&(re.current.destroy(),re.current=null)}},[ut]),B.useEffect(()=>{function tt(gt){bt.length&&((gt.key===" "||gt.key==="Enter")&&(gt.preventDefault(),St(Vt=>!Vt)),["1","2","3","4"].includes(gt.key)&&yt&&(gt.preventDefault(),Li(Number(gt.key))),gt.key==="ArrowLeft"&&(gt.preventDefault(),ft(Vt=>Math.max(0,Vt-1)),St(!1)),gt.key==="ArrowRight"&&(gt.preventDefault(),ft(Vt=>Math.min(bt.length-1,Vt+1)),St(!1)))}return window.addEventListener("keydown",tt),()=>window.removeEventListener("keydown",tt)},[bt,yt]);async function yi(tt=_){if(!i)return;const gt=new Date,Vt=f==="all"?u:u.filter(ee=>ee.id===f),It=f==="all"?N:new Set;let te=[];for(const ee of Vt){if(f==="all"&&It&&It.size>0&&!It.has(ee.name))continue;const De=ws(e,"users",i,"flashDecks",ee.id,"cards");(await Iu(my(De,gy("createdAt","desc"),fT(600)))).docs.forEach(Fe=>{const kt=Fe.data(),ln=kt?.dueAt?.toDate?kt.dueAt.toDate():null,_n=!!kt?.suspended,bn=ln?ln<=gt:!0,Sr=E?zn(kt.front).includes(zn(E))||zn(kt.back).includes(zn(E))||zn((kt.tags||[]).join(" ")).includes(zn(E)):!0;if(_n||!Sr)return;const Ls=!!kt?.lastReviewedAt,ue=kt?.lastRating===4;D&&Ls||P&&ue||O!=="all"&&(!kt?.lastRating||String(kt.lastRating)!==String(O))||(tt==="today"?bn&&te.push({id:Fe.id,deckId:ee.id,deckName:ee.name,...kt}):te.push({id:Fe.id,deckId:ee.id,deckName:ee.name,...kt}))})}tt==="free"&&(te=te.sort(()=>Math.random()-.5).slice(0,40)),tt==="today"&&(te=te.sort((ee,De)=>{const Jt=ee?.dueAt?.toDate?ee.dueAt.toDate().getTime():0,Fe=De?.dueAt?.toDate?De.dueAt.toDate().getTime():0;return Jt-Fe}).slice(0,60)),Q(te),ft(0),St(!1),te.length||Qe(tt==="today"?"Nenhum card para hoje ":"Nenhum card encontrado com os filtros atuais.")}async function Li(tt){const gt=bt[lt];if(gt)try{const Vt=Zl(e,"users",i,"flashDecks",gt.deckId,"cards",gt.id),It={easeFactor:gt.easeFactor??2.5,interval:gt.interval??0,repetitions:gt.repetitions??0},te=Yz(It,tt);await i0(Vt,{easeFactor:te.easeFactor,interval:te.interval,repetitions:te.repetitions,dueAt:te.dueAt,lastReviewedAt:new Date,updatedAt:new Date,lastRating:tt});const ee=Il(new Date),De=tt>=3;await Nu(ws(e,"users",i,"flashLogs"),{dateKey:ee,deckId:gt.deckId,deckName:gt.deckName||"",cardId:gt.id,rating:tt,correct:De,reviewedAt:new Date,ts:Kn()});const Jt=Zl(e,"users",i,"flashDaily",ee);await C_(Jt,{dateKey:ee,studied:0,correct:0,incorrect:0,updatedAt:Kn()},{merge:!0}),await i0(Jt,{studied:fy(1),correct:fy(De?1:0),incorrect:fy(De?0:1),updatedAt:Kn()});const Fe=Math.min(bt.length-1,lt+1);ft(Fe),St(!1),Q(kt=>kt.map((ln,_n)=>_n===lt?{...ln,...te}:ln))}catch{Qe("Erro ao salvar reviso. Verifique sua conexo e tente novamente.","error")}}async function es(){if(!r)return;const tt=ce.trim();if(!tt)return Qe("Digite um nome para o deck.");const gt=ct.split(",").map(Vt=>Vt.trim()).filter(Boolean);try{await Nu(ws(e,"users",i,"flashDecks"),{name:tt,tags:gt,createdAt:Kn(),updatedAt:Kn()}),Zn(""),Bt(""),Qe("Deck criado com sucesso ")}catch{Qe("No foi possvel criar o deck.","error")}}async function hc(){if(!r)return;if(!Be)return Qe("Selecione um deck.");const tt=ti.trim(),gt=Er.trim();if(!tt||!gt)return Qe("Preencha frente e verso.");const Vt=ke.split(",").map(It=>It.trim()).filter(Boolean);try{await Nu(ws(e,"users",i,"flashDecks",Be.id,"cards"),{front:tt,back:gt,tags:Vt,easeFactor:2.5,interval:0,repetitions:0,dueAt:new Date,createdAt:Kn(),updatedAt:Kn()}),pi(""),Tr(""),Pe(""),Qe("Card adicionado ")}catch{Qe("Erro ao adicionar card.","error")}}async function Vo(){if(!r)return;if(!Be)return Qe("Selecione um deck.");const tt=Pi.trim();if(!tt)return Qe("Cole o CSV (front;back;tags).");const gt=tt.split(`
`).map(te=>te.trim()).filter(Boolean);let Vt=0,It=0;for(const te of gt){const[ee,De,Jt]=te.split(";").map(kt=>(kt??"").trim());if(!ee||!De){It+=1;continue}const Fe=(Jt||"").split(",").map(kt=>kt.trim()).filter(Boolean);try{await Nu(ws(e,"users",i,"flashDecks",Be.id,"cards"),{front:ee,back:De,tags:Fe,easeFactor:2.5,interval:0,repetitions:0,dueAt:new Date,createdAt:Kn(),updatedAt:Kn()}),Vt+=1}catch{It+=1}}Qe(`Importao concluda: ${Vt} ok, ${It} falharam.`),jo("")}const Uo=u.filter(tt=>{const gt=zn(E);return gt?zn(tt.name).includes(gt)||zn((tt.tags||[]).join(" ")).includes(gt):!0}),_i=bt[lt];return b.jsxs("div",{className:"w-full",children:[Va&&b.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-[999]",children:b.jsx("div",{className:"px-4 py-3 rounded-xl bg-slate-900 text-white shadow-lg border border-white/10",children:Va.msg})}),b.jsxs("div",{className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Flashcards"}),b.jsx("p",{className:"text-slate-600",children:"Reviso espaada (SM-2), treino livre, filtros e mtricas por usurio."})]}),b.jsxs("div",{className:"flex flex-wrap gap-3",children:[b.jsx("button",{onClick:()=>{v("today"),yi("today")},className:`px-4 py-2 rounded-xl font-semibold transition border ${_==="today"?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-800 border-slate-200 hover:bg-slate-50"}`,children:"Cards para hoje"}),b.jsx("button",{onClick:()=>{v("free"),yi("free")},className:`px-4 py-2 rounded-xl font-semibold transition border ${_==="free"?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-800 border-slate-200 hover:bg-slate-50"}`,children:"Treino livre"}),r&&b.jsx("button",{onClick:()=>v("manage"),className:`px-4 py-2 rounded-xl font-semibold transition border ${_==="manage"?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-800 border-slate-200 hover:bg-slate-50"}`,children:"Gerenciar"}),b.jsx("button",{onClick:()=>C(!0),className:"px-4 py-2 rounded-xl border border-slate-200 bg-white text-slate-800 font-semibold hover:bg-slate-50 transition",children:"Tutorial"})]})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Cards estudados hoje"}),b.jsx("div",{className:"mt-2 text-2xl font-bold text-slate-900",children:z.studiedToday})]}),b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Acertos hoje"}),b.jsxs("div",{className:"mt-2 text-2xl font-bold text-slate-900",children:[z.accuracyToday,"%"]})]}),b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Sequncia"}),b.jsxs("div",{className:"mt-2 text-2xl font-bold text-slate-900",children:[z.streak," dias"]})]}),b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:"Cards para revisar"}),b.jsx("div",{className:"mt-2 text-2xl font-bold text-slate-900",children:z.dueNow})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("h3",{className:"font-bold text-slate-900",children:"Filtros"}),b.jsx(Nl,{children:f==="all"?"Todos os decks":"Deck selecionado"})]}),b.jsxs("button",{type:"button",onClick:()=>L(!0),className:"w-full mb-4 rounded-xl border border-slate-200 bg-white px-4 py-3 text-left text-sm font-semibold text-slate-800 shadow-sm transition hover:bg-slate-50 focus:outline-none focus:ring-4 focus:ring-blue-100",children:["Filtros de assuntos",b.jsx("div",{className:"mt-1 text-xs font-normal text-slate-500",children:f!=="all"?`Deck: ${u.find(tt=>tt.id===f)?.name||""}`:N.size?`${N.size} selecionado(s)`:"Todos"})]}),b.jsx("label",{className:"text-sm font-semibold text-slate-700",children:"Buscar"}),b.jsx("input",{value:E,onChange:tt=>S(tt.target.value),placeholder:"Ex.: cardio, antibitico, ECG...",className:"mt-1 w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-slate-900 placeholder:text-slate-400 shadow-sm outline-none transition focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}),b.jsx("label",{className:"mt-4 block text-sm font-semibold text-slate-700",children:"Deck"}),b.jsxs("select",{value:f,onChange:tt=>p(tt.target.value),className:"mt-1 w-full px-4 py-2 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[b.jsx("option",{value:"all",children:"Todos"}),Uo.map(tt=>b.jsx("option",{value:tt.id,children:tt.name},tt.id))]}),b.jsxs("div",{className:"mt-4 flex gap-3",children:[b.jsx("button",{onClick:()=>yi(_),className:"flex-1 px-4 py-2 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition",children:"Aplicar"}),b.jsx("button",{onClick:()=>{S(""),p("all")},className:"px-4 py-2 rounded-xl border border-slate-200 bg-white text-slate-800 font-semibold hover:bg-slate-50 transition",children:"Limpar"})]}),!r&&b.jsx("p",{className:"mt-4 text-xs text-slate-500",children:"Dica: se voc no encontrar cards, pea ao administrador para criar decks e adicionar cards."})]}),b.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("h3",{className:"font-bold text-slate-900",children:"Evoluo (ltimos 14 dias)"}),b.jsx("div",{className:"text-xs text-slate-500",children:"Cards estudados vs acertos"})]}),b.jsx("div",{className:"h-64",children:b.jsx("canvas",{ref:zt,className:"w-full h-full"})})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"lg:col-span-2 bg-white rounded-2xl border border-slate-200 p-6 shadow-sm",children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"font-bold text-slate-900",children:"Estudando"}),b.jsxs("p",{className:"text-sm text-slate-600",children:["Atalhos: ",b.jsx("b",{children:"Espao/Enter"})," (virar), ",b.jsx("b",{children:"14"})," (avaliar), ",b.jsx("b",{children:" "})," (navegar)"]})]}),b.jsx("div",{className:"text-sm text-slate-600",children:bt.length?b.jsxs("span",{children:[lt+1,"/",bt.length]}):b.jsx("span",{children:""})})]}),b.jsx("div",{className:"mt-5",children:bt.length?b.jsxs("div",{children:[b.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[b.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[b.jsx(Nl,{children:_i?.deckName||"Deck"}),Array.isArray(_i?.tags)&&_i.tags.slice(0,3).map(tt=>b.jsx(Nl,{children:tt},tt))]}),b.jsx("div",{className:"text-xs text-slate-500",children:_i?.dueAt?.toDate?`Prxima reviso: ${_i.dueAt.toDate().toLocaleDateString()}`:"Novo card"})]}),b.jsxs("div",{className:"rounded-2xl border border-slate-200 p-6 bg-slate-50 min-h-[220px] cursor-pointer select-none",onClick:()=>St(tt=>!tt),title:"Clique para virar (ou Espao/Enter)",children:[b.jsx("div",{className:"text-xs font-semibold text-slate-500 uppercase tracking-wide",children:yt?"Resposta":"Pergunta"}),b.jsx("div",{className:"mt-3 text-lg font-semibold text-slate-900 whitespace-pre-wrap",children:yt?_i?.back||"":_i?.front||""})]}),b.jsxs("div",{className:"mt-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:()=>{ft(tt=>Math.max(0,tt-1)),St(!1)},className:"px-4 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 font-semibold",children:" Voltar"}),b.jsx("button",{onClick:()=>{ft(tt=>Math.min(bt.length-1,tt+1)),St(!1)},className:"px-4 py-2 rounded-xl border border-slate-200 bg-white hover:bg-slate-50 font-semibold",children:"Avanar "})]}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.jsx("button",{disabled:!yt,onClick:()=>Li(1),className:`px-4 py-2 rounded-xl font-semibold ${yt?"bg-red-600 text-white hover:bg-red-700":"bg-slate-200 text-slate-500 cursor-not-allowed"}`,children:"1  Errei"}),b.jsx("button",{disabled:!yt,onClick:()=>Li(2),className:`px-4 py-2 rounded-xl font-semibold ${yt?"bg-amber-500 text-white hover:bg-amber-600":"bg-slate-200 text-slate-500 cursor-not-allowed"}`,children:"2  Difcil"}),b.jsx("button",{disabled:!yt,onClick:()=>Li(3),className:`px-4 py-2 rounded-xl font-semibold ${yt?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-200 text-slate-500 cursor-not-allowed"}`,children:"3  Mdio"}),b.jsx("button",{disabled:!yt,onClick:()=>Li(4),className:`px-4 py-2 rounded-xl font-semibold ${yt?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-slate-200 text-slate-500 cursor-not-allowed"}`,children:"4  Fcil"})]})]}),b.jsx("div",{className:"mt-4 text-xs text-slate-500",children:"Clique no card para virar, depois avalie. O sistema programa a prxima reviso automaticamente."})]}):b.jsxs("div",{className:"p-8 rounded-2xl border border-dashed border-slate-200 text-center",children:[b.jsx("div",{className:"text-slate-800 font-semibold",children:"Nenhum card carregado"}),b.jsx("div",{className:"text-slate-600 text-sm mt-1",children:"Use Cards para hoje ou Treino livre e aplique filtros se quiser."}),b.jsxs("div",{className:"mt-4 flex justify-center gap-3",children:[b.jsx("button",{onClick:()=>{v("today"),yi("today")},className:"px-4 py-2 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700 transition",children:"Cards para hoje"}),b.jsx("button",{onClick:()=>{v("free"),yi("free")},className:"px-4 py-2 rounded-xl border border-slate-200 bg-white text-slate-800 font-semibold hover:bg-slate-50 transition",children:"Treino livre"})]})]})})]}),b.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto text-[15px] leading-relaxed",children:[b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("h3",{className:"font-bold text-slate-900",children:"Calendrio de estudos"}),b.jsx(Nl,{children:new Date().toLocaleString("pt-BR",{month:"short"})})]}),b.jsx("div",{className:"grid grid-cols-7 gap-2 text-xs text-slate-500 mb-2",children:["D","S","T","Q","Q","S","S"].map(tt=>b.jsx("div",{className:"text-center",children:tt},tt))}),b.jsx("div",{className:"grid grid-cols-7 gap-2",children:xt.map(tt=>b.jsx("div",{className:["h-9 rounded-lg border flex items-center justify-center text-sm",tt.day?"border-slate-200":"border-transparent",tt.isToday?"bg-blue-50 border-blue-200":"bg-white",tt.studied>0?"ring-1 ring-emerald-200":""].join(" "),title:tt.day?`${tt.day}: ${tt.studied} cards`:"",children:tt.day?b.jsxs("div",{className:"flex flex-col items-center leading-tight",children:[b.jsx("span",{className:"font-semibold text-slate-700",children:tt.day}),tt.studied>0&&b.jsx("span",{className:"text-[10px] text-emerald-600 font-semibold",children:tt.studied})]}):b.jsx("span",{})},tt.key))})]}),b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("h3",{className:"font-bold text-slate-900",children:"Notificaes"}),b.jsxs(Nl,{children:[z.dueNow," para hoje"]})]}),b.jsxs("ul",{className:"text-sm text-slate-600 space-y-2",children:[b.jsxs("li",{children:[" Use ",b.jsx("b",{children:"Cards para hoje"})," para manter sua reviso em dia."]}),b.jsxs("li",{children:[" No ",b.jsx("b",{children:"Treino livre"}),", voc refora pontos fracos com mais repetio."]}),b.jsx("li",{children:" Se estiver sem decks, fale com o admin para liberar contedos."})]})]}),_==="manage"&&b.jsxs("div",{className:"bg-white rounded-2xl border border-slate-200 p-5 shadow-sm",children:[b.jsxs("div",{className:"flex items-center justify-between mb-2",children:[b.jsx("h3",{className:"font-bold text-slate-900",children:"Gerenciar"}),b.jsx(Nl,{children:"Admin"})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-slate-50",children:[b.jsx("div",{className:"font-semibold text-slate-800 mb-2",children:"Criar novo deck"}),b.jsx("input",{value:ce,onChange:tt=>Zn(tt.target.value),placeholder:"Nome do deck",className:"w-full px-4 py-2 rounded-xl border border-slate-200 bg-white"}),b.jsx("input",{value:ct,onChange:tt=>Bt(tt.target.value),placeholder:"Tags (separadas por vrgula)",className:"mt-2 w-full px-4 py-2 rounded-xl border border-slate-200 bg-white"}),b.jsx("button",{onClick:es,className:"mt-3 w-full px-4 py-2 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700",children:"Criar deck"})]}),b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-slate-50",children:[b.jsx("div",{className:"font-semibold text-slate-800 mb-2",children:"Adicionar cards"}),b.jsxs("select",{value:Be?.id||"",onChange:tt=>Ke(u.find(gt=>gt.id===tt.target.value)||null),className:"w-full px-4 py-2 rounded-xl border border-slate-200 bg-white",children:[b.jsx("option",{value:"",children:"Selecione o deck"}),u.map(tt=>b.jsx("option",{value:tt.id,children:tt.name},tt.id))]}),b.jsx("textarea",{value:ti,onChange:tt=>pi(tt.target.value),placeholder:"Frente (pergunta)",className:"mt-2 w-full px-4 py-2 rounded-xl border border-slate-200 bg-white min-h-[70px]"}),b.jsx("textarea",{value:Er,onChange:tt=>Tr(tt.target.value),placeholder:"Verso (resposta)",className:"mt-2 w-full px-4 py-2 rounded-xl border border-slate-200 bg-white min-h-[70px]"}),b.jsx("input",{value:ke,onChange:tt=>Pe(tt.target.value),placeholder:"Tags (opcional)",className:"mt-2 w-full px-4 py-2 rounded-xl border border-slate-200 bg-white"}),b.jsx("button",{onClick:hc,className:"mt-3 w-full px-4 py-2 rounded-xl bg-blue-600 text-white font-semibold hover:bg-blue-700",children:"Adicionar card"}),b.jsxs("div",{className:"mt-4 border-t border-slate-200 pt-4",children:[b.jsx("div",{className:"font-semibold text-slate-800 mb-2",children:"Importar CSV"}),b.jsxs("div",{className:"text-xs text-slate-500 mb-2",children:["Formato: ",b.jsx("b",{children:"frente;verso;tags"})," (tags por vrgula). 1 card por linha."]}),b.jsx("textarea",{value:Pi,onChange:tt=>jo(tt.target.value),placeholder:"Ex.: Qual a trade de Beck?;Hipotenso, turgncia jugular, bulhas abafadas;cardio,emergncia",className:"w-full px-4 py-2 rounded-xl border border-slate-200 bg-white min-h-[120px]"}),b.jsx("button",{onClick:Vo,className:"mt-3 w-full px-4 py-2 rounded-xl border border-slate-200 bg-white text-slate-800 font-semibold hover:bg-slate-50",children:"Importar"})]})]})]})]})]})]}),b.jsx(TT,{open:M,title:"Filtros de assuntos",onClose:()=>L(!1),children:b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[b.jsx("button",{type:"button",onClick:()=>{const tt=new Set(u.map(gt=>gt.name));I(tt)},className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50 focus:outline-none focus:ring-4 focus:ring-blue-100",children:"Selecionar todos"}),b.jsx("button",{type:"button",onClick:()=>I(new Set),className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50 focus:outline-none focus:ring-4 focus:ring-blue-100",children:"Desmarcar todos"}),b.jsxs("label",{className:"ml-auto inline-flex items-center gap-2 text-sm font-semibold text-slate-700",children:[b.jsx("span",{children:"Ver estatsticas"}),b.jsx("input",{type:"checkbox",checked:H,onChange:tt=>Y(tt.target.checked),className:"h-5 w-5 rounded border-slate-300 text-blue-600"})]})]}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{value:$,onChange:tt=>et(tt.target.value),placeholder:"Buscar assuntos...",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 pl-10 text-slate-900 placeholder:text-slate-400 shadow-sm outline-none transition focus:border-blue-500 focus:ring-4 focus:ring-blue-100"}),b.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:""})]}),b.jsx("div",{className:"max-h-[40vh] overflow-y-auto rounded-xl border border-slate-200",children:u.filter(tt=>zn(tt.name).includes(zn($))).map(tt=>{const gt=N.has(tt.name);return b.jsxs("label",{className:"flex items-center justify-between gap-3 px-4 py-3 border-b last:border-b-0 border-slate-100",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("input",{type:"checkbox",checked:gt,onChange:Vt=>{I(It=>{const te=new Set(It);return Vt.target.checked?te.add(tt.name):te.delete(tt.name),te})},className:"h-5 w-5 rounded border-slate-300 text-blue-600"}),b.jsx("span",{className:"font-semibold text-slate-900",children:tt.name})]}),H?b.jsx("span",{className:"text-xs font-semibold text-slate-500",children:""}):b.jsx("span",{})]},tt.id)})}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 pt-2",children:[b.jsxs("div",{className:"rounded-xl border border-slate-200 p-4",children:[b.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Excluir"}),b.jsxs("label",{className:"flex items-center gap-3 text-slate-700",children:[b.jsx("input",{type:"checkbox",checked:D,onChange:tt=>j(tt.target.checked),className:"h-5 w-5 rounded border-slate-300 text-blue-600"}),b.jsx("span",{children:"Vistos"})]}),b.jsxs("label",{className:"mt-2 flex items-center gap-3 text-slate-700",children:[b.jsx("input",{type:"checkbox",checked:P,onChange:tt=>U(tt.target.checked),className:"h-5 w-5 rounded border-slate-300 text-blue-600"}),b.jsx("span",{children:"Dominados"})]})]}),b.jsxs("div",{className:"rounded-xl border border-slate-200 p-4",children:[b.jsx("div",{className:"font-bold text-slate-900 mb-3",children:"Dificuldade"}),b.jsxs("div",{className:"flex flex-wrap gap-2",children:[[{k:"1",label:"Errei"},{k:"2",label:"Difcil"},{k:"3",label:"Moderado"},{k:"4",label:"Fcil"}].map(tt=>b.jsx("button",{type:"button",onClick:()=>Nt(tt.k),className:"rounded-xl border px-4 py-2 text-sm font-semibold transition focus:outline-none focus:ring-4 focus:ring-blue-100 "+(O===tt.k?"border-blue-300 bg-blue-50 text-blue-800":"border-slate-200 bg-white text-slate-800 hover:bg-slate-50"),children:tt.label},tt.k)),b.jsx("button",{type:"button",onClick:()=>Nt("all"),className:"rounded-xl border px-4 py-2 text-sm font-semibold transition focus:outline-none focus:ring-4 focus:ring-blue-100 "+(O==="all"?"border-blue-300 bg-blue-50 text-blue-800":"border-slate-200 bg-white text-slate-800 hover:bg-slate-50"),children:"Todos"})]})]})]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 pt-2",children:[b.jsx("button",{type:"button",onClick:()=>{L(!1),yi(_)},className:"flex-1 rounded-xl bg-blue-600 px-4 py-3 text-sm font-bold text-white shadow-sm transition hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-100",children:"Aplicar filtros"}),b.jsx("button",{type:"button",onClick:()=>{et(""),I(new Set),j(!1),U(!1),Nt("all")},className:"rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm font-semibold text-slate-800 hover:bg-slate-50 focus:outline-none focus:ring-4 focus:ring-blue-100",children:"Redefinir"})]})]})}),b.jsx(TT,{open:A,title:"Tutorial de Flashcards",onClose:()=>C(!1),children:b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"O que  Reviso Espaada?"}),b.jsx("p",{className:"text-slate-700",children:"A cada flashcard, voc avalia o quanto sabe daquele assunto. Essa avaliao agenda automaticamente a prxima reviso no momento ideal para fixar de verdade."}),b.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-slate-50",children:[b.jsx("b",{children:"1  Errei"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Desconhecia a resposta e o tema."})]}),b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-slate-50",children:[b.jsx("b",{children:"2  Difcil"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Conhecia o tema, mas errei."})]}),b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-slate-50",children:[b.jsx("b",{children:"3  Mdio"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Acertei, porm com dificuldade."})]}),b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-slate-50",children:[b.jsx("b",{children:"4  Fcil"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Acertei de imediato."})]})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Comandos de teclado"}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-slate-700",children:[b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-white",children:[b.jsx("b",{children:"Espao / Enter"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Mostra/oculta a resposta."})]}),b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-white",children:[b.jsx("b",{children:" / "}),b.jsx("div",{className:"text-sm text-slate-600",children:"Voltar ou avanar no deck."})]}),b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-white",children:[b.jsx("b",{children:"1  2  3  4"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Errei, Difcil, Mdio, Fcil."})]}),b.jsxs("div",{className:"p-4 rounded-xl border border-slate-200 bg-white",children:[b.jsx("b",{children:"Clique no card"}),b.jsx("div",{className:"text-sm text-slate-600",children:"Tambm vira o flashcard."})]})]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Modo de aprendizado"}),b.jsxs("p",{className:"text-slate-700",children:[b.jsx("b",{children:"Cards para hoje"})," prioriza o que est vencido. ",b.jsx("b",{children:"Treino livre"})," serve para reforo (mistura e embaralha)."]})]}),b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-slate-900 mb-2",children:"Filtros de assuntos"}),b.jsx("p",{className:"text-slate-700",children:"Use a busca para filtrar por tema, tags ou texto do card. Selecione um deck especfico para foco total."})]})]})})]})}function Wz(){const[n,t]=B.useState(!1),[e,i]=B.useState(null),[r,o]=B.useState(null),[l,u]=B.useState("aluno"),[d,f]=B.useState(Vz);return B.useEffect(()=>{const p=mV(uh,async _=>{i(_||null),t(!0)});return()=>p()},[]),B.useEffect(()=>{(async()=>{if(!e){o(null),u("aluno");return}if(!e.emailVerified)return;const _=Zl(Hl,"users",e.uid),v=await qU(_);if(v.exists()){const E=v.data();o(E),u(E?.role||"aluno")}else{const E={name:e.displayName||(e.email?e.email.split("@")[0]:"Usurio"),email:e.email||"",phone:"",cpf:"",birthdate:"",address:"",bio:"",image:"",favorites:[],role:"aluno",createdAt:Kn(),updatedAt:Kn()};await C_(_,E),o(E),u("aluno")}try{await Nu(ws(Hl,"users",e.uid,"accessLogs"),{ts:Kn(),userAgent:navigator.userAgent})}catch{}})()},[e]),B.useEffect(()=>{if(!n||!e||!e.emailVerified)return;let p=!1;return(async()=>{try{const _=await Iu(ws(Hl,"courses"));if(p)return;const v=[];_.forEach(E=>v.push({id:E.id,...E.data()})),v.length&&f(v)}catch(_){console.warn("No foi possvel carregar cursos do Firestore (usando fallback local).",_)}})(),()=>{p=!0}},[n,e]),b.jsxs(zC,{children:[b.jsx("style",{children:Oz}),b.jsx(KN,{children:b.jsxs(SN,{children:[b.jsx(ir,{path:"/login",element:b.jsx(Fz,{})}),b.jsx(ir,{path:"/verifique-email",element:b.jsx(Hz,{authUser:e})}),b.jsx(ir,{path:"/privacidade",element:b.jsx(bf,{to:`${Oi}/politicaPrivacidade.html`})}),b.jsx(ir,{path:"/termos",element:b.jsx(bf,{to:`${Oi}/termosUso.html`})}),b.jsx(ir,{path:"/suporte",element:b.jsx(bf,{to:`${Oi}/suporte.html`})}),b.jsx(ir,{path:"/cookies",element:b.jsx(bf,{to:`${Oi}/cookies.html`})}),b.jsx(ir,{path:"/",element:b.jsx(Gz,{authReady:n,authUser:e,children:b.jsx(qz,{authUser:e,userData:r||{name:e?.displayName||"",email:e?.email||"",image:"",favorites:[],role:l},setUserData:o,userRole:l,courses:d})})}),b.jsx(ir,{path:"*",element:b.jsx(by,{to:"/login",replace:!0})})]})})]})}RI.createRoot(document.getElementById("root")).render(b.jsx(B.StrictMode,{children:b.jsx(Wz,{})}));
